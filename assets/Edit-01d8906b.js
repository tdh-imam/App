import{K as Ut,Z as He,L as Ze,R as Et,Q as Dt,S as Lt,r as dt,h as et,o as n,j as G,w as N,c,J as Q,b as g,$ as Ft,i as ie,a as t,X as Ke,k as d,x as A,Y as zt,a3 as At,C as Rt,H as Mt,g as U,l as Bt,f as It,m as Tt,D as ue,p as J,E as it,_ as Nt,n as Je,t as _,u as e,G as qe,e as w,q as Gt,F as Pt,s as I,a6 as Xe,A as jt,B as Yt}from"./index-1c6f1511.js";import{s as F}from"./dropdown.esm-ecbf973e.js";import{s as Y}from"./inputtext.esm-076d0f09.js";import{F as Wt,s as pe,a as Ht}from"./dialog.esm-2c140e9f.js";import{s as Re}from"./calendar.esm-341abf1d.js";import{L as Zt}from"./Loading-b35f5d61.js";import{s as Me,a as Kt}from"./tabpanel.esm-204ba6e4.js";import{s as Jt}from"./dataview.esm-dffa582d.js";import{s as qt}from"./confirmdialog.esm-085402d4.js";import{u as Qe,r as T,n as de,i as ot}from"./index-44873c96.js";import{u as Xt}from"./store-4fb9208d.js";import{u as Qt}from"./globalStore-31e677fe.js";import{E as ea}from"./serverValidation-35937a0f.js";import{w as ta}from"./zscore-9e188e39.js";import{i as aa}from"./mm-phone-validate-fed13507.js";import"./index.esm-c3e0ffb5.js";import"./paginator.esm-b978af7c.js";var sa=`
.p-sidebar-mask {
    display: none;
    pointer-events: none;
    background-color: transparent;
    transition-property: background-color;
}

.p-sidebar-mask.p-component-overlay {
    pointer-events: auto;
}

.p-sidebar-visible {
    display: flex;
}

.p-sidebar {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    transform: translate3d(0px, 0px, 0px);
    position: relative;
    transition: transform 0.3s;
}

.p-sidebar-content {
    overflow-y: auto;
    flex-grow: 1;
}

.p-sidebar-header {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
}

.p-sidebar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

.p-sidebar-full .p-sidebar {
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    max-height: 100%;
    top: 0px !important;
    left: 0px !important;
}

/* Animation */
/* Center */
.p-sidebar-left .p-sidebar-enter-from,
.p-sidebar-left .p-sidebar-leave-to {
    transform: translateX(-100%);
}
.p-sidebar-right .p-sidebar-enter-from,
.p-sidebar-right .p-sidebar-leave-to {
    transform: translateX(100%);
}
.p-sidebar-top .p-sidebar-enter-from,
.p-sidebar-top .p-sidebar-leave-to {
    transform: translateY(-100%);
}
.p-sidebar-bottom .p-sidebar-enter-from,
.p-sidebar-bottom .p-sidebar-leave-to {
    transform: translateY(100%);
}
.p-sidebar-full .p-sidebar-enter-from,
.p-sidebar-full .p-sidebar-leave-to {
    opacity: 0;
}
.p-sidebar-full .p-sidebar-enter-active,
.p-sidebar-full .p-sidebar-leave-active {
    transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Size */
.p-sidebar-left .p-sidebar {
    width: 20rem;
    height: 100%;
}

.p-sidebar-right .p-sidebar {
    width: 20rem;
    height: 100%;
}

.p-sidebar-top .p-sidebar {
    height: 10rem;
    width: 100%;
}

.p-sidebar-bottom .p-sidebar {
    height: 10rem;
    width: 100%;
}

.p-sidebar-left .p-sidebar-sm,
.p-sidebar-right .p-sidebar-sm {
    width: 20rem;
}

.p-sidebar-left .p-sidebar-md,
.p-sidebar-right .p-sidebar-md {
    width: 40rem;
}

.p-sidebar-left .p-sidebar-lg,
.p-sidebar-right .p-sidebar-lg {
    width: 60rem;
}

.p-sidebar-top .p-sidebar-sm,
.p-sidebar-bottom .p-sidebar-sm {
    height: 10rem;
}

.p-sidebar-top .p-sidebar-md,
.p-sidebar-bottom .p-sidebar-md {
    height: 20rem;
}

.p-sidebar-top .p-sidebar-lg,
.p-sidebar-bottom .p-sidebar-lg {
    height: 30rem;
}

.p-sidebar-left .p-sidebar-content,
.p-sidebar-right .p-sidebar-content,
.p-sidebar-top .p-sidebar-content,
.p-sidebar-bottom .p-sidebar-content {
    width: 100%;
    height: 100%;
}

@media screen and (max-width: 64em) {
    .p-sidebar-left .p-sidebar-lg,
    .p-sidebar-left .p-sidebar-md,
    .p-sidebar-right .p-sidebar-lg,
    .p-sidebar-right .p-sidebar-md {
        width: 20rem;
    }
}
`,ia={mask:function(p){var S=p.position;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:S==="left"?"flex-start":S==="right"?"flex-end":"center",alignItems:S==="top"?"flex-start":S==="bottom"?"flex-end":"center"}}},oa={mask:function(p){var S=p.instance,a=p.props,C=["left","right","top","bottom"],h=C.find(function(ee){return ee===a.position});return["p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":a.modal,"p-sidebar-mask-scrollblocker":a.blockScroll,"p-sidebar-visible":S.containerVisible,"p-sidebar-full":S.fullScreen},h?"p-sidebar-".concat(h):""]},root:function(p){var S=p.instance;return["p-sidebar p-component",{"p-input-filled":S.$primevue.config.inputStyle==="filled","p-ripple-disabled":S.$primevue.config.ripple===!1,"p-sidebar-full":S.fullScreen}]},header:"p-sidebar-header",headerContent:"p-sidebar-header-content",closeButton:"p-sidebar-close p-sidebar-icon p-link",closeIcon:"p-sidebar-close-icon",content:"p-sidebar-content"},la=Ut(sa,{name:"sidebar",manual:!0}),na=la.load,da={name:"BaseSidebar",extends:At,props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:void 0},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},css:{classes:oa,inlineStyles:ia,loadStyle:na},provide:function(){return{$parentInstance:this}}},rt={name:"Sidebar",extends:da,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],data:function(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&He.clear(this.mask),this.container=null,this.mask=null},methods:{hide:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.focus(),this.autoZIndex&&He.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.enableDocumentSettings()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&Ze.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(){this.autoZIndex&&He.clear(this.mask),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick:function(p){this.dismissable&&this.modal&&this.mask===p.target&&this.hide()},focus:function(){var p=function(C){return C&&C.querySelector("[autofocus]")},S=this.$slots.default&&p(this.content);S||(S=this.$slots.header&&p(this.headerContainer),S||(S=p(this.container))),S&&S.focus()},enableDocumentSettings:function(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&Ze.addClass(document.body,"p-overflow-hidden")},disableDocumentSettings:function(){this.unbindOutsideClickListener(),this.blockScroll&&Ze.removeClass(document.body,"p-overflow-hidden")},onKeydown:function(p){p.code==="Escape"&&this.hide()},containerRef:function(p){this.container=p},maskRef:function(p){this.mask=p},contentRef:function(p){this.content=p},headerContainerRef:function(p){this.headerContainer=p},closeButtonRef:function(p){this.closeButton=p},bindOutsideClickListener:function(){var p=this;this.outsideClickListener||(this.outsideClickListener=function(S){p.isOutsideClicked(S)&&p.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked:function(p){return this.container&&!this.container.contains(p.target)}},computed:{fullScreen:function(){return this.position==="full"},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:Wt,ripple:Et},components:{Portal:Dt,TimesIcon:Lt}};function he(l){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},he(l)}function lt(l,p){var S=Object.keys(l);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(l);p&&(a=a.filter(function(C){return Object.getOwnPropertyDescriptor(l,C).enumerable})),S.push.apply(S,a)}return S}function nt(l){for(var p=1;p<arguments.length;p++){var S=arguments[p]!=null?arguments[p]:{};p%2?lt(Object(S),!0).forEach(function(a){ra(l,a,S[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(S)):lt(Object(S)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(S,a))})}return l}function ra(l,p,S){return p=ca(p),p in l?Object.defineProperty(l,p,{value:S,enumerable:!0,configurable:!0,writable:!0}):l[p]=S,l}function ca(l){var p=_a(l,"string");return he(p)==="symbol"?p:String(p)}function _a(l,p){if(he(l)!=="object"||l===null)return l;var S=l[Symbol.toPrimitive];if(S!==void 0){var a=S.call(l,p||"default");if(he(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(l)}var ma=["aria-modal"],ua=["aria-label"];function pa(l,p,S,a,C,h){var ee=dt("Portal"),Z=et("ripple"),oe=et("focustrap");return n(),G(ee,null,{default:N(function(){return[C.containerVisible?(n(),c("div",Q({key:0,ref:h.maskRef,onMousedown:p[2]||(p[2]=function(){return h.onMaskClick&&h.onMaskClick.apply(h,arguments)}),class:l.cx("mask"),style:l.sx("mask",!0,{position:l.position})},l.ptm("mask")),[g(Ft,Q({name:"p-sidebar",onEnter:h.onEnter,onAfterEnter:h.onAfterEnter,onBeforeLeave:h.onBeforeLeave,onLeave:h.onLeave,onAfterLeave:h.onAfterLeave,appear:""},l.ptm("transition")),{default:N(function(){return[l.visible?ie((n(),c("div",Q({key:0,ref:h.containerRef,class:l.cx("root"),role:"complementary","aria-modal":l.modal,onKeydown:p[1]||(p[1]=function(){return h.onKeydown&&h.onKeydown.apply(h,arguments)})},nt(nt({},l.$attrs),l.ptm("root"))),[t("div",Q({ref:h.headerContainerRef,class:l.cx("header")},l.ptm("header")),[l.$slots.header?(n(),c("div",Q({key:0,class:l.cx("headerContent")},l.ptm("headerContent")),[Ke(l.$slots,"header")],16)):d("",!0),l.showCloseIcon?ie((n(),c("button",Q({key:1,ref:h.closeButtonRef,autofocus:"",type:"button",class:l.cx("closeButton"),"aria-label":h.closeAriaLabel,onClick:p[0]||(p[0]=function(){return h.hide&&h.hide.apply(h,arguments)})},l.ptm("closeButton"),{"data-pc-group-section":"iconcontainer"}),[Ke(l.$slots,"closeicon",{class:A(l.cx("closeIcon"))},function(){return[(n(),G(zt(l.closeIcon?"span":"TimesIcon"),Q({class:[l.cx("closeIcon"),l.closeIcon]},l.ptm("closeIcon")),null,16,["class"]))]})],16,ua)),[[Z]]):d("",!0)],16),t("div",Q({ref:h.contentRef,class:l.cx("content")},l.ptm("content")),[Ke(l.$slots,"default")],16)],16,ma)),[[oe]]):d("",!0)]}),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):d("",!0)]}),_:3})}rt.render=pa;const ha=()=>{const l=Xt(),p=Qt(),S=Rt(),a=Mt(),C=U(!1),h=new ea,ee=Bt(),Z=U(!1),oe=U({disableBiographicInfo:!1,disableMedicalExamination:!1,disableFollowUp:!1,disableDischarge:!0}),le=U([{code:"Yangon",name:"Yangon"}]),re=U(!1),ge=U(!1),fe=U(!1),ve=U([]),be=U([]),ce=U(!0),ye=U([]),K=U([]),q=U(),H=U([]),we=U([]),ke=U([]),O=U([]),$e=U([]),Ve=U([]),xe=U([]),x=U([]),z=U([]),V=U([]),m=U([]),P=U([]),M=U([]),Ce=U([]),D=U([]);It(()=>{Ie(),W(),Se(),se(),St()}),Tt(()=>{l.$dispose()});const Ie=async()=>{C.value=!0,await p.fetchAllEnums();const s=p.getAllEnumResponse;if(s){const{options:b}=s.data;ye.value=b.screening_type.map(u=>({name:u,code:u})),K.value=b.type.map(u=>({name:u,code:u})),q.value=b.gender.map(u=>({name:u,code:u})),H.value=b.age_group.map(u=>({name:u,code:u})),we.value=b.yes_no.map(u=>({name:u,code:u})),ke.value=b.donar.map(u=>({name:u,code:u})),O.value=b.wfh_zscore.map(u=>({name:u,code:u})),Ve.value=b.bilateral_pitting_odema.map(u=>({name:u,code:u})),$e.value=b.appetite_test.map(u=>({name:u,code:u})),xe.value=b.immunization_status.map(u=>({name:u,code:u})),x.value=b.type_of_case.map(u=>({name:u,code:u})),z.value=b.case_category.map(u=>({name:u,code:u,visible:!0})),V.value=b.admission_criteria.map(u=>({name:u,code:u,visible:!0})),m.value=b.category_of_criteria.map(u=>({name:u,code:u})),P.value=b.criteria_group.map(u=>({name:u,code:u,visible:!0})),M.value=b.discharge_status.map(u=>({name:u,code:u})),Ce.value=b.discharge_category.map(u=>({name:u,code:u})),D.value=b.discharge_with.map(u=>({name:u,code:u})),Le.value=b.food.map(u=>({name:u,code:u})),te.value=b.follow_up_result.map(u=>({name:u,code:u}))}},W=async()=>{C.value=!0,await p.fetchAllTownship();const s=p.getAllTownshipResponse;if(s){const{options:b}=s.data;ve.value=b}},Se=async()=>{ce.value=!0,await p.fetchAllWards({township:y.township});const s=p.getAllWardResponse;s&&(be.value=s,ce.value=!1)},y=ue({am_number:"",id:"",screening_type:"",state:"",township:"",village:"",patient_name:"",type:"",gender:"",date_of_birth:"",age_group:"",disability:"",phone_number:"",father_name:"",husband_name:"",receiving_cash_assistant:"",yes_which_donar:"",status:""}),Oe=U({}),_e={am_number:{},screening_type:{required:T},state:{required:T},township:{required:T},village:{required:T},patient_name:{required:T},type:{required:T},gender:{required:T},date_of_birth:{required:T},age_group:{required:T},disability:{required:T},phone_number:{required:T},father_name:{},husband_name:{},receiving_cash_assistant:{},yes_which_donar:{},status:{}},Ue=U(!1),Te=Qe(_e,y),Ne=s=>{Ue.value=!0,s&&(C.value||R())},R=async()=>{h.clear(),C.value=!0;try{await l.updateBiographicInfo({id:y.id,case_id:a.params.id,screening_type:y.screening_type,state:y.state,township:y.township,village:y.village,patient_name:y.patient_name,type:y.type,gender:y.gender,date_of_birth:y.date_of_birth,age_group:y.age_group,disability:y.disability,phone_number:y.phone_number,father_name:y.father_name,husband_name:y.husband_name,receiving_cash_assistant:y.receiving_cash_assistant,yes_which_donar:y.yes_which_donar}),l.getUpdateBiographicInfoResponse&&(ne("Biographic Info for patient "+y.patient_name+" is requested to update.","success"),ge.value=!1,se()),C.value=!1}catch(s){C.value=!1,s.status===422&&ne(s.data.message,1e4)}},r=ue({id:"",muac_cm:null,weight_kg:null,height_cm:null,wfh_zscore:"",bilateral_pitting_oedema:"",medical_illness_complication:"",appetite_test:"",immunization_status:"",deworming:"",vit_a_supplement:"",type_of_case:"",case_category:"",admission_criteria:"",category_of_criteria:"",criteria_group:"",date_of_admission:null,admitted_year:null,admitted_month:null,status:""}),j=U({}),v={muac_cm:{numeric:de},weight_kg:{numeric:de},height_cm:{numeric:de},wfh_zscore:{},bilateral_pitting_oedema:{},medical_illness_complication:{},appetite_test:{},immunization_status:{},deworming:{},vit_a_supplement:{},type_of_case:{},case_category:{},admission_criteria:{},category_of_criteria:{},criteria_group:{},date_of_admission:{},admitted_year:{integer:ot,required:T},admitted_month:{integer:ot,required:T},status:{}},f=U(!1),Ge=Qe(v,r),Ee=s=>{f.value=!0,s&&(C.value||Pe())},Pe=async()=>{h.clear(),C.value=!0;try{await l.updateMedicalExamination({id:r.id,case_id:a.params.id,muac_cm:r.muac_cm,weight_kg:r.weight_kg,height_cm:r.height_cm,wfh_zscore:r.wfh_zscore,bilateral_pitting_oedema:r.bilateral_pitting_oedema,medical_illness_complication:r.medical_illness_complication,appetite_test:r.appetite_test,immunization_status:r.immunization_status,deworming:r.deworming,vit_a_supplement:r.vit_a_supplement,type_of_case:r.type_of_case,case_category:r.case_category,admission_criteria:r.admission_criteria,category_of_criteria:r.category_of_criteria,criteria_group:r.criteria_group,date_of_admission:r.date_of_admission,admitted_year:r.admitted_year,admitted_month:r.admitted_month}),l.getUpdateMedicalExaminationResponse&&(fe.value=!1,se()),C.value=!1}catch(s){if(C.value=!1,s.status===422){const b=s.data.data;h.record(b)}}},$=ue({id:null,discharge_status:"",discharge_category:"",discharge_with:"",date_of_discharge:"",discharge_year:"",discharge_month:"",discharge_muac_cm:"",discharge_weight_kg:"",discharge_height_cm:"",discharge_wfh_zscore:"",length_of_stay:"",status:null}),De=U({}),je=()=>{C.value||Ye()},Ye=async()=>{h.clear(),C.value=!0;try{await l.saveDischarge({id:$.id,case_id:a.params.id,discharge_status:$.discharge_status,discharge_category:$.discharge_category,discharge_with:$.discharge_with,date_of_discharge:$.date_of_discharge,discharge_year:$.discharge_year,discharge_month:$.discharge_month,discharge_muac_cm:$.discharge_muac_cm,discharge_weight_kg:$.discharge_weight_kg,discharge_height_cm:$.discharge_height_cm,discharge_wfh_zscore:$.discharge_wfh_zscore,length_of_stay:$.length_of_stay}),l.getSaveDischargeResponse&&(se(),re.value=!1),C.value=!1}catch(s){if(C.value=!1,s.status===422){const b=s.data.data;h.record(b)}}},L=U([]),Le=U([]),te=U([]),Fe=U("Add Follow Up");let B=!1;const i={id:"",case_id:"",date_of_visit:"",muac_cm:null,weight_kg:null,oedema:"",food:"",food_kg:null,follow_up_result:"Continue Follow Up"},E=ue({...i});function X(){Object.keys(i).forEach(s=>{E[s]=i[s]})}const o={date_of_visit:{required:T},muac_cm:{numeric:de},weight_kg:{numeric:de},oedema:{},food:{},food_kg:{numeric:de},follow_up_result:{required:T}},ze=U(!1);let ae=Qe(o,E);const ct=()=>{Z.value=!0,E.value=ue({...i}),ae.value.date_of_visit.$model="",ae.value.muac_cm.$model=null,ae.value.weight_kg.$model=null,ae.value.food.$model="",ae.value.food_kg.$model=null,L.value&&L.value.length>0&&(ae.value.food.$model=L.value[0].food)},_t=s=>{ze.value=!0,s&&(C.value||(B?ft():gt()))},mt=s=>{ee.require({header:"Confirmation",message:"Are you sure want to delete?",icon:"pi pi-exclamation-triangle",acceptLabel:"Yes, delete it",rejectLabel:"Cancel",acceptClass:"p-button-danger",rejectClass:"p-button-secondary p-button-text",accept:()=>{pt(s)},reject:()=>{},onHide:()=>{}})},ut=s=>{if(B=!0,E.id=s,L.value)for(let b=0;b<L.value.length;b++)L.value[b].id==s&&(E.date_of_visit=L.value[b].date_of_visit,E.muac_cm=L.value[b].muac_cm,E.weight_kg=L.value[b].weight_kg,E.oedema=L.value[b].oedema,E.food=L.value[b].food,E.food_kg=L.value[b].food_kg,E.follow_up_result=L.value[b].follow_up_result,Fe.value="Edit Follow Up: Visit - "+L.value[b].visit);Z.value=!0},pt=async s=>{C.value=!0,await l.deleteFollowUp({follow_up_id:s,case_id:a.params.id}),l.getFollowUpDeleteResponse&&(se(),it.emit("show-toast",{severity:"success",summary:"",detail:"Delete Follow Up Successfully"})),C.value=!1},ht=s=>{const b=s.getFullYear(),u=`0${s.getMonth()+1}`.slice(-2),me=`0${s.getDate()}`.slice(-2);return`${b}-${u}-${me}`},gt=async()=>{h.clear(),C.value=!0;try{await l.addFollowUp({case_id:a.params.id,date_of_visit:ht(E.date_of_visit),muac_cm:E.muac_cm,weight_kg:E.weight_kg,oedema:E.oedema,food:E.food,food_kg:E.food_kg,follow_up_result:E.follow_up_result}),l.getFollowUpAddResponse&&(se(),Z.value=!1,X()),C.value=!1}catch(s){if(C.value=!1,s.status===422){const b=s.data.data;h.record(b)}}},ft=async()=>{h.clear(),C.value=!0;try{await l.updateFollowUp({id:E.id,case_id:a.params.id,date_of_visit:E.date_of_visit,muac_cm:E.muac_cm,weight_kg:E.weight_kg,oedema:E.oedema,food:E.food,food_kg:E.food_kg,follow_up_result:E.follow_up_result}),l.getFollowUpUpdateResponse&&(se(),Z.value=!1,X()),C.value=!1,B=!1}catch(s){if(C.value=!1,B=!1,s.status===422){const b=s.data.data;h.record(b)}}},se=async()=>{C.value=!0,h.clear(),await l.fetchOne({id:a.params.id});const s=l.getOneResponse;s&&(oe.value.disableDischarge=!["Discharged","Completed"].includes(s.data.status),y.am_number=s.data.am_number,y.id=s.data.biographic_info.id,y.status=s.data.biographic_info.status,y.screening_type=s.data.biographic_info.screening_type,y.state=s.data.biographic_info.state,y.township=s.data.biographic_info.township,y.village=s.data.biographic_info.village,y.patient_name=s.data.biographic_info.patient_name,y.type=s.data.biographic_info.type,y.gender=s.data.biographic_info.gender,y.date_of_birth=s.data.biographic_info.date_of_birth,y.age_group=s.data.biographic_info.age_group,y.disability=s.data.biographic_info.disability,y.phone_number=s.data.biographic_info.phone_number,y.father_name=s.data.biographic_info.father_name,y.husband_name=s.data.biographic_info.husband_name,y.receiving_cash_assistant=s.data.biographic_info.receiving_cash_assistant,y.yes_which_donar=s.data.biographic_info.yes_which_donar,Oe.value=JSON.parse(s.data.biographic_info.data),r.id=s.data.medical_examination.id,r.status=s.data.medical_examination.status,r.muac_cm=s.data.medical_examination.muac_cm,r.weight_kg=s.data.medical_examination.weight_kg,r.height_cm=s.data.medical_examination.height_cm,r.wfh_zscore=s.data.medical_examination.wfh_zscore,r.bilateral_pitting_oedema=s.data.medical_examination.bilateral_pitting_oedema,r.medical_illness_complication=s.data.medical_examination.medical_illness_complication,r.appetite_test=s.data.medical_examination.appetite_test,r.immunization_status=s.data.medical_examination.immunization_status,r.deworming=s.data.medical_examination.deworming,r.vit_a_supplement=s.data.medical_examination.vit_a_supplement,r.type_of_case=s.data.medical_examination.type_of_case,r.case_category=s.data.medical_examination.case_category,r.admission_criteria=s.data.medical_examination.admission_criteria,r.category_of_criteria=s.data.medical_examination.category_of_criteria,r.criteria_group=s.data.medical_examination.criteria_group,r.date_of_admission=s.data.medical_examination.date_of_admission,r.admitted_year=s.data.medical_examination.admitted_year,r.admitted_month=s.data.medical_examination.admitted_month,j.value=JSON.parse(s.data.medical_examination.data),L.value=s.data.follow_ups,s.data.discharge!=null?($.id=s.data.discharge.id,$.discharge_status=s.data.discharge.discharge_status,$.discharge_category=s.data.discharge.discharge_category,$.discharge_with=s.data.discharge.discharge_with,$.date_of_discharge=s.data.discharge.date_of_discharge,$.discharge_year=s.data.discharge.discharge_year,$.discharge_month=s.data.discharge.discharge_month,$.discharge_muac_cm=s.data.discharge.discharge_muac_cm,$.discharge_weight_kg=s.data.discharge.discharge_weight_kg,$.discharge_height_cm=s.data.discharge.discharge_height_cm,$.discharge_wfh_zscore=s.data.discharge.discharge_wfh_zscore,$.length_of_stay=s.data.discharge.length_of_stay,$.status=s.data.discharge.status,De.value=JSON.parse(s.data.discharge.data)):(re.value=!0,vt())),C.value=!1},vt=()=>{if($.discharge_height_cm=r.height_cm,L.value)for(let s=0;s<L.value.length;s++)L.value[s].follow_up_result=="Complete Follow Up"&&($.discharge_muac_cm=L.value[s].muac_cm,$.discharge_weight_kg=L.value[s].weight_kg,$.discharge_wfh_zscore=yt(),$.length_of_stay=We(r.date_of_admission,$.date_of_discharge))},bt=()=>{switch($.discharge_status){case"Cured":$.discharge_category="Cured";break;case"Default":$.discharge_category="Default";break;case"Death (Nut)":$.discharge_category="Death (Nut)";break;case"Death (Oth)":$.discharge_category="Death (Oth)";break;case"Non-respondent":$.discharge_category="Non-respondent";break;case"Transfer to OTP":$.discharge_category="Transfer to OTP";break;case"Transfer to other SFP":$.discharge_category="Transfer to other SFP";break;case"Transfer to ITP":$.discharge_category="Transfer to ITP";break;case"Refuse to referral":$.discharge_category="Other Exit";break;case"Medical transfer":$.discharge_category="Other Exit";break;case"Reg Mistake":$.discharge_category="Other Exit";break}},yt=()=>null,We=(s,b)=>{let u=null;const me=new Date(s);return u=(new Date(b)-me)/(1e3*60*60*24),u=Math.round(u),u};J(()=>y.township,()=>{Se()}),J(()=>r.date_of_admission,()=>{wt()}),J(()=>y.date_of_birth,()=>{const s=new Date(y.date_of_birth),b=new Date;let u=(b.getFullYear()-s.getFullYear())*12;if(u-=s.getMonth(),u+=b.getMonth(),b.getDate()<s.getDate()&&u--,u<6){ne("At lease, 6 Months of Age is required");return}if(u>=6&&u<=23){y.age_group=H.value[0].name;return}else if(u>=24&&u<=59){y.age_group=H.value[1].name;return}else if(u>=12*12&&u<=17*12){y.age_group=H.value[2].name;return}else if(u>=18*12&&u<=59*12){y.age_group=H.value[3].name;return}else y.age_group=""}),J(()=>y.type,()=>{switch(y.type){case K.value[0].name:y.gender=q.value[0].name;break;case K.value[1].name:y.gender=q.value[1].name;break;case K.value[2].name:y.gender=q.value[1].name;break;case K.value[3].name:y.gender=q.value[1].name;break}}),J(()=>[y.age_group,r.height_cm,r.weight_kg],()=>{$t()}),J(()=>[r.type_of_case],()=>{Vt()}),J(()=>[r.criteria_group],()=>{xt()}),J(()=>[r.case_category],()=>{Ct()}),J(()=>$.date_of_discharge,()=>{kt(),$.length_of_stay=We(r.date_of_admission,$.date_of_discharge)});const wt=()=>{const s=new Date(r.date_of_admission);r.admitted_year=s.getFullYear(),r.admitted_month=s.getMonth()+1},kt=()=>{const s=new Date($.date_of_discharge);$.discharge_year=s.getFullYear(),$.discharge_month=s.getMonth()+1},$t=()=>{if(H.value.some(b=>b.name==y.age_group)){if(r.weight_kg!==0&&r.height_cm!==0){const b=y.age_group===H.value[0].name?"m24under":"m24to59",u=y.type===K.value[0].name?"boy":"girl",me=Math.round(y.height_cm),Ae=ta[b][u].find(st=>st.length===me);if(Ae!==void 0)if(r.weight_kg<Ae.minus3){r.wfh_zscore=O.value[0].name;return}else if(r.weight_kg<Ae.minus2){r.wfh_zscore=O.value[1].name;return}else r.wfh_zscore=O.value[2].name}}else ne("Firstly, you need to set Date of Birth, then Age Group will be defined and WFH ZScore will be automatically selected","warn")},Vt=()=>{switch(r.type_of_case){case"New":P.value[0].visible=!0,P.value[1].visible=!1,P.value[2].visible=!1,P.value[3].visible=!1,r.criteria_group="New";break;case"Old":r.criteria_group="Re-admission",P.value[0].visible=!1,P.value[1].visible=!0,P.value[2].visible=!0,P.value[3].visible=!0;break}},xt=()=>{switch(r.criteria_group){case"New":r.case_category="MAM New",z.value[0].visible=!0,z.value[1].visible=!1,z.value[2].visible=!1,z.value[3].visible=!1,z.value[4].visible=!1;break;case"Re-admission":r.case_category="MAM Old",z.value[0].visible=!1,z.value[1].visible=!0,z.value[2].visible=!0,z.value[3].visible=!1,z.value[4].visible=!1;break;case"Relapse":r.case_category="Relapse",z.value[0].visible=!1,z.value[1].visible=!1,z.value[2].visible=!1,z.value[3].visible=!0,z.value[4].visible=!1;break;case"Transfer":r.case_category="Transfer",z.value[0].visible=!1,z.value[1].visible=!1,z.value[2].visible=!1,z.value[3].visible=!1,z.value[4].visible=!0;break}},Ct=()=>{switch(r.case_category){case"MAM New":r.admission_criteria="New",V.value[0].visible=!0,V.value[1].visible=!1,V.value[2].visible=!1,V.value[3].visible=!1,V.value[4].visible=!1,V.value[5].visible=!1,V.value[6].visible=!1,V.value[7].visible=!1,V.value[8].visible=!1;break;case"MAM Old":r.admission_criteria="Return from Cured within 2 month",V.value[0].visible=!1,V.value[1].visible=!0,V.value[2].visible=!0,V.value[3].visible=!1,V.value[4].visible=!1,V.value[5].visible=!1,V.value[6].visible=!1,V.value[7].visible=!1,V.value[8].visible=!1;break;case"Return form Defaulter":r.admission_criteria="Return from Default within 2 month",V.value[0].visible=!1,V.value[1].visible=!1,V.value[2].visible=!1,V.value[3].visible=!0,V.value[4].visible=!1,V.value[5].visible=!1,V.value[6].visible=!1,V.value[7].visible=!1,V.value[8].visible=!1;break;case"Relapse":r.admission_criteria="Return from Cured after 2 month",V.value[0].visible=!1,V.value[1].visible=!1,V.value[2].visible=!1,V.value[3].visible=!1,V.value[4].visible=!0,V.value[5].visible=!0,V.value[6].visible=!1,V.value[7].visible=!1,V.value[8].visible=!1;break;case"Transfer":r.admission_criteria="Transfer in Other SFP",V.value[0].visible=!1,V.value[1].visible=!1,V.value[2].visible=!1,V.value[3].visible=!1,V.value[4].visible=!1,V.value[5].visible=!1,V.value[6].visible=!0,V.value[7].visible=!0,V.value[8].visible=!0;break}},tt=U({user_id:""}),at=U([]),St=async()=>{console.log("fetching users"),C.value=!0,await p.fetchAllUser({role:4});const s=p.getAllUserResponse;if(s){const{options:b}=s.data;at.value=b}C.value=!1},Ot=async()=>{h.clear(),C.value=!0;try{await l.transferCase({case_id:a.params.id,user_id:tt.value.user_id});const s=l.getTransferCaseResponse;s&&ne("Case is transferred to "+s.data.data.full_name,"success"),C.value=!1,S.push({name:"caseList"})}catch(s){C.value=!1,ne(s,"error")}},ne=(s,b="error",u=5e3)=>{it.emit("show-toast",{severity:b,summary:"",detail:s,life:u})};return{section:oe,isLoading:C,v$:Te,submitted:Ue,handleSubmit:Ne,errors:h,villageDisabled:ce,stateOptions:le,townshipOptions:ve,villageOptions:be,donarOptions:ke,yesNoOptions:we,ageGroupOptions:H,genderOptions:q,typeOptions:K,screeningTypeOptions:ye,bilateralPittingOedemaOptions:Ve,zScoreOptions:O,appetiteTestOptions:$e,immunizationStatusOptions:xe,typeOfCasesOptions:x,caseCategoriesOptions:z,admissionCriteriaOptions:V,criteriaOptions:m,criteriaGroupsOptions:P,meV$:Ge,meSubmitted:f,meHandleSubmit:Ee,dischargeState:$,dischargeStatusOptions:M,dischargeCategoryOptions:Ce,dischargeWithOptions:D,dischargeData:De,dischargeHandleSubmit:je,setDischcargeCategory:bt,newFollowUp:ct,fuRecords:L,fuState:E,fuV$:ae,fuHandleSubmit:_t,fuSubmitted:ze,foodOptions:Le,frOptions:te,showFollowUp:Z,followUpTitle:Fe,editFollowUp:ut,showConfirmDialog:mt,biEdit:ge,meEdit:fe,dEdit:re,biData:Oe,meData:j,calculateLengthOfStay:We,cmUserOptions:at,transferTo:tt,transferCase:Ot}};const k=l=>(jt("data-v-a394c7f4"),l=l(),Yt(),l),ga={class:"card"},fa={class:"flex justify-content-between flex-wrap mb-1"},va={class:"flex align-items-center field text-xl font-bold pl-4"},ba=k(()=>t("span",{class:"flex align-items-center"},null,-1)),ya={class:"flex align-items-center"},wa={key:0,class:"m-1"},ka={class:"m-1"},$a=["onSubmit"],Va={class:"flex flex-row-reverse mb-2"},xa={class:"flex-3"},Ca={class:"ml-2 flex-2"},Sa={class:"mr-2 flex-2"},Oa={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},Ua={class:"grid p-fluid"},Ea={class:"field col-12 md:col-6 lg:col-6"},Da=k(()=>t("span",{class:"p-error"},"*",-1)),La={key:0},Fa={class:"text-orange-500"},za={key:1,class:"p-error"},Aa={class:"field col-12 md:col-6 lg:col-6"},Ra=k(()=>t("span",{class:"p-error"},"*",-1)),Ma={key:0},Ba={class:"text-orange-500"},Ia={key:1,class:"p-error"},Ta={class:"field col-12 md:col-6 lg:col-6"},Na=k(()=>t("span",{class:"p-error"},"*",-1)),Ga={key:0},Pa={class:"text-orange-500"},ja={key:1,class:"p-error"},Ya={class:"field col-12 md:col-6 lg:col-6"},Wa=k(()=>t("span",{class:"p-error"},"*",-1)),Ha={key:0},Za={class:"text-orange-500"},Ka={key:1,class:"p-error"},Ja={class:"field col-12 md:col-6 lg:col-6"},qa=k(()=>t("span",{class:"p-error"},"*",-1)),Xa={key:0},Qa={class:"text-orange-500"},es={key:1,class:"p-error"},ts={class:"field col-12 md:col-6 lg:col-6"},as=k(()=>t("span",{class:"p-error"},"*",-1)),ss={key:0},is={class:"text-orange-500"},os={key:1,class:"p-error"},ls={class:"field col-12 md:col-6 lg:col-6"},ns=k(()=>t("span",{class:"p-error"},"*",-1)),ds={key:0},rs={class:"text-orange-500"},cs={key:1,class:"p-error"},_s={class:"field col-12 md:col-6 lg:col-6"},ms=k(()=>t("span",{class:"p-error"},"*",-1)),us={key:0},ps={class:"text-orange-500"},hs={key:1,class:"p-error"},gs={class:"field col-12 md:col-6 lg:col-6"},fs=k(()=>t("span",{class:"p-error"},"*",-1)),vs={key:0},bs={class:"text-orange-500"},ys={key:1,class:"p-error"},ws={class:"field col-12 md:col-6 lg:col-6"},ks=k(()=>t("span",{class:"p-error"},"*",-1)),$s={key:0},Vs={class:"text-orange-500"},xs={key:1,class:"p-error"},Cs={class:"field col-12 md:col-6 lg:col-6"},Ss=k(()=>t("span",{class:"p-error"},"*",-1)),Os={key:0},Us={class:"text-orange-500"},Es={key:1,class:"p-error"},Ds={key:0,class:"field col-12 md:col-6 lg:col-6"},Ls={key:0},Fs={class:"text-orange-500"},zs={key:1,class:"p-error"},As={key:1,class:"field col-12 md:col-6 lg:col-6"},Rs={key:0},Ms={class:"text-orange-500"},Bs={key:1,class:"p-error"},Is={class:"field col-12 md:col-6 lg:col-6"},Ts=k(()=>t("span",{class:"p-error"},"*",-1)),Ns={key:0},Gs={class:"text-orange-500"},Ps={key:1,class:"p-error"},js={key:2,class:"field col-12 md:col-6 lg:col-6"},Ys={key:0},Ws={class:"text-orange-500"},Hs={key:1,class:"p-error"},Zs={class:"flex flex-row-reverse mb-2"},Ks={class:"flex-3"},Js={class:"ml-2 flex-2"},qs={class:"mr-2 flex-2"},Xs={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},Qs={class:"grid p-fluid"},ei={class:"field col-12 md:col-6 lg:col-6"},ti=k(()=>t("label",{for:"muac_cm"},"MUAC (cm)",-1)),ai={key:0},si={class:"text-orange-500"},ii={key:1,class:"p-error"},oi={key:0,class:"field col-12 md:col-6 lg:col-6"},li={key:0},ni={class:"text-orange-500"},di={key:1,class:"p-error"},ri={key:1,class:"field col-12 md:col-6 lg:col-6"},ci=k(()=>t("label",{for:"height_cm"},"Height (cm)",-1)),_i={key:0},mi={class:"text-orange-500"},ui={key:1,class:"p-error"},pi={key:2,class:"field col-12 md:col-6 lg:col-6"},hi=k(()=>t("span",{class:"p-error"},"*",-1)),gi={key:0},fi={class:"text-orange-500"},vi={key:1,class:"p-error"},bi={key:3,class:"field col-12 md:col-6 lg:col-6"},yi=k(()=>t("label",{for:"immunization_status"},"Immunization Status",-1)),wi={key:0},ki={class:"text-orange-500"},$i={key:1,class:"p-error"},Vi={class:"field col-12 md:col-6 lg:col-6"},xi=k(()=>t("label",{for:"deworming"},"Deworming",-1)),Ci={key:0},Si={class:"text-orange-500"},Oi={key:1,class:"p-error"},Ui={key:4,class:"field col-12 md:col-6 lg:col-6"},Ei=k(()=>t("label",{for:"vit_a_supplement"},"Vitamin A Supplement",-1)),Di={key:0},Li={class:"text-orange-500"},Fi={key:1,class:"p-error"},zi={class:"field col-12 md:col-6 lg:col-6"},Ai=k(()=>t("label",{for:"type_of_case"},"Type of Case",-1)),Ri={key:0},Mi={class:"text-orange-500"},Bi={key:1,class:"p-error"},Ii={class:"field col-12 md:col-6 lg:col-6"},Ti=k(()=>t("label",{for:"criteria_group"},"Criteria Group",-1)),Ni={key:0},Gi={class:"text-orange-500"},Pi={key:1,class:"p-error"},ji={class:"field col-12 md:col-6 lg:col-6"},Yi=k(()=>t("label",{for:"case_category"},"Case Category",-1)),Wi={key:0},Hi={class:"text-orange-500"},Zi={key:1,class:"p-error"},Ki={class:"field col-12 md:col-6 lg:col-6"},Ji=k(()=>t("label",{for:"admission_criteria"},"Admission Criteria",-1)),qi={key:0},Xi={class:"text-orange-500"},Qi={key:1,class:"p-error"},eo={class:"field col-12 md:col-6 lg:col-6"},to=k(()=>t("label",{for:"category_of_criteria"},"Category of Criteria",-1)),ao={key:0},so={class:"text-orange-500"},io={key:1,class:"p-error"},oo={class:"field col-12 md:col-6 lg:col-6"},lo=k(()=>t("label",{for:"date_of_admission"},"Date of Admission",-1)),no={key:0},ro={class:"text-orange-500"},co={key:1,class:"p-error"},_o={class:"field col-12 md:col-6 lg:col-6"},mo=k(()=>t("label",{for:"admitted_year"},"Admitted Year",-1)),uo={key:0},po={class:"text-orange-500"},ho={key:1,class:"p-error"},go={class:"field col-12 md:col-6 lg:col-6"},fo=k(()=>t("label",{for:"admitted_month"},"Admitted Month",-1)),vo={class:"p-inputtext p-component"},bo={key:0},yo={class:"text-orange-500"},wo={key:1,class:"p-error"},ko={class:"flex pt-2"},$o={class:"pb-3"},Vo=k(()=>t("span",{class:"text-color-secondary"},"Length of Stay: ",-1)),xo={class:"grid p-fluid"},Co={class:"field col-6"},So=k(()=>t("label",{for:"date_of_visit"},"Date Of Visit",-1)),Oo={key:0,class:"p-error"},Uo={class:"field col-6"},Eo=k(()=>t("label",{for:"fu-muac_cm"},"MUAC (cm)",-1)),Do={key:0,class:"p-error"},Lo={class:"field col-6"},Fo=k(()=>t("label",{for:"fu-weight_kg"},"Weight (kg)",-1)),zo={key:0,class:"p-error"},Ao={class:"field col-6"},Ro=k(()=>t("label",{for:"fu-food"},"Food",-1)),Mo={key:0,class:"p-error"},Bo={class:"field col-6"},Io=k(()=>t("label",{for:"fu-food_kg"},"Food (kg)",-1)),To={key:0,class:"p-error"},No={class:"field col-12"},Go=k(()=>t("label",{for:"fu-follow_up_result"},"Follow Up Result",-1)),Po={key:0,class:"p-error"},jo=k(()=>t("div",{class:"field col-6 md:col-9"},null,-1)),Yo={class:"field col-6 md:col-3"},Wo={class:"flex flex-row-reverse mb-2"},Ho={class:"mb-2 mt-2 col-12 md:col-6 lg:col-6",style:{border:"1px solid aliceblue"}},Zo={class:"surface-ground"},Ko={colspan:"2",class:"font-bold p-2"},Jo=["onClick"],qo=k(()=>t("i",{class:"pi pi-times text-red-500 cursor-pointer"},null,-1)),Xo=[qo],Qo=["onClick"],el=k(()=>t("i",{class:"pi pi-pencil cursor-pointer"},null,-1)),tl=[el],al=k(()=>t("td",{class:"text-color-secondary p-2"},"Date of Visit:",-1)),sl={class:"p-2"},il=k(()=>t("td",{class:"text-color-secondary p-2"},"MUAC (cm):",-1)),ol={class:"p-2"},ll=k(()=>t("td",{class:"text-color-secondary p-2"},"Weight (kg):",-1)),nl={class:"p-2"},dl=k(()=>t("td",{class:"text-color-secondary p-2"},"Food Given:",-1)),rl={class:"p-2"},cl=k(()=>t("td",{class:"text-color-secondary p-2"},"Food Quantity (kg):",-1)),_l={class:"p-2"},ml=k(()=>t("td",{class:"text-color-secondary p-2"},"Follow Up Result:",-1)),ul={class:"flex flex-row-reverse mb-2"},pl={class:""},hl={class:"ml-2"},gl={class:"mr-2"},fl={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},vl={class:"grid p-fluid"},bl={class:"field col-12 md:col-6 lg:col-6"},yl=k(()=>t("label",{for:"discharge_status"},"Discharge Status",-1)),wl={key:0},kl={class:"text-orange-500"},$l={class:"field col-12 md:col-6 lg:col-6"},Vl=k(()=>t("label",{for:"discharge_category"},"Discharge Category",-1)),xl={key:0},Cl={class:"text-orange-500"},Sl={class:"field col-12 md:col-6 lg:col-6"},Ol=k(()=>t("label",{for:"discharge_with"},"Discharge With",-1)),Ul={key:0},El={class:"text-orange-500"},Dl={class:"field col-12 md:col-6 lg:col-6"},Ll=k(()=>t("label",{for:"date_of_discharge"},"Date of Discharge",-1)),Fl={key:0},zl={class:"text-orange-500"},Al={class:"field col-12 md:col-6 lg:col-6"},Rl=k(()=>t("label",{for:"discharge_year"},"Discharge Year",-1)),Ml={key:0},Bl={class:"text-orange-500"},Il={class:"field col-12 md:col-6 lg:col-6"},Tl=k(()=>t("label",{for:"discharge_month"},"Discharge Month",-1)),Nl={class:"p-inputtext p-component"},Gl={key:0},Pl={class:"text-orange-500"},jl={class:"field col-12 md:col-6 lg:col-6"},Yl=k(()=>t("label",{for:"discharge_muac_cm"},"Discharge MUAC (cm)",-1)),Wl={key:0},Hl={class:"text-orange-500"},Zl={class:"field col-12 md:col-6 lg:col-6"},Kl=k(()=>t("label",{for:"discharge_weight_kg"},"Discharge Weight (kg)",-1)),Jl={key:0},ql={class:"text-orange-500"},Xl={class:"field col-12 md:col-6 lg:col-6"},Ql=k(()=>t("label",{for:"discharge_height_cm"},"Discharge Height (cm)",-1)),en={key:0},tn={class:"text-orange-500"},an={class:"field col-12 md:col-6 lg:col-6"},sn=k(()=>t("label",{for:"discharge_wfh_zscore"},"Discharge WFH (z score)",-1)),on={key:0},ln={class:"text-orange-500"},nn={class:"field col-12 md:col-6 lg:col-6"},dn=k(()=>t("label",{for:"length_of_stay"},"Length of Stay",-1)),rn={key:0},cn={class:"text-orange-500"},_n={class:"text-center w-full"},mn={class:"mt-2"},un={class:"field col-12 md:col-6 lg:col-6"},pn=0,Be="yy-mm-dd",hn={__name:"Edit",setup(l){const{section:p,isLoading:S,v$:a,handleSubmit:C,submitted:h,stateOptions:ee,townshipOptions:Z,villageOptions:oe,yesNoOptions:le,donarOptions:re,ageGroupOptions:ge,genderOptions:fe,typeOptions:ve,screeningTypeOptions:be,zScoreOptions:ce,immunizationStatusOptions:ye,typeOfCasesOptions:K,caseCategoriesOptions:q,admissionCriteriaOptions:H,criteriaOptions:we,criteriaGroupsOptions:ke,dischargeState:O,dischargeStatusOptions:$e,dischargeCategoryOptions:Ve,dischargeWithOptions:xe,dischargeData:x,dischargeHandleSubmit:z,setDischcargeCategory:V,meV$:m,meHandleSubmit:P,meSubmitted:M,fuRecords:Ce,fuV$:D,fuHandleSubmit:Ie,fuSubmitted:W,foodOptions:Se,frOptions:y,newFollowUp:Oe,showFollowUp:_e,followUpTitle:Ue,showConfirmDialog:Te,editFollowUp:Ne,biEdit:R,meEdit:r,dEdit:j,biData:v,meData:f,calculateLengthOfStay:Ge,transferTo:Ee,transferCase:Pe,cmUserOptions:$}=ha(),De=Je(()=>ke.value.filter(i=>i.visible)),je=Je(()=>q.value.filter(i=>i.visible)),Ye=Je(()=>H.value.filter(i=>i.visible)),L=U(!1),Le=()=>{Fe()&&C(!a.value.$invalid)},te=B=>{const i=["January","February","March","April","May","June","July","August","September","October","November","December"],E=B-1;return E>=0&&E<12?i[E]:"..."},Fe=()=>{const B=document.getElementById("phone_number");if(B.value&&!aa(B.value))return window.alert("Invalid Phone Number, Please enter the right one"),B.focus(),!1};return(B,i)=>{const E=dt("router-link"),X=et("select-all-on-focus");return n(),c(Pt,null,[t("div",ga,[t("div",fa,[t("span",va,_(e(a).am_number.$model),1),ba,t("span",ya,[B.$can("transfer","Case")?(n(),c("div",wa,[g(e(I),{severity:"secondary",onClick:i[0]||(i[0]=o=>L.value=!0),icon:"pi pi-arrow-up-right",text:"",rounded:""})])):d("",!0),B.$can("index","MyCase")?(n(),G(E,{key:1,to:{name:"caseList"}},{default:N(()=>[t("div",ka,[g(e(I),{severity:"secondary",icon:"pi pi-times",text:"",rounded:""})])]),_:1})):d("",!0)])]),g(e(Kt),{"active-index":pn,scrollable:!0},{default:N(()=>[g(e(Me),{header:"Biographic Info",disabled:e(p).disableBiographicInfo},{default:N(()=>[t("form",{onSubmit:qe(Le,["prevent"])},[t("div",Va,[t("div",xa,[e(R)?d("",!0):(n(),G(e(I),{key:0,onClick:i[1]||(i[1]=o=>R.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",Ca,[e(R)?(n(),G(e(I),{key:0,type:"submit",label:"Save",severity:"primary"})):d("",!0)]),t("div",Sa,[e(R)?(n(),G(e(I),{key:0,onClick:i[2]||(i[2]=o=>R.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):d("",!0)]),t("div",Oa,[g(e(Xe),{value:e(a).status.$model,severity:e(a).status.$model=="Ongoing"?"info":e(a).status.$model=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",Ua,[t("div",Ea,[t("label",{for:"screening_type",class:A({"p-error":e(a).screening_type.$invalid&&e(h)})},[w("Screening Type"),Da],2),g(e(F),{disabled:!e(R),id:"screening_type",modelValue:e(a).screening_type.$model,"onUpdate:modelValue":i[3]||(i[3]=o=>e(a).screening_type.$model=o),options:e(be),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).screening_type&&e(v).screening_type!=e(a).screening_type.$model?(n(),c("small",La,[w(" Edited as: "),t("span",Fa,_(e(v).screening_type),1)])):d("",!0),e(a).screening_type.$invalid&&e(h)?(n(),c("small",za,_(e(a).screening_type.$message),1)):d("",!0)]),t("div",Aa,[t("label",{for:"state",class:A({"p-error":e(a).state.$invalid&&e(h)})},[w("State"),Ra],2),g(e(F),{id:"state",disabled:!e(R),modelValue:e(a).state.$model,"onUpdate:modelValue":i[4]||(i[4]=o=>e(a).state.$model=o),options:e(ee),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).state&&e(v).state!=e(a).state.$model?(n(),c("small",Ma,[w(" Edited as: "),t("span",Ba,_(e(v).state),1)])):d("",!0),e(a).state.$invalid&&e(h)?(n(),c("small",Ia,_(e(a).state.$message),1)):d("",!0)]),t("div",Ta,[t("label",{for:"township",class:A({"p-error":e(a).township.$invalid&&e(h)})},[w("Township"),Na],2),g(e(F),{id:"township",disabled:!e(R),modelValue:e(a).township.$model,"onUpdate:modelValue":i[5]||(i[5]=o=>e(a).township.$model=o),options:e(Z),optionLabel:"name_mm",optionValue:"name"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).township&&e(v).township!=e(a).township.$model?(n(),c("small",Ga,[w(" Edited as: "),t("span",Pa,_(e(v).township),1)])):d("",!0),e(a).township.$invalid&&e(h)?(n(),c("small",ja,_(e(a).township.$message),1)):d("",!0)]),t("div",Ya,[t("label",{for:"village",class:A({"p-error":e(a).village.$invalid&&e(h)})},[w("Village/Ward"),Wa],2),g(e(F),{disabled:!e(R),id:"village",modelValue:e(a).village.$model,"onUpdate:modelValue":i[6]||(i[6]=o=>e(a).village.$model=o),options:e(oe),optionLabel:"name_mm",optionValue:"name_en"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).village&&e(v).village!=e(a).village.$model?(n(),c("small",Ha,[w(" Edited as: "),t("span",Za,_(e(v).village),1)])):d("",!0),e(a).village.$invalid&&e(h)?(n(),c("small",Ka,_(e(a).village.$message),1)):d("",!0)]),t("div",Ja,[t("label",{for:"patient_name",class:A({"p-error":e(a).patient_name.$invalid&&e(h)})},[w("Patient Name"),qa],2),g(e(Y),{disabled:!e(R),id:"patient_name",modelValue:e(a).patient_name.$model,"onUpdate:modelValue":i[7]||(i[7]=o=>e(a).patient_name.$model=o)},null,8,["disabled","modelValue"]),e(v)&&e(v).patient_name&&e(v).patient_name!=e(a).patient_name.$model?(n(),c("small",Xa,[w(" Edited as: "),t("span",Qa,_(e(v).patient_name),1)])):d("",!0),e(a).patient_name.$invalid&&e(h)?(n(),c("small",es,_(e(a).patient_name.$message),1)):d("",!0)]),t("div",ts,[t("label",{for:"type",class:A({"p-error":e(a).type.$invalid&&e(h)})},[w("Type"),as],2),g(e(F),{disabled:!e(R),id:"type",modelValue:e(a).type.$model,"onUpdate:modelValue":i[8]||(i[8]=o=>e(a).type.$model=o),options:e(ve),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).type&&e(v).type!=e(a).type.$model?(n(),c("small",ss,[w(" Edited as: "),t("span",is,_(e(v).type),1)])):d("",!0),e(a).type.$invalid&&e(h)?(n(),c("small",os,_(e(a).type.$message),1)):d("",!0)]),t("div",ls,[t("label",{for:"gender",class:A({"p-error":e(a).gender.$invalid&&e(h)})},[w("Gender"),ns],2),g(e(F),{disabled:!e(R),id:"gender",modelValue:e(a).gender.$model,"onUpdate:modelValue":i[9]||(i[9]=o=>e(a).gender.$model=o),options:e(fe),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).gender&&e(v).gender!=e(a).gender.$model?(n(),c("small",ds,[w(" Edited as: "),t("span",rs,_(e(v).gender),1)])):d("",!0),e(a).gender.$invalid&&e(h)?(n(),c("small",cs,_(e(a).gender.$message),1)):d("",!0)]),t("div",_s,[t("label",{for:"date_of_birth",class:A({"p-error":e(a).date_of_birth.$invalid&&e(h)})},[w("Date of Birth"),ms],2),g(e(Re),{disabled:!e(R),id:"date_of_birth",modelValue:e(a).date_of_birth.$model,"onUpdate:modelValue":i[10]||(i[10]=o=>e(a).date_of_birth.$model=o),dateFormat:Be},null,8,["disabled","modelValue"]),e(v)&&e(v).date_of_birth&&e(v).date_of_birth!=e(a).date_of_birth.$model?(n(),c("small",us,[w(" Edited as: "),t("span",ps,_(e(v).date_of_birth),1)])):d("",!0),e(a).date_of_birth.$invalid&&e(h)?(n(),c("small",hs,_(e(a).date_of_birth.$message),1)):d("",!0)]),t("div",gs,[t("label",{for:"age_group",class:A({"p-error":e(a).age_group.$invalid&&e(h)})},[w("Age Group"),fs],2),g(e(F),{disabled:!e(R),id:"age_group",modelValue:e(a).age_group.$model,"onUpdate:modelValue":i[11]||(i[11]=o=>e(a).age_group.$model=o),options:e(ge),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).age_group&&e(v).age_group!=e(a).age_group.$model?(n(),c("small",vs,[w(" Edited as: "),t("span",bs,_(e(v).age_group),1)])):d("",!0),e(a).age_group.$invalid&&e(h)?(n(),c("small",ys,_(e(a).age_group.$message),1)):d("",!0)]),t("div",ws,[t("label",{for:"disability",class:A({"p-error":e(a).disability.$invalid&&e(h)})},[w("Disability"),ks],2),g(e(F),{disabled:!e(R),id:"disability",modelValue:e(a).disability.$model,"onUpdate:modelValue":i[12]||(i[12]=o=>e(a).disability.$model=o),options:e(le),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).disability&&e(v).disability!=e(a).disability.$model?(n(),c("small",$s,[w(" Edited as: "),t("span",Vs,_(e(v).disability),1)])):d("",!0),e(a).disability.$invalid&&e(h)?(n(),c("small",xs,_(e(a).disability.$message),1)):d("",!0)]),t("div",Cs,[t("label",{for:"phone_number",class:A({"p-error":e(a).phone_number.$invalid&&e(h)})},[w("Phone Number"),Ss],2),g(e(Y),{disabled:!e(R),id:"phone_number",modelValue:e(a).phone_number.$model,"onUpdate:modelValue":i[13]||(i[13]=o=>e(a).phone_number.$model=o)},null,8,["disabled","modelValue"]),e(v)&&e(v).phone_number&&e(v).phone_number!=e(a).phone_number.$model?(n(),c("small",Os,[w(" Edited as: "),t("span",Us,_(e(v).phone_number),1)])):d("",!0),e(a).phone_number.$invalid&&e(h)?(n(),c("small",Es,_(e(a).phone_number.$message),1)):d("",!0)]),e(a).type.$model=="Boy"||e(a).type.$model=="Girl"?(n(),c("div",Ds,[t("label",{for:"father_name",class:A({"p-error":e(a).father_name.$invalid&&e(h)})},"Father's Name",2),g(e(Y),{disabled:!e(R),id:"father_name",modelValue:e(a).father_name.$model,"onUpdate:modelValue":i[14]||(i[14]=o=>e(a).father_name.$model=o)},null,8,["disabled","modelValue"]),e(v)&&e(v).father_name&&e(v).father_name!=e(a).father_name.$model?(n(),c("small",Ls,[w(" Edited as: "),t("span",Fs,_(e(v).father_name),1)])):d("",!0),e(a).father_name.$invalid&&e(h)?(n(),c("small",zs,_(e(a).father_name.$message),1)):d("",!0)])):d("",!0),e(a).type.$model=="Pregnant Woman or Girl"||e(a).type.$model=="Breastfeeding Woman or Girl"?(n(),c("div",As,[t("label",{for:"husband_name",class:A({"p-error":e(a).husband_name.$invalid&&e(h)})},"Husband's Name",2),g(e(Y),{disabled:!e(R),id:"husband_name",modelValue:e(a).husband_name.$model,"onUpdate:modelValue":i[15]||(i[15]=o=>e(a).husband_name.$model=o)},null,8,["disabled","modelValue"]),e(v)&&e(v).husband_name&&e(v).husband_name!=e(a).husband_name.$model?(n(),c("small",Rs,[w(" Edited as: "),t("span",Ms,_(e(v).husband_name),1)])):d("",!0),e(a).husband_name.$invalid&&e(h)?(n(),c("small",Bs,_(e(a).husband_name.$message),1)):d("",!0)])):d("",!0),t("div",Is,[t("label",{for:"receiving_cash_assistant",class:A({"p-error":e(a).receiving_cash_assistant.$invalid&&e(h)})},[w("Receiving Cash Assistant"),Ts],2),g(e(F),{disabled:!e(R),id:"receiving_cash_assistant",modelValue:e(a).receiving_cash_assistant.$model,"onUpdate:modelValue":i[16]||(i[16]=o=>e(a).receiving_cash_assistant.$model=o),options:e(le),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).receiving_cash_assistant&&e(v).receiving_cash_assistant!=e(a).receiving_cash_assistant.$model?(n(),c("small",Ns,[w(" Edited as: "),t("span",Gs,_(e(v).receiving_cash_assistant),1)])):d("",!0),e(a).receiving_cash_assistant.$invalid&&e(h)?(n(),c("small",Ps,_(e(a).receiving_cash_assistant.$message),1)):d("",!0)]),e(a).receiving_cash_assistant.$model=="Yes"?(n(),c("div",js,[t("label",{for:"yes_which_donar",class:A({"p-error":e(a).yes_which_donar.$invalid&&e(h)})},"If Yes, Which Donar?",2),g(e(F),{disabled:!e(R),id:"yes_which_donar",modelValue:e(a).yes_which_donar.$model,"onUpdate:modelValue":i[17]||(i[17]=o=>e(a).yes_which_donar.$model=o),options:e(re),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(v)&&e(v).yes_which_donar&&e(v).yes_which_donar!=e(a).yes_which_donar.$model?(n(),c("small",Ys,[w(" Edited as: "),t("span",Ws,_(e(v).yes_which_donar),1)])):d("",!0),e(a).yes_which_donar.$invalid&&e(h)?(n(),c("small",Hs,_(e(a).yes_which_donar.$message),1)):d("",!0)])):d("",!0)])],40,$a)]),_:1},8,["disabled"]),g(e(Me),{header:"Screening",disabled:e(p).disableMedicalExamination},{default:N(()=>[t("form",{onSubmit:i[34]||(i[34]=qe(o=>e(P)(!e(m).$invalid),["prevent"]))},[t("div",Zs,[t("div",Ks,[e(r)?d("",!0):(n(),G(e(I),{key:0,onClick:i[18]||(i[18]=o=>r.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",Js,[e(r)?(n(),G(e(I),{key:0,type:"submit",label:"Save",severity:"primary"})):d("",!0)]),t("div",qs,[e(r)?(n(),G(e(I),{key:0,onClick:i[19]||(i[19]=o=>r.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):d("",!0)]),t("div",Xs,[g(e(Xe),{value:e(m).status.$model,severity:e(m).status.$model=="Ongoing"?"info":e(m).status.$model=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",Qs,[t("div",ei,[ti,ie(g(e(pe),{disabled:!e(r),modelValue:e(m).muac_cm.$model,"onUpdate:modelValue":i[20]||(i[20]=o=>e(m).muac_cm.$model=o),id:"muac_cm",min:8,max:30,minFractionDigits:2},null,8,["disabled","modelValue"]),[[X]]),e(f)&&e(f).muac_cm&&e(f).muac_cm!=e(m).muac_cm.$model?(n(),c("small",ai,[w(" Edited as: "),t("span",si,_(e(f).muac_cm),1)])):d("",!0),e(m).muac_cm.$invalid&&e(M)?(n(),c("small",ii,_(e(m).muac_cm.$message),1)):d("",!0)]),e(a).type.$model=="Boy"||e(a).type.$model=="Girl"?(n(),c("div",oi,[t("label",{for:"weight_kg",class:A({"p-error":e(m).weight_kg.$invalid&&e(M)})},"Weight (kg)",2),ie(g(e(pe),{disabled:!e(r),modelValue:e(m).weight_kg.$model,"onUpdate:modelValue":i[21]||(i[21]=o=>e(m).weight_kg.$model=o),id:"weight_kg",min:1.5,max:25,minFractionDigits:2},null,8,["disabled","modelValue"]),[[X]]),e(f)&&e(f).weight_kg&&e(f).weight_kg!=e(m).weight_kg.$model?(n(),c("small",li,[w(" Edited as: "),t("span",ni,_(e(f).weight_kg),1)])):d("",!0),e(m).weight_kg.$invalid&&e(M)?(n(),c("small",di,_(e(m).weight_kg.$message),1)):d("",!0)])):d("",!0),e(a).type.$model=="Boy"||e(a).type.$model=="Girl"?(n(),c("div",ri,[ci,ie(g(e(pe),{disabled:!e(r),modelValue:e(m).height_cm.$model,"onUpdate:modelValue":i[22]||(i[22]=o=>e(m).height_cm.$model=o),id:"height_cm",min:45,max:120,minFractionDigits:2},null,8,["disabled","modelValue"]),[[X]]),e(f)&&e(f).height_cm&&e(f).height_cm!=e(m).height_cm.$model?(n(),c("small",_i,[w(" Edited as: "),t("span",mi,_(e(f).height_cm),1)])):d("",!0),e(m).height_cm.$invalid&&e(M)?(n(),c("small",ui,_(e(m).height_cm.$message),1)):d("",!0)])):d("",!0),e(a).type.$model=="Boy"||e(a).type.$model=="Girl"?(n(),c("div",pi,[t("label",{for:"wfh_zscore",class:A({"p-error":e(m).wfh_zscore.$invalid&&e(M)})},[w("WFH Z-Score"),hi],2),g(e(F),{disabled:!e(r),id:"wfh_zscore",modelValue:e(m).wfh_zscore.$model,"onUpdate:modelValue":i[23]||(i[23]=o=>e(m).wfh_zscore.$model=o),options:e(ce),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).wfh_zscore&&e(f).wfh_zscore!=e(m).wfh_zscore.$model?(n(),c("small",gi,[w(" Edited as: "),t("span",fi,_(e(f).wfh_zscore),1)])):d("",!0),e(m).wfh_zscore.$invalid&&e(M)?(n(),c("small",vi,_(e(m).wfh_zscore.$message),1)):d("",!0)])):d("",!0),e(a).type.$model=="Boy"||e(a).type.$model=="Girl"?(n(),c("div",bi,[yi,g(e(F),{disabled:!e(r),modelValue:e(m).immunization_status.$model,"onUpdate:modelValue":i[24]||(i[24]=o=>e(m).immunization_status.$model=o),options:e(ye),id:"immunization_status",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).immunization_status&&e(f).immunization_status!=e(m).immunization_status.$model?(n(),c("small",wi,[w(" Edited as: "),t("span",ki,_(e(f).immunization_status),1)])):d("",!0),e(m).immunization_status.$invalid&&e(M)?(n(),c("small",$i,_(e(m).immunization_status.$message),1)):d("",!0)])):d("",!0),t("div",Vi,[xi,g(e(F),{disabled:!e(r),modelValue:e(m).deworming.$model,"onUpdate:modelValue":i[25]||(i[25]=o=>e(m).deworming.$model=o),options:e(le),id:"deworming",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).deworming&&e(f).deworming!=e(m).deworming.$model?(n(),c("small",Ci,[w(" Edited as: "),t("span",Si,_(e(f).deworming),1)])):d("",!0),e(m).deworming.$invalid&&e(M)?(n(),c("small",Oi,_(e(m).deworming.$message),1)):d("",!0)]),e(a).type.$model=="Boy"||e(a).type.$model=="Girl"?(n(),c("div",Ui,[Ei,g(e(F),{disabled:!e(r),modelValue:e(m).vit_a_supplement.$model,"onUpdate:modelValue":i[26]||(i[26]=o=>e(m).vit_a_supplement.$model=o),options:e(le),id:"vit_a_supplement",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).vit_a_supplement&&e(f).vit_a_supplement!=e(m).vit_a_supplement.$model?(n(),c("small",Di,[w(" Edited as: "),t("span",Li,_(e(f).vit_a_supplement),1)])):d("",!0),e(m).vit_a_supplement.$invalid&&e(M)?(n(),c("small",Fi,_(e(m).vit_a_supplement.$message),1)):d("",!0)])):d("",!0),t("div",zi,[Ai,g(e(F),{disabled:!e(r),modelValue:e(m).type_of_case.$model,"onUpdate:modelValue":i[27]||(i[27]=o=>e(m).type_of_case.$model=o),options:e(K),id:"type_of_case",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).type_of_case&&e(f).type_of_case!=e(m).type_of_case.$model?(n(),c("small",Ri,[w(" Edited as: "),t("span",Mi,_(e(f).type_of_case),1)])):d("",!0),e(m).type_of_case.$invalid&&e(M)?(n(),c("small",Bi,_(e(m).type_of_case.$message),1)):d("",!0)]),t("div",Ii,[Ti,g(e(F),{disabled:!e(r),modelValue:e(m).criteria_group.$model,"onUpdate:modelValue":i[28]||(i[28]=o=>e(m).criteria_group.$model=o),options:De.value,id:"criteria_group",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).criteria_group&&e(f).criteria_group!=e(m).criteria_group.$model?(n(),c("small",Ni,[w(" Edited as: "),t("span",Gi,_(e(f).criteria_group),1)])):d("",!0),e(m).criteria_group.$invalid&&e(M)?(n(),c("small",Pi,_(e(m).criteria_group.$message),1)):d("",!0)]),t("div",ji,[Yi,g(e(F),{disabled:!e(r),modelValue:e(m).case_category.$model,"onUpdate:modelValue":i[29]||(i[29]=o=>e(m).case_category.$model=o),options:je.value,id:"case_category",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).case_category&&e(f).case_category!=e(m).case_category.$model?(n(),c("small",Wi,[w(" Edited as: "),t("span",Hi,_(e(f).case_category),1)])):d("",!0),e(m).case_category.$invalid&&e(M)?(n(),c("small",Zi,_(e(m).case_category.$message),1)):d("",!0)]),t("div",Ki,[Ji,g(e(F),{disabled:!e(r),modelValue:e(m).admission_criteria.$model,"onUpdate:modelValue":i[30]||(i[30]=o=>e(m).admission_criteria.$model=o),options:Ye.value,id:"admission_criteria",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).admission_criteria&&e(f).admission_criteria!=e(m).admission_criteria.$model?(n(),c("small",qi,[w(" Edited as: "),t("span",Xi,_(e(f).admission_criteria),1)])):d("",!0),e(m).admission_criteria.$invalid&&e(M)?(n(),c("small",Qi,_(e(m).admission_criteria.$message),1)):d("",!0)]),t("div",eo,[to,g(e(F),{disabled:!e(r),modelValue:e(m).category_of_criteria.$model,"onUpdate:modelValue":i[31]||(i[31]=o=>e(m).category_of_criteria.$model=o),options:e(we),id:"category_of_criteria",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(f)&&e(f).category_of_criteria&&e(f).category_of_criteria!=e(m).category_of_criteria.$model?(n(),c("small",ao,[w(" Edited as: "),t("span",so,_(e(f).category_of_criteria),1)])):d("",!0),e(m).category_of_criteria.$invalid&&e(M)?(n(),c("small",io,_(e(m).category_of_criteria.$message),1)):d("",!0)]),t("div",oo,[lo,g(e(Re),{disabled:!e(r),modelValue:e(m).date_of_admission.$model,"onUpdate:modelValue":i[32]||(i[32]=o=>e(m).date_of_admission.$model=o),id:"date_of_admission",dateFormat:Be},null,8,["disabled","modelValue"]),e(f)&&e(f).date_of_admission&&e(f).date_of_admission!=e(m).date_of_admission.$model?(n(),c("small",no,[w(" Edited as: "),t("span",ro,_(e(f).date_of_admission),1)])):d("",!0),e(m).date_of_admission.$invalid&&e(M)?(n(),c("small",co,_(e(m).date_of_admission.$message),1)):d("",!0)]),t("div",_o,[mo,g(e(Y),{disabled:!e(r),modelValue:e(m).admitted_year.$model,"onUpdate:modelValue":i[33]||(i[33]=o=>e(m).admitted_year.$model=o),id:"admitted_year"},null,8,["disabled","modelValue"]),e(f)&&e(f).admitted_year&&e(f).admitted_year!=e(m).admitted_year.$model?(n(),c("small",uo,[w(" Edited as: "),t("span",po,_(e(f).admitted_year),1)])):d("",!0),e(m).admitted_year.$invalid&&e(M)?(n(),c("small",ho,_(e(m).admitted_year.$message),1)):d("",!0)]),t("div",go,[fo,t("p",vo,_(te(e(m).admitted_month.$model)),1),e(f)&&e(f).admitted_month&&e(f).admitted_month!=e(m).admitted_month.$model?(n(),c("small",bo,[w(" Edited as: "),t("span",yo,_(te(e(f).admitted_month)),1)])):d("",!0),e(m).admitted_month.$invalid&&e(M)?(n(),c("small",wo,_(e(m).admitted_month.$message),1)):d("",!0)])])],32)]),_:1},8,["disabled"]),g(e(Me),{header:"Follow Up",disabled:e(p).disableFollowUp},{default:N(()=>[g(e(rt),{visible:e(_e),"onUpdate:visible":i[42]||(i[42]=o=>Gt(_e)?_e.value=o:null),position:"right",class:"w-full md:w-30rem",pt:{header:{style:"justify-content: space-between"}}},{header:N(()=>[t("h4",ko,_(e(Ue)),1)]),default:N(()=>[t("h5",$o,[Vo,w(_(e(Ge)(e(m).date_of_admission.$model,new Date().toISOString().split("T")[0]))+" Days",1)]),t("form",{onSubmit:i[41]||(i[41]=qe(o=>e(Ie)(!e(D).$invalid),["prevent"]))},[t("div",xo,[t("div",Co,[So,g(e(Re),{id:"date_of_visit",modelValue:e(D).date_of_visit.$model,"onUpdate:modelValue":i[35]||(i[35]=o=>e(D).date_of_visit.$model=o),dateFormat:Be},null,8,["modelValue"]),e(D).date_of_visit.$invalid&&e(W)?(n(),c("small",Oo,_(e(D).date_of_visit.$message),1)):d("",!0)]),t("div",Uo,[Eo,ie(g(e(pe),{id:"fu-muac_cm",modelValue:e(D).muac_cm.$model,"onUpdate:modelValue":i[36]||(i[36]=o=>e(D).muac_cm.$model=o),min:8,max:30,minFractionDigits:2},null,8,["modelValue"]),[[X]]),e(D).muac_cm.$invalid&&e(W)?(n(),c("small",Do,_(e(D).muac_cm.$message),1)):d("",!0)]),t("div",Lo,[Fo,ie(g(e(pe),{id:"fu-weight_kg",modelValue:e(D).weight_kg.$model,"onUpdate:modelValue":i[37]||(i[37]=o=>e(D).weight_kg.$model=o),min:1.5,max:25,minFractionDigits:2},null,8,["modelValue"]),[[X]]),e(D).weight_kg.$invalid&&e(W)?(n(),c("small",zo,_(e(D).weight_kg.$message),1)):d("",!0)]),t("div",Ao,[Ro,g(e(F),{id:"fu-food",modelValue:e(D).food.$model,"onUpdate:modelValue":i[38]||(i[38]=o=>e(D).food.$model=o),class:A({"p-error":e(D).food.$invalid&&e(W)}),options:e(Se),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(D).food.$invalid&&e(W)?(n(),c("small",Mo,_(e(D).food.$message),1)):d("",!0)]),t("div",Bo,[Io,g(e(Y),{id:"fu-food_kg",type:"number",modelValue:e(D).food_kg.$model,"onUpdate:modelValue":i[39]||(i[39]=o=>e(D).food_kg.$model=o),class:A({"p-error":e(D).food_kg.$invalid&&e(W)})},null,8,["modelValue","class"]),e(D).food_kg.$invalid&&e(W)?(n(),c("small",To,_(e(D).food_kg.$message),1)):d("",!0)]),t("div",No,[Go,g(e(F),{id:"fu-follow_up_result",modelValue:e(D).follow_up_result.$model,"onUpdate:modelValue":i[40]||(i[40]=o=>e(D).follow_up_result.$model=o),class:A(["flex-1",{"p-error":e(D).follow_up_result.$invalid&&e(W)}]),options:e(y),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(D).follow_up_result.$invalid&&e(W)?(n(),c("small",Po,_(e(D).follow_up_result.$message),1)):d("",!0)]),jo,t("div",Yo,[g(e(I),{type:"submit",label:"Save",severity:"primary"})])])],32)]),_:1},8,["visible"]),t("div",Wo,[g(e(I),{icon:"pi pi-plus",label:"Add",onClick:e(Oe),severity:"secondary",text:""},null,8,["onClick"])]),g(e(Jt),{value:e(Ce)},{list:N(o=>[t("table",Ho,[t("tr",Zo,[t("td",Ko,[w(" Visit: "+_(o.data.visit)+" ",1),t("span",{style:{float:"right"},onClick:ze=>e(Te)(o.data.id)},Xo,8,Jo),t("span",{style:{float:"right","padding-right":"10px"},onClick:ze=>e(Ne)(o.data.id)},tl,8,Qo)])]),t("tr",null,[al,t("td",sl,_(o.data.date_of_visit),1)]),t("tr",null,[il,t("td",ol,_(o.data.muac_cm),1)]),t("tr",null,[ll,t("td",nl,_(o.data.weight_kg),1)]),t("tr",null,[dl,t("td",rl,_(o.data.food),1)]),t("tr",null,[cl,t("td",_l,_(o.data.food_kg),1)]),t("tr",null,[ml,t("td",{class:A({"p-badge p-component p-badge-success":o.data.follow_up_result=="Complete Follow Up"})},_(o.data.follow_up_result),3)])])]),_:1},8,["value"])]),_:1},8,["disabled"]),g(e(Me),{header:"Discharge",disabled:e(p).disableDischarge},{default:N(()=>[t("div",ul,[t("div",pl,[e(j)?d("",!0):(n(),G(e(I),{key:0,onClick:i[43]||(i[43]=o=>j.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",hl,[e(j)?(n(),G(e(I),{key:0,onClick:i[44]||(i[44]=o=>e(z)()),label:"Save",severity:"primary"})):d("",!0)]),t("div",gl,[e(j)?(n(),G(e(I),{key:0,onClick:i[45]||(i[45]=o=>j.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):d("",!0)]),t("div",fl,[g(e(Xe),{value:e(O).status??"Not Discharged Yet",severity:e(O).status=="Completed"?"success":e(O).status=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",vl,[t("div",bl,[yl,g(e(F),{disabled:!e(j),modelValue:e(O).discharge_status,"onUpdate:modelValue":i[46]||(i[46]=o=>e(O).discharge_status=o),options:e($e),id:"discharge_status",optionLabel:"name",optionValue:"code",onChange:e(V)},null,8,["disabled","modelValue","options","onChange"]),e(x)&&e(x).discharge_status&&e(x).discharge_status!=e(O).discharge_status?(n(),c("small",wl,[w(" Edited as: "),t("span",kl,_(e(x).discharge_status),1)])):d("",!0)]),t("div",$l,[Vl,g(e(F),{disabled:!e(j),modelValue:e(O).discharge_category,"onUpdate:modelValue":i[47]||(i[47]=o=>e(O).discharge_category=o),options:e(Ve),id:"discharge_category",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(x)&&e(x).discharge_category&&e(x).discharge_category!=e(O).discharge_category?(n(),c("small",xl,[w(" Edited as: "),t("span",Cl,_(e(x).discharge_category),1)])):d("",!0)]),t("div",Sl,[Ol,g(e(F),{disabled:!e(j),modelValue:e(O).discharge_with,"onUpdate:modelValue":i[48]||(i[48]=o=>e(O).discharge_with=o),options:e(xe),id:"discharge_with",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(x)&&e(x).discharge_with&&e(x).discharge_with!=e(O).discharge_with?(n(),c("small",Ul,[w(" Edited as: "),t("span",El,_(e(x).discharge_with),1)])):d("",!0)]),t("div",Dl,[Ll,g(e(Re),{disabled:!e(j),modelValue:e(O).date_of_discharge,"onUpdate:modelValue":i[49]||(i[49]=o=>e(O).date_of_discharge=o),id:"date_of_discharge",dateFormat:Be},null,8,["disabled","modelValue"]),e(x)&&e(x).date_of_discharge&&e(x).date_of_discharge!=e(O).date_of_discharge?(n(),c("small",Fl,[w(" Edited as: "),t("span",zl,_(e(x).date_of_discharge),1)])):d("",!0)]),t("div",Al,[Rl,g(e(Y),{disabled:"true",modelValue:e(O).discharge_year,"onUpdate:modelValue":i[50]||(i[50]=o=>e(O).discharge_year=o),id:"discharge_year"},null,8,["modelValue"]),e(x)&&e(x).discharge_year&&e(x).discharge_year!=e(O).discharge_year?(n(),c("small",Ml,[w(" Edited as: "),t("span",Bl,_(e(x).discharge_year),1)])):d("",!0)]),t("div",Il,[Tl,t("p",Nl,_(te(e(O).discharge_month)),1),e(x)&&e(x).discharge_month&&e(x).discharge_month!=e(O).discharge_month?(n(),c("small",Gl,[w(" Edited as: "),t("span",Pl,_(te(e(x).discharge_month)),1)])):d("",!0)]),t("div",jl,[Yl,g(e(Y),{disabled:"true",type:"number",modelValue:e(O).discharge_muac_cm,"onUpdate:modelValue":i[51]||(i[51]=o=>e(O).discharge_muac_cm=o),id:"discharge_muac_cm"},null,8,["modelValue"]),e(x)&&e(x).discharge_month&&e(x).discharge_month!=e(O).discharge_month?(n(),c("small",Wl,[w(" Edited as: "),t("span",Hl,_(e(x).discharge_month),1)])):d("",!0)]),t("div",Zl,[Kl,g(e(Y),{type:"number",modelValue:e(O).discharge_weight_kg,"onUpdate:modelValue":i[52]||(i[52]=o=>e(O).discharge_weight_kg=o),id:"discharge_weight_kg",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).discharge_weight_kg&&e(x).discharge_weight_kg!=e(O).discharge_weight_kg?(n(),c("small",Jl,[w(" Edited as: "),t("span",ql,_(e(x).discharge_weight_kg),1)])):d("",!0)]),t("div",Xl,[Ql,g(e(Y),{type:"number",modelValue:e(O).discharge_height_cm,"onUpdate:modelValue":i[53]||(i[53]=o=>e(O).discharge_height_cm=o),id:"discharge_height_cm",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).discharge_height_cm&&e(x).discharge_height_cm!=e(O).discharge_height_cm?(n(),c("small",en,[w(" Edited as: "),t("span",tn,_(e(x).discharge_height_cm),1)])):d("",!0)]),t("div",an,[sn,g(e(Y),{type:"text",modelValue:e(O).discharge_wfh_zscore,"onUpdate:modelValue":i[54]||(i[54]=o=>e(O).discharge_wfh_zscore=o),id:"discharge_wfh_zscore",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).discharge_wfh_zscore&&e(x).discharge_wfh_zscore!=e(O).discharge_wfh_zscore?(n(),c("small",on,[w(" Edited as: "),t("span",ln,_(e(x).discharge_wfh_zscore),1)])):d("",!0)]),t("div",nn,[dn,g(e(Y),{type:"number",modelValue:e(O).length_of_stay,"onUpdate:modelValue":i[55]||(i[55]=o=>e(O).length_of_stay=o),id:"length_of_stay",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).length_of_stay&&e(x).length_of_stay!=e(O).length_of_stay?(n(),c("small",rn,[w(" Edited as: "),t("span",cn,_(e(x).length_of_stay),1)])):d("",!0)])])]),_:1},8,["disabled"])]),_:1}),e(S)?(n(),G(Zt,{key:0})):d("",!0)]),g(e(qt),null,{message:N(o=>[t("div",_n,[t("i",{class:A([o.message.icon,"mt-2 text-red-500 text-5xl"])},null,2),t("div",mn,_(o.message.message),1)])]),_:1}),g(e(Ht),{closable:!1,visible:L.value,modal:"",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},header:"Transfer case to:"},{footer:N(()=>[g(e(I),{label:"Cancel",icon:"pi pi-times",onClick:i[57]||(i[57]=o=>L.value=!1),text:""}),g(e(I),{label:"Transfer",icon:"pi pi-check",onClick:e(Pe),autofocus:""},null,8,["onClick"])]),default:N(()=>[t("div",un,[g(e(F),{id:"transfer_to",modelValue:e(Ee).user_id,"onUpdate:modelValue":i[56]||(i[56]=o=>e(Ee).user_id=o),options:e($),optionLabel:"full_name",optionValue:"id",class:"w-full",filter:""},null,8,["modelValue","options"])])]),_:1},8,["visible"])],64)}}},Fn=Nt(hn,[["__scopeId","data-v-a394c7f4"]]);export{Fn as default};
