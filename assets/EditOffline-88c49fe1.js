import{E as we,W as ke,z as v,K as Ce,A as Oe,L as Ae,S as Ge,B as S,N as Ue,_ as ze,M as ie,l as xe,o as u,c as g,a as t,b as m,G as e,n as y,q as de,w as ee,e as O,t as c,i as p,g as F,F as Se,aa as De,k as D,P as Be,Q as Le}from"./index-4f94937a.js";import{s as b}from"./dropdown.esm-3ad035dd.js";import{s as U}from"./inputtext.esm-6cf2667e.js";import{s as re}from"./dialog.esm-a83cdbdd.js";import{s as ce}from"./calendar.esm-ddc87fad.js";import{L as Ne}from"./Loading-bb69d374.js";import{s as ne,a as Fe}from"./tabpanel.esm-ee6431c7.js";import{s as Me}from"./confirmdialog.esm-edc8c15c.js";import{u as Te,r as w,i as ue}from"./index-333b8763.js";import{u as Re}from"./store-cc72b0fb.js";import{u as We}from"./globalStore-518151fd.js";import{E as Ie}from"./serverValidation-35937a0f.js";import{w as Pe}from"./zscore-9e188e39.js";import"./index.esm-9105f0a0.js";const Ye=()=>{const k=Re(),z=We(),o=we(),M=ke(),_=v(!0),$=v(!1),T=new Ie,Y=Ce(),oe=v([{code:"Yangon",name:"Yangon"}]),B=v([]),E=v([]),W=v(!0),q=v([]),G=v([]),x=v(),A=v([]),H=v([]),K=v([]),L=v([]),j=v([]),Z=v([]),I=v([]),Q=v([]),h=v([]),r=v([]),te=v([]),C=v([]),J=v([]),se=v([{name:"3",code:3},{name:"6",code:6},{name:"9",code:9}]),V=async()=>{$.value=!0,await z.fetchAllEnums();const n=z.getAllEnumResponse;if(n){const{options:f}=n.data;q.value=f.screening_type.map(d=>({name:d,code:d})),G.value=f.type.map(d=>({name:d,code:d})),x.value=f.gender.map(d=>({name:d,code:d})),A.value=f.age_group.map(d=>({name:d,code:d})),H.value=f.yes_no.map(d=>({name:d,code:d})),K.value=f.donar.map(d=>({name:d,code:d})),L.value=f.wfh_zscore.map(d=>({name:d,code:d})),Z.value=f.bilateral_pitting_odema.map(d=>({name:d,code:d})),j.value=f.appetite_test.map(d=>({name:d,code:d})),I.value=f.immunization_status.map(d=>({name:d,code:d})),Q.value=f.type_of_case.map(d=>({name:d,code:d})),h.value=f.case_category.map(d=>({name:d,code:d,visible:!0})),r.value=f.admission_criteria.map(d=>({name:d,code:d,visible:!0})),C.value=f.criteria_group.map(d=>({name:d,code:d,visible:!0})),J.value=f.food.map(d=>({name:d,code:d}))}$.value=!1},X=async()=>{$.value=!0,await z.fetchAllTownship();const n=z.getAllTownshipResponse;if(n){const{options:f}=n.data;B.value=f}$.value=!1},N=async()=>{W.value=!0,await z.fetchAllWards({township:s.township});const n=z.getAllWardResponse;n&&(E.value=n,W.value=!1)};Oe(async()=>{_.value=M.query.online==="true",await V(),await X(),await N(),await ye()}),Ae(()=>{k.$dispose()});const s=Ge({am_number:"",screening_type:"",state:"Yangon",township:"Hlaingtharya",village:"",patient_name:"",type:"",gender:"",date_of_birth:"",age_group:"",age_month:"",age_year:"",disability:"",phone_number:"",father_name:"",husband_name:"",receiving_cash_assistant:"",yes_which_donar:"",muac_cm:"",weight_kg:"",height_cm:"",wfh_zscore:"",immunization_status:"",deworming:"",vit_a_supplement:"",type_of_case:"",case_category:"",admission_criteria:"",criteria_group:"",date_of_admission:null,admitted_year:null,admitted_month:null,food:"",food_kg:null}),R=async()=>{Y.require({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectClass:"p-button-primary p-button-text",acceptClass:"p-button-danger p-button-text",accept:async()=>{$.value=!0,await k.deleteOfflineCase({id:parseInt(M.params.id)}),k.getDeleteOfflineCaseResponse&&(le("Deleted successfully","success"),o.push({name:"caseList",query:{online:_.value}})),$.value=!1},reject:()=>{}})},l={screening_type:{required:w},state:{required:w},township:{required:w},village:{required:w},patient_name:{required:w},type:{required:w},gender:{required:w},date_of_birth:{required:w},age_group:{required:w},age_month:{},age_year:{},disability:{required:w},phone_number:{required:w},father_name:{},husband_name:{},receiving_cash_assistant:{},yes_which_donar:{},muac_cm:{},weight_kg:{},height_cm:{},wfh_zscore:{},immunization_status:{},deworming:{},vit_a_supplement:{},type_of_case:{},case_category:{},admission_criteria:{},criteria_group:{},date_of_admission:{},admitted_year:{integer:ue,required:w},admitted_month:{integer:ue,required:w},food:{},food_kg:{}},P=v(!1),a=Te(l,s),pe=n=>{P.value=!0,console.log("submit"),n&&($.value||me())},me=async()=>{T.clear(),$.value=!0;try{await k.updateOffline({am_number:s.am_number,screening_type:s.screening_type,state:s.state,township:s.township,village:s.village,patient_name:s.patient_name,type:s.type,gender:s.gender,date_of_birth:s.date_of_birth,age_group:s.age_group,age_month:s.age_month,age_year:s.age_year,disability:s.disability,phone_number:s.phone_number,father_name:s.father_name,husband_name:s.husband_name,receiving_cash_assistant:s.receiving_cash_assistant,yes_which_donar:s.yes_which_donar,muac_cm:s.muac_cm,weight_kg:s.weight_kg,height_cm:s.height_cm,wfh_zscore:s.wfh_zscore,immunization_status:s.immunization_status,deworming:s.deworming,vit_a_supplement:s.vit_a_supplement,type_of_case:s.type_of_case,case_category:s.case_category,category_of_criteria:s.category_of_criteria,criteria_group:s.criteria_group,date_of_admission:s.date_of_admission,admitted_year:s.admitted_year,admitted_month:s.admitted_month},parseInt(M.params.id)),k.getAddResponse&&o.push({name:"caseList",query:{online:_.value}}),$.value=!1}catch(n){if($.value=!1,n.status===422){const f=n.data.data;T.record(f)}}};S(()=>s.township,()=>{N()}),S(()=>s.date_of_admission,()=>{he()}),S(()=>s.date_of_birth,()=>{const n=new Date(s.date_of_birth),f=new Date;let d=(f.getFullYear()-n.getFullYear())*12;if(d-=n.getMonth(),d+=f.getMonth(),f.getDate()<n.getDate()&&d--,d<6){le("At lease, 6 Months of Age is required");return}if(["Boy","Girl"].includes(s.type)?(s.age_month=d,s.age_year=""):(s.age_year=parseInt(d/12),s.age_month=""),d>=6&&d<=23){s.age_group=A.value[0].name;return}else if(d>=24&&d<=59){s.age_group=A.value[1].name;return}else if(d>=12*12&&d<=17*12){s.age_group=A.value[2].name;return}else if(d>=18*12&&d<=59*12){s.age_group=A.value[3].name;return}else s.age_group=""}),S(()=>s.type,()=>{switch(s.type){case G.value[0].name:s.gender=x.value[0].name;break;case G.value[1].name:s.gender=x.value[1].name;break;case G.value[2].name:s.gender=x.value[1].name;break;case G.value[3].name:s.gender=x.value[1].name;break}}),S(()=>[s.age_group,s.height_cm,s.weight_kg],()=>{_e()}),S(()=>[s.type_of_case],()=>{ge()}),S(()=>[s.criteria_group],()=>{fe()}),S(()=>[s.case_category],()=>{ve()});const _e=()=>{if(A.value.some(f=>f.name==s.age_group)){if(s.weight_kg!==0&&s.height_cm!==0){const f=s.age_group===A.value[0].name?"m24under":"m24to59",d=s.type===G.value[0].name?"boy":"girl",$e=Math.round(s.height_cm),ae=Pe[f][d].find(Ve=>Ve.length===$e);if(ae!==void 0)if(s.weight_kg<ae.minus3){s.wfh_zscore=L.value[0].name;return}else if(s.weight_kg<ae.minus2){s.wfh_zscore=L.value[1].name;return}else s.wfh_zscore=L.value[2].name}}else le("Firstly, you need to set Date of Birth, then Age Group will be defined and WFH ZScore will be automatically selected","warn")},ge=()=>{switch(s.type_of_case){case"New":C.value[0].visible=!0,C.value[1].visible=!1,C.value[2].visible=!1,C.value[3].visible=!1,s.criteria_group="New";break;case"Old":s.criteria_group="Re-admission",C.value[0].visible=!1,C.value[1].visible=!0,C.value[2].visible=!0,C.value[3].visible=!0;break}},fe=()=>{switch(s.criteria_group){case"New":s.case_category="MAM New",h.value[0].visible=!0,h.value[1].visible=!1,h.value[2].visible=!1,h.value[3].visible=!1,h.value[4].visible=!1;break;case"Re-admission":s.case_category="MAM Old",h.value[0].visible=!1,h.value[1].visible=!0,h.value[2].visible=!0,h.value[3].visible=!1,h.value[4].visible=!1;break;case"Relapse":s.case_category="Relapse",h.value[0].visible=!1,h.value[1].visible=!1,h.value[2].visible=!1,h.value[3].visible=!0,h.value[4].visible=!1;break;case"Transfer":s.case_category="Transfer",h.value[0].visible=!1,h.value[1].visible=!1,h.value[2].visible=!1,h.value[3].visible=!1,h.value[4].visible=!0;break}},ve=()=>{switch(s.case_category){case"MAM New":s.admission_criteria="New",r.value[0].visible=!0,r.value[1].visible=!1,r.value[2].visible=!1,r.value[3].visible=!1,r.value[4].visible=!1,r.value[5].visible=!1,r.value[6].visible=!1,r.value[7].visible=!1,r.value[8].visible=!1;break;case"MAM Old":s.admission_criteria="Return from Cured within 2 month",r.value[0].visible=!1,r.value[1].visible=!0,r.value[2].visible=!0,r.value[3].visible=!1,r.value[4].visible=!1,r.value[5].visible=!1,r.value[6].visible=!1,r.value[7].visible=!1,r.value[8].visible=!1;break;case"Return form Defaulter":s.admission_criteria="Return from Default within 2 month",r.value[0].visible=!1,r.value[1].visible=!1,r.value[2].visible=!1,r.value[3].visible=!0,r.value[4].visible=!1,r.value[5].visible=!1,r.value[6].visible=!1,r.value[7].visible=!1,r.value[8].visible=!1;break;case"Relapse":s.admission_criteria="Return from Cured after 2 month",r.value[0].visible=!1,r.value[1].visible=!1,r.value[2].visible=!1,r.value[3].visible=!1,r.value[4].visible=!0,r.value[5].visible=!0,r.value[6].visible=!1,r.value[7].visible=!1,r.value[8].visible=!1;break;case"Transfer":s.admission_criteria="Transfer in Other SFP",r.value[0].visible=!1,r.value[1].visible=!1,r.value[2].visible=!1,r.value[3].visible=!1,r.value[4].visible=!1,r.value[5].visible=!1,r.value[6].visible=!0,r.value[7].visible=!0,r.value[8].visible=!0;break}},he=()=>{const n=new Date(s.date_of_admission);s.admitted_year=n.getFullYear(),s.admitted_month=n.getMonth()+1},be=()=>{Y.require({message:"Are you sure you want to cancel?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectClass:"p-button-primary p-button-text",acceptClass:"p-button-danger p-button-text",accept:()=>{o.push({name:"caseList",query:{online:_.value}})},reject:()=>{}})},le=(n,f="error")=>{Ue.emit("show-toast",{severity:f,summary:"",detail:n,life:3e3})},ye=async()=>{$.value=!0,T.clear(),await k.fetchOne({id:M.params.id},_.value);const n=k.getOneResponse;n&&(s.am_number=n.am_number,s.id=n.id,s.status=n.status,s.screening_type=n.screening_type,s.state=n.state,s.township=n.township,s.village=n.village,s.patient_name=n.patient_name,s.type=n.type,s.gender=n.gender,s.date_of_birth=n.date_of_birth,s.age_group=n.age_group,s.disability=n.disability,s.phone_number=n.phone_number,s.father_name=n.father_name,s.husband_name=n.husband_name,s.receiving_cash_assistant=n.receiving_cash_assistant,s.yes_which_donar=n.yes_which_donar,s.muac_cm=n.muac_cm,s.weight_kg=n.weight_kg,s.height_cm=n.height_cm,s.wfh_zscore=n.wfh_zscore,s.immunization_status=n.immunization_status,s.deworming=n.deworming,s.vit_a_supplement=n.vit_a_supplement,s.type_of_case=n.type_of_case,s.case_category=n.case_category,s.admission_criteria=n.admission_criteria,s.criteria_group=n.criteria_group,s.date_of_admission=n.date_of_admission,s.admitted_year=n.admitted_year,s.admitted_month=n.admitted_month,s.food=n.food,s.food_kg=n.food_kg,$.value=!1)};return{isLoading:$,v$:a,submitted:P,handleSubmit:pe,errors:T,villageDisabled:W,stateOptions:oe,townshipOptions:B,villageOptions:E,donarOptions:K,yesNoOptions:H,ageGroupOptions:A,genderOptions:x,typeOptions:G,screeningTypeOptions:q,bilateralPittingOedemaOptions:Z,zScoreOptions:L,appetiteTestOptions:j,immunizationStatusOptions:I,typeOfCasesOptions:Q,caseCategoriesOptions:h,admissionCriteriaOptions:r,criteriaOptions:te,criteriaGroupsOptions:C,confirmCancel:be,deleteOfflineCase:R,isOnline:_,foodOptions:J,foodKgOptions:se}};const i=k=>(Be("data-v-678c9eea"),k=k(),Le(),k),Ee={class:"card"},qe={class:"flex align-items-right"},He={class:"flex-1"},Ke={class:"flex-2"},je={class:"flex-2"},Ze={class:"field col-12 md:col-6 lg:col-6"},Qe=i(()=>t("span",{class:"p-error"},"*",-1)),Je={key:0,class:"p-error"},Xe={class:"field col-12 md:col-6 lg:col-6"},eo=i(()=>t("span",{class:"p-error"},"*",-1)),oo={key:0,class:"p-error"},to={class:"field col-12 md:col-6 lg:col-6"},so=i(()=>t("span",{class:"p-error"},"*",-1)),lo={key:0,class:"p-error"},ao={class:"field col-12 md:col-6 lg:col-6"},io=i(()=>t("span",{class:"p-error"},"*",-1)),no={key:0,class:"p-error"},ro={class:"field col-12 md:col-6 lg:col-6"},co=i(()=>t("span",{class:"p-error"},"*",-1)),uo={key:0,class:"p-error"},po={class:"field col-12 md:col-6 lg:col-6"},mo=i(()=>t("span",{class:"p-error"},"*",-1)),_o={key:0,class:"p-error"},go={class:"field col-12 md:col-6 lg:col-6"},fo=i(()=>t("span",{class:"p-error"},"*",-1)),vo={key:0,class:"p-error"},ho={class:"field col-12 md:col-6 lg:col-6"},bo=i(()=>t("span",{class:"p-error"},"*",-1)),yo={key:0,class:"p-error"},$o={class:"field col-12 md:col-6 lg:col-6"},Vo=i(()=>t("span",{class:"p-error"},"*",-1)),wo={key:0,class:"p-error"},ko={key:0,class:"field col-12 md:col-6 lg:col-6"},Co={key:1,class:"field col-12 md:col-6 lg:col-6"},Oo={class:"field col-12 md:col-6 lg:col-6"},Ao=i(()=>t("span",{class:"p-error"},"*",-1)),Go={key:0,class:"p-error"},Uo={class:"field col-12 md:col-6 lg:col-6"},zo=i(()=>t("span",{class:"p-error"},"*",-1)),xo={key:0,class:"p-error"},So={key:2,class:"field col-12 md:col-6 lg:col-6"},Do={key:0,class:"p-error"},Bo={key:3,class:"field col-12 md:col-6 lg:col-6"},Lo={key:0,class:"p-error"},No={class:"field col-12 md:col-6 lg:col-6"},Fo=i(()=>t("label",{for:"receiving_cash_assistant"},"Receiving Cash Assistant",-1)),Mo={key:0,class:"p-error"},To={key:4,class:"field col-12 md:col-6 lg:col-6"},Ro=i(()=>t("label",{for:"yes_which_donar"},"If Yes, Which Donar?",-1)),Wo={key:0,class:"p-error"},Io={class:"grid p-fluid mt-1 overflow-scroll",style:{height:"65vh"}},Po={class:"field col-12 md:col-6 lg:col-6"},Yo=i(()=>t("label",{for:"muac_cm"},"MUAC (cm)",-1)),Eo={key:0,class:"field col-12 md:col-6 lg:col-6"},qo=i(()=>t("label",{for:"weight_kg"},"Weight (kg)",-1)),Ho={key:1,class:"field col-12 md:col-6 lg:col-6"},Ko=i(()=>t("label",{for:"height_cm"},"Height (cm)",-1)),jo={key:2,class:"field col-12 md:col-6 lg:col-6"},Zo={key:0,class:"p-error"},Qo={key:3,class:"field col-12 md:col-6 lg:col-6"},Jo=i(()=>t("label",{for:"immunization_status"},"Immunization Status",-1)),Xo={class:"field col-12 md:col-6 lg:col-6"},et=i(()=>t("label",{for:"deworming"},"Deworming",-1)),ot={key:4,class:"field col-12 md:col-6 lg:col-6"},tt=i(()=>t("label",{for:"vit_a_supplement"},"Vitamin A Supplement",-1)),st={class:"field col-12 md:col-6 lg:col-6"},lt=i(()=>t("label",{for:"type_of_case"},"Type of Case",-1)),at={class:"field col-12 md:col-6 lg:col-6"},it=i(()=>t("label",{for:"criteria_group"},"Criteria Group",-1)),nt={class:"field col-12 md:col-6 lg:col-6"},dt=i(()=>t("label",{for:"case_category"},"Case Category",-1)),rt={class:"field col-12 md:col-6 lg:col-6"},ct=i(()=>t("label",{for:"admission_criteria"},"Admission Criteria",-1)),ut={class:"field col-12 md:col-6 lg:col-6"},pt=i(()=>t("label",{for:"date_of_admission"},"Date of Admission",-1)),mt={class:"field col-12 md:col-6 lg:col-6"},_t=i(()=>t("label",{for:"admitted_year"},"Admitted Year",-1)),gt={class:"field col-12 md:col-6 lg:col-6"},ft=i(()=>t("label",{for:"admitted_month"},"Admitted Month",-1)),vt={class:"field col-12 md:col-6 lg:col-6"},ht=i(()=>t("label",{for:"food"},"Food",-1)),bt={key:5,class:"field col-12 md:col-6 lg:col-6"},yt=i(()=>t("label",{for:"food_kg"},"Food (kg)",-1)),$t={class:"grid p-fluid mt-1 overflow-scroll",style:{height:"65vh"}},Vt={class:"w-full"},wt=i(()=>t("tr",null,[t("th",{class:"bg-primary",colspan:"2"},"Biographic Info")],-1)),kt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Screening Type",-1)),Ct={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Ot=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"State",-1)),At={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Gt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Township",-1)),Ut={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},zt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Village/Ward",-1)),xt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},St=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Patient Name",-1)),Dt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Bt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Type",-1)),Lt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Nt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Gender",-1)),Ft={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Mt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Date of Birth",-1)),Tt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Rt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Age Group",-1)),Wt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},It={key:0},Pt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Age Month",-1)),Yt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Et={key:1},qt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Age Year",-1)),Ht={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Kt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Disability",-1)),jt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Zt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Phone Number",-1)),Qt={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Jt={key:2},Xt=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Father's Name",-1)),es={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},os={key:3},ts=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Husband's Name",-1)),ss={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},ls=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Receiving Cash Assistant",-1)),as={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},is={key:4},ns=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"If Yes, Which Donar?",-1)),ds={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},rs=i(()=>t("tr",null,[t("th",{colspan:"2"},"...")],-1)),cs=i(()=>t("tr",null,[t("th",{class:"bg-primary",colspan:"2"},"Screening")],-1)),us=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"MUAC in cm",-1)),ps={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},ms={key:5},_s=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Weight in kg",-1)),gs={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},fs={key:6},vs=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Height (cm)",-1)),hs={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},bs={key:7},ys=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"WFH Z-Score",-1)),$s={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Vs={key:8},ws=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Immunization Status",-1)),ks={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Cs=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Deworming",-1)),Os={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},As={key:9},Gs=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Vitamin A Supplement",-1)),Us={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},zs=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Type of Case",-1)),xs={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Ss=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Case Category",-1)),Ds={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Bs=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Criteria Group",-1)),Ls={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Ns=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Date of Admission",-1)),Fs={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Ms=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Admitted Year",-1)),Ts={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Rs=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Admitted Month",-1)),Ws={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Is=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Food",-1)),Ps={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Ys={key:10},Es=i(()=>t("td",{class:"pt-1 pb-1 pl-1 surface-ground"},"Food Kg",-1)),qs={class:"pt-1 pb-1 pl-1 surface-ground font-bold"},Hs={class:"flex justify-content-end"},Ks={class:"mr-2"},js={class:"mr-2"},Zs={class:"mr-2"},Qs={class:"mr-2"},Js={class:"mr-2"},Xs={__name:"EditOffline",setup(k){const{isLoading:z,v$:o,handleSubmit:M,submitted:_,villageDisabled:$,stateOptions:T,townshipOptions:Y,villageOptions:oe,yesNoOptions:B,donarOptions:E,ageGroupOptions:W,genderOptions:q,typeOptions:G,screeningTypeOptions:x,zScoreOptions:A,immunizationStatusOptions:H,typeOfCasesOptions:K,caseCategoriesOptions:L,admissionCriteriaOptions:j,criteriaGroupsOptions:Z,confirmCancel:I,deleteOfflineCase:Q,isOnline:h,foodOptions:r,foodKgOptions:te}=Ye(),C=ie(()=>Z.value.filter(l=>l.visible)),J=ie(()=>L.value.filter(l=>l.visible)),se=ie(()=>j.value.filter(l=>l.visible)),V=v(0),X=v("yy-mm-dd"),N=v(null),s=()=>{setTimeout(()=>{N.value&&(N.value.scrollTop=N.value.scrollHeight)},100)};return(R,l)=>{const P=xe("tooltip");return u(),g(Se,null,[t("div",Ee,[t("div",qe,[t("div",He,[m(e(De),{value:e(h)?"Online":"Offline",class:y(e(h)?"p-badge-success":"badge-secondary")},null,8,["value","class"])]),t("div",Ke,[de(m(e(D),{onClick:e(Q),icon:"pi pi-trash",text:"",severity:"danger",rounded:""},null,8,["onClick"]),[[P,"Delete",void 0,{top:!0}]])]),t("div",je,[de(m(e(D),{severity:"secondary",onClick:e(I),icon:"pi pi-times",text:"",rounded:""},null,8,["onClick"]),[[P,"Cancel",void 0,{top:!0}]])])]),m(e(Fe),{activeIndex:V.value,"onUpdate:activeIndex":l[34]||(l[34]=a=>V.value=a),scrollable:!0},{default:ee(()=>[m(e(ne),{header:"Biographic Info"},{default:ee(()=>[t("div",{ref_key:"biContainer",ref:N,class:"grid p-fluid mt-1 overflow-scroll",style:{height:"65vh"}},[t("div",Ze,[t("label",{for:"screening_type",class:y({"p-error":e(o).screening_type.$invalid&&e(_)})},[O("Screening Type"),Qe],2),m(e(b),{id:"screening_type",modelValue:e(o).screening_type.$model,"onUpdate:modelValue":l[0]||(l[0]=a=>e(o).screening_type.$model=a),options:e(x),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).screening_type.$invalid&&e(_)||e(o).screening_type.$pending.$response?(u(),g("small",Je,c(e(o).screening_type.required.$message.replace("Value","Screening Type")),1)):p("",!0)]),t("div",Xe,[t("label",{for:"state",class:y({"p-error":e(o).state.$invalid&&e(_)})},[O("State"),eo],2),m(e(b),{id:"state",modelValue:e(o).state.$model,"onUpdate:modelValue":l[1]||(l[1]=a=>e(o).state.$model=a),options:e(T),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).state.$invalid&&e(_)?(u(),g("small",oo,c(e(o).state.$message),1)):p("",!0)]),t("div",to,[t("label",{for:"township",class:y({"p-error":e(o).township.$invalid&&e(_)})},[O("Township"),so],2),m(e(b),{id:"township",modelValue:e(o).township.$model,"onUpdate:modelValue":l[2]||(l[2]=a=>e(o).township.$model=a),options:e(Y),optionLabel:"name_mm",optionValue:"name"},null,8,["modelValue","options"]),e(o).township.$invalid&&e(_)?(u(),g("small",lo,c(e(o).township.$message),1)):p("",!0)]),t("div",ao,[t("label",{for:"village",class:y({"p-error":e(o).village.$invalid&&e(_)})},[O("Village/Ward"),io],2),m(e(b),{disabled:e($),id:"village",modelValue:e(o).village.$model,"onUpdate:modelValue":l[3]||(l[3]=a=>e(o).village.$model=a),options:e(oe),optionLabel:"name_mm",optionValue:"name_en"},null,8,["disabled","modelValue","options"]),e(o).village.$invalid&&e(_)?(u(),g("small",no,c(e(o).village.$message),1)):p("",!0)]),t("div",ro,[t("label",{for:"patient_name",class:y({"p-error":e(o).patient_name.$invalid&&e(_)})},[O("Patient Name"),co],2),m(e(U),{id:"patient_name",modelValue:e(o).patient_name.$model,"onUpdate:modelValue":l[4]||(l[4]=a=>e(o).patient_name.$model=a)},null,8,["modelValue"]),e(o).patient_name.$invalid&&e(_)?(u(),g("small",uo,c(e(o).patient_name.$message),1)):p("",!0)]),t("div",po,[t("label",{for:"type",class:y({"p-error":e(o).type.$invalid&&e(_)})},[O("Type"),mo],2),m(e(b),{id:"type",modelValue:e(o).type.$model,"onUpdate:modelValue":l[5]||(l[5]=a=>e(o).type.$model=a),options:e(G),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).type.$invalid&&e(_)?(u(),g("small",_o,c(e(o).type.$message),1)):p("",!0)]),t("div",go,[t("label",{for:"gender",class:y({"p-error":e(o).gender.$invalid&&e(_)})},[O("Gender"),fo],2),m(e(b),{id:"gender",modelValue:e(o).gender.$model,"onUpdate:modelValue":l[6]||(l[6]=a=>e(o).gender.$model=a),options:e(q),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).gender.$invalid&&e(_)?(u(),g("small",vo,c(e(o).gender.$message),1)):p("",!0)]),t("div",ho,[t("label",{for:"date_of_birth",class:y({"p-error":e(o).date_of_birth.$invalid&&e(_)})},[O("Date of Birth"),bo],2),m(e(ce),{id:"date_of_birth",modelValue:e(o).date_of_birth.$model,"onUpdate:modelValue":l[7]||(l[7]=a=>e(o).date_of_birth.$model=a),dateFormat:X.value,manualInput:"true"},null,8,["modelValue","dateFormat"]),e(o).date_of_birth.$invalid&&e(_)?(u(),g("small",yo,c(e(o).date_of_birth.$message),1)):p("",!0)]),t("div",$o,[t("label",{for:"age_group",class:y({"p-error":e(o).age_group.$invalid&&e(_)})},[O("Age Group"),Vo],2),m(e(b),{id:"age_group",modelValue:e(o).age_group.$model,"onUpdate:modelValue":l[8]||(l[8]=a=>e(o).age_group.$model=a),options:e(W),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).age_group.$invalid&&e(_)?(u(),g("small",wo,c(e(o).age_group.$message),1)):p("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",ko,[t("label",{for:"age_month",class:y({"p-error":e(o).age_month.$invalid&&e(_)})},"Age Month",2),m(e(U),{id:"age_month",modelValue:e(o).age_month.$model,"onUpdate:modelValue":l[9]||(l[9]=a=>e(o).age_month.$model=a),readonly:""},null,8,["modelValue"])])):p("",!0),e(o).type.$model=="Pregnant Woman or Girl"||e(o).type.$model=="Breastfeeding Woman or Girl"?(u(),g("div",Co,[t("label",{for:"age_year",class:y({"p-error":e(o).age_year.$invalid&&e(_)})},"Age Year",2),m(e(U),{id:"age_year",modelValue:e(o).age_year.$model,"onUpdate:modelValue":l[10]||(l[10]=a=>e(o).age_year.$model=a),readonly:""},null,8,["modelValue"])])):p("",!0),t("div",Oo,[t("label",{for:"disability",class:y({"p-error":e(o).disability.$invalid&&e(_)})},[O("Disability"),Ao],2),m(e(b),{id:"disability",modelValue:e(o).disability.$model,"onUpdate:modelValue":l[11]||(l[11]=a=>e(o).disability.$model=a),options:e(B),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).disability.$invalid&&e(_)?(u(),g("small",Go,c(e(o).disability.$message),1)):p("",!0)]),t("div",Uo,[t("label",{for:"phone_number",class:y({"p-error":e(o).phone_number.$invalid&&e(_)})},[O("Phone Number"),zo],2),m(e(U),{id:"phone_number",modelValue:e(o).phone_number.$model,"onUpdate:modelValue":l[12]||(l[12]=a=>e(o).phone_number.$model=a)},null,8,["modelValue"]),e(o).phone_number.$invalid&&e(_)?(u(),g("small",xo,c(e(o).phone_number.$message),1)):p("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",So,[t("label",{for:"father_name",class:y({"p-error":e(o).father_name.$invalid&&e(_)})},"Father's Name",2),m(e(U),{id:"father_name",modelValue:e(o).father_name.$model,"onUpdate:modelValue":l[13]||(l[13]=a=>e(o).father_name.$model=a)},null,8,["modelValue"]),e(o).father_name.$invalid&&e(_)?(u(),g("small",Do,c(e(o).father_name.$message),1)):p("",!0)])):p("",!0),e(o).type.$model=="Pregnant Woman or Girl"||e(o).type.$model=="Breastfeeding Woman or Girl"?(u(),g("div",Bo,[t("label",{for:"husband_name",class:y({"p-error":e(o).husband_name.$invalid&&e(_)})},"Husband's Name",2),m(e(U),{id:"husband_name",modelValue:e(o).husband_name.$model,"onUpdate:modelValue":l[14]||(l[14]=a=>e(o).husband_name.$model=a)},null,8,["modelValue"]),e(o).husband_name.$invalid&&e(_)?(u(),g("small",Lo,c(e(o).husband_name.$message),1)):p("",!0)])):p("",!0),t("div",No,[Fo,m(e(b),{id:"receiving_cash_assistant",onChange:l[15]||(l[15]=a=>s()),modelValue:e(o).receiving_cash_assistant.$model,"onUpdate:modelValue":l[16]||(l[16]=a=>e(o).receiving_cash_assistant.$model=a),options:e(B),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).receiving_cash_assistant.$invalid&&e(_)?(u(),g("small",Mo,c(e(o).receiving_cash_assistant.$message),1)):p("",!0)]),e(o).receiving_cash_assistant.$model=="Yes"?(u(),g("div",To,[Ro,m(e(b),{id:"yes_which_donar",modelValue:e(o).yes_which_donar.$model,"onUpdate:modelValue":l[17]||(l[17]=a=>e(o).yes_which_donar.$model=a),options:e(E),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).yes_which_donar.$invalid&&e(_)?(u(),g("small",Wo,c(e(o).yes_which_donar.$message),1)):p("",!0)])):p("",!0)],512)]),_:1}),m(e(ne),{header:"Screening"},{default:ee(()=>[t("div",Io,[t("div",Po,[Yo,m(e(re),{modelValue:e(o).muac_cm.$model,"onUpdate:modelValue":l[18]||(l[18]=a=>e(o).muac_cm.$model=a),id:"muac_cm",min:8,max:30,minFractionDigits:2},null,8,["modelValue"])]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",Eo,[qo,m(e(re),{modelValue:e(o).weight_kg.$model,"onUpdate:modelValue":l[19]||(l[19]=a=>e(o).weight_kg.$model=a),id:"weight_kg",min:1.5,max:25,minFractionDigits:2},null,8,["modelValue"])])):p("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",Ho,[Ko,m(e(U),{type:"number",modelValue:e(o).height_cm.$model,"onUpdate:modelValue":l[20]||(l[20]=a=>e(o).height_cm.$model=a),id:"height_cm",min:45,max:120,minFractionDigits:2},null,8,["modelValue"])])):p("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",jo,[t("label",{for:"wfh_zscore",class:y({"p-error":e(o).wfh_zscore.$invalid&&e(_)})},"WFH Z-Score",2),m(e(b),{id:"wfh_zscore",modelValue:e(o).wfh_zscore.$model,"onUpdate:modelValue":l[21]||(l[21]=a=>e(o).wfh_zscore.$model=a),options:e(A),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(o).type.$invalid&&e(_)?(u(),g("small",Zo,c(e(o).type.$message),1)):p("",!0)])):p("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",Qo,[Jo,m(e(b),{modelValue:e(o).immunization_status.$model,"onUpdate:modelValue":l[22]||(l[22]=a=>e(o).immunization_status.$model=a),options:e(H),id:"immunization_status",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])])):p("",!0),t("div",Xo,[et,m(e(b),{modelValue:e(o).deworming.$model,"onUpdate:modelValue":l[23]||(l[23]=a=>e(o).deworming.$model=a),options:e(B),id:"deworming",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("div",ot,[tt,m(e(b),{modelValue:e(o).vit_a_supplement.$model,"onUpdate:modelValue":l[24]||(l[24]=a=>e(o).vit_a_supplement.$model=a),options:e(B),id:"vit_a_supplement",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])])):p("",!0),t("div",st,[lt,m(e(b),{modelValue:e(o).type_of_case.$model,"onUpdate:modelValue":l[25]||(l[25]=a=>e(o).type_of_case.$model=a),options:e(K),id:"type_of_case",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),t("div",at,[it,m(e(b),{modelValue:e(o).criteria_group.$model,"onUpdate:modelValue":l[26]||(l[26]=a=>e(o).criteria_group.$model=a),options:C.value,id:"criteria_group",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),t("div",nt,[dt,m(e(b),{modelValue:e(o).case_category.$model,"onUpdate:modelValue":l[27]||(l[27]=a=>e(o).case_category.$model=a),options:J.value,id:"case_category",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),t("div",rt,[ct,m(e(b),{modelValue:e(o).admission_criteria.$model,"onUpdate:modelValue":l[28]||(l[28]=a=>e(o).admission_criteria.$model=a),options:se.value,id:"admission_criteria",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),t("div",ut,[pt,m(e(ce),{modelValue:e(o).date_of_admission.$model,"onUpdate:modelValue":l[29]||(l[29]=a=>e(o).date_of_admission.$model=a),id:"date_of_admission",dateFormat:X.value,maxDate:new Date},null,8,["modelValue","dateFormat","maxDate"])]),t("div",mt,[_t,m(e(U),{modelValue:e(o).admitted_year.$model,"onUpdate:modelValue":l[30]||(l[30]=a=>e(o).admitted_year.$model=a),id:"admitted_year",disabled:""},null,8,["modelValue"])]),t("div",gt,[ft,m(e(U),{modelValue:e(o).admitted_month.$model,"onUpdate:modelValue":l[31]||(l[31]=a=>e(o).admitted_month.$model=a),id:"admitted_month",disabled:""},null,8,["modelValue"])]),t("div",vt,[ht,m(e(b),{id:"food",modelValue:e(o).food.$model,"onUpdate:modelValue":l[32]||(l[32]=a=>e(o).food.$model=a),options:e(r),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),e(o).food.$model!="Not Provided"?(u(),g("div",bt,[yt,m(e(b),{id:"food_kg",modelValue:e(o).food_kg.$model,"onUpdate:modelValue":l[33]||(l[33]=a=>e(o).food_kg.$model=a),options:e(te),optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])])):p("",!0)])]),_:1}),m(e(ne),{header:"Review"},{default:ee(()=>[t("div",$t,[t("table",Vt,[wt,t("tr",null,[kt,t("td",Ct,c(e(o).screening_type.$model),1)]),t("tr",null,[Ot,t("td",At,c(e(o).state.$model),1)]),t("tr",null,[Gt,t("td",Ut,c(e(o).township.$model),1)]),t("tr",null,[zt,t("td",xt,c(e(o).village.$model),1)]),t("tr",null,[St,t("td",Dt,c(e(o).patient_name.$model),1)]),t("tr",null,[Bt,t("td",Lt,c(e(o).type.$model),1)]),t("tr",null,[Nt,t("td",Ft,c(e(o).gender.$model),1)]),t("tr",null,[Mt,t("td",Tt,c(e(o).date_of_birth.$model),1)]),t("tr",null,[Rt,t("td",Wt,c(e(o).age_group.$model),1)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",It,[Pt,t("td",Yt,c(e(o).age_month.$model),1)])):p("",!0),e(o).type.$model=="Pregnant Woman or Girl"||e(o).type.$model=="Breastfeeding Woman or Girl"?(u(),g("tr",Et,[qt,t("td",Ht,c(e(o).age_year.$model),1)])):p("",!0),t("tr",null,[Kt,t("td",jt,c(e(o).disability.$model),1)]),t("tr",null,[Zt,t("td",Qt,c(e(o).phone_number.$model),1)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",Jt,[Xt,t("td",es,c(e(o).father_name.$model),1)])):p("",!0),e(o).type.$model=="Pregnant Woman or Girl"||e(o).type.$model=="Breastfeeding Woman or Girl"?(u(),g("tr",os,[ts,t("td",ss,c(e(o).husband_name.$model),1)])):p("",!0),t("tr",null,[ls,t("td",as,c(e(o).receiving_cash_assistant.$model),1)]),e(o).receiving_cash_assistant.$model=="Yes"?(u(),g("tr",is,[ns,t("td",ds,c(e(o).yes_which_donar.$model),1)])):p("",!0),rs,cs,t("tr",null,[us,t("td",ps,c(e(o).muac_cm.$model),1)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",ms,[_s,t("td",gs,c(e(o).weight_kg.$model),1)])):p("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",fs,[vs,t("td",hs,c(e(o).height_cm.$model),1)])):p("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",bs,[ys,t("td",$s,c(e(o).wfh_zscore.$model),1)])):p("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",Vs,[ws,t("td",ks,c(e(o).immunization_status.$model),1)])):p("",!0),t("tr",null,[Cs,t("td",Os,c(e(o).deworming.$model),1)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(u(),g("tr",As,[Gs,t("td",Us,c(e(o).vit_a_supplement.$model),1)])):p("",!0),t("tr",null,[zs,t("td",xs,c(e(o).type_of_case.$model),1)]),t("tr",null,[Ss,t("td",Ds,c(e(o).case_category.$model),1)]),t("tr",null,[Bs,t("td",Ls,c(e(o).criteria_group.$model),1)]),t("tr",null,[Ns,t("td",Fs,c(e(o).date_of_admission.$model),1)]),t("tr",null,[Ms,t("td",Ts,c(e(o).admitted_year.$model),1)]),t("tr",null,[Rs,t("td",Ws,c(e(o).admitted_month.$model),1)]),t("tr",null,[Is,t("td",Ps,c(e(o).food.$model),1)]),e(o).food.$model!="Not Provided"?(u(),g("tr",Ys,[Es,t("td",qs,c(e(o).food_kg.$model),1)])):p("",!0)])])]),_:1})]),_:1},8,["activeIndex"]),t("div",Hs,[t("div",Ks,[R.$can("index","MyCase")?(u(),F(e(D),{key:0,label:"Cancel",severity:"secondary",text:"",onClick:e(I)},null,8,["onClick"])):p("",!0)]),t("div",js,[V.value==0?(u(),F(e(D),{key:0,label:"Next  >>",onClick:l[35]||(l[35]=a=>V.value=1),severity:"primary",text:""})):p("",!0)]),t("div",Zs,[V.value==1?(u(),F(e(D),{key:0,label:"<<  Prev",onClick:l[36]||(l[36]=a=>V.value=0),severity:"primary",text:""})):p("",!0)]),t("div",Qs,[V.value==2?(u(),F(e(D),{key:0,label:"<<  Prev",onClick:l[37]||(l[37]=a=>V.value=1),severity:"primary",text:""})):p("",!0)]),t("div",Js,[V.value==1?(u(),F(e(D),{key:0,label:"Next  >>",onClick:l[38]||(l[38]=a=>V.value=2),severity:"primary",text:""})):p("",!0)]),t("div",null,[V.value==2?(u(),F(e(D),{key:0,onClick:l[39]||(l[39]=a=>e(M)(!e(o).$invalid)),label:"Save",severity:"primary"})):p("",!0)])]),e(z)?(u(),F(Ne,{key:0})):p("",!0)]),m(e(Me))],64)}}},_l=ze(Xs,[["__scopeId","data-v-678c9eea"]]);export{_l as default};
