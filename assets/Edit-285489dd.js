import{u as Nt,Z as tt,D as at,R as Gt,a2 as Wt,a3 as jt,r as vt,l as nt,o as d,g as I,w as T,c as _,m as te,b,a6 as Ht,q as oe,a as t,f as st,i as r,n as F,h as Zt,j as Yt,E as Kt,W as qt,z as $,K as Jt,A as Qt,L as Xt,S as ue,B as J,N as mt,_ as Pt,M as ot,t as m,G as e,V as it,e as g,I as ea,F as ta,k as R,aa as Me,P as aa,Q as sa}from"./index-efa29b2d.js";import{s as A}from"./dropdown.esm-466d0203.js";import{s as j}from"./inputtext.esm-89bdd4d0.js";import{F as oa,s as me,a as ia}from"./dialog.esm-12d69391.js";import{s as ze}from"./calendar.esm-e3a9fcb1.js";import{L as la}from"./Loading-ac92c521.js";import{s as Re,a as na}from"./tabpanel.esm-6fc3b1a0.js";import{s as da}from"./dataview.esm-63dd6e04.js";import{s as ra}from"./confirmdialog.esm-0570daa2.js";import{u as lt,r as B,n as de,i as pt}from"./index-0e5f5610.js";import{u as ca}from"./store-cf8a28bc.js";import{u as _a}from"./globalStore-bd44800c.js";import{E as ua}from"./serverValidation-35937a0f.js";import{w as ht}from"./zscore-9e188e39.js";import{i as ma}from"./mm-phone-validate-fed13507.js";import"./index.esm-e5da0df3.js";import"./paginator.esm-8d57cb71.js";var pa=`
.p-sidebar-mask {
    display: none;
    pointer-events: none;
    background-color: transparent;
    transition-property: background-color;
}

.p-sidebar-mask.p-component-overlay {
    pointer-events: auto;
}

.p-sidebar-visible {
    display: flex;
}

.p-sidebar {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    transform: translate3d(0px, 0px, 0px);
    position: relative;
    transition: transform 0.3s;
}

.p-sidebar-content {
    overflow-y: auto;
    flex-grow: 1;
}

.p-sidebar-header {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
}

.p-sidebar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

.p-sidebar-full .p-sidebar {
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    max-height: 100%;
    top: 0px !important;
    left: 0px !important;
}

/* Animation */
/* Center */
.p-sidebar-left .p-sidebar-enter-from,
.p-sidebar-left .p-sidebar-leave-to {
    transform: translateX(-100%);
}
.p-sidebar-right .p-sidebar-enter-from,
.p-sidebar-right .p-sidebar-leave-to {
    transform: translateX(100%);
}
.p-sidebar-top .p-sidebar-enter-from,
.p-sidebar-top .p-sidebar-leave-to {
    transform: translateY(-100%);
}
.p-sidebar-bottom .p-sidebar-enter-from,
.p-sidebar-bottom .p-sidebar-leave-to {
    transform: translateY(100%);
}
.p-sidebar-full .p-sidebar-enter-from,
.p-sidebar-full .p-sidebar-leave-to {
    opacity: 0;
}
.p-sidebar-full .p-sidebar-enter-active,
.p-sidebar-full .p-sidebar-leave-active {
    transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Size */
.p-sidebar-left .p-sidebar {
    width: 20rem;
    height: 100%;
}

.p-sidebar-right .p-sidebar {
    width: 20rem;
    height: 100%;
}

.p-sidebar-top .p-sidebar {
    height: 10rem;
    width: 100%;
}

.p-sidebar-bottom .p-sidebar {
    height: 10rem;
    width: 100%;
}

.p-sidebar-left .p-sidebar-sm,
.p-sidebar-right .p-sidebar-sm {
    width: 20rem;
}

.p-sidebar-left .p-sidebar-md,
.p-sidebar-right .p-sidebar-md {
    width: 40rem;
}

.p-sidebar-left .p-sidebar-lg,
.p-sidebar-right .p-sidebar-lg {
    width: 60rem;
}

.p-sidebar-top .p-sidebar-sm,
.p-sidebar-bottom .p-sidebar-sm {
    height: 10rem;
}

.p-sidebar-top .p-sidebar-md,
.p-sidebar-bottom .p-sidebar-md {
    height: 20rem;
}

.p-sidebar-top .p-sidebar-lg,
.p-sidebar-bottom .p-sidebar-lg {
    height: 30rem;
}

.p-sidebar-left .p-sidebar-content,
.p-sidebar-right .p-sidebar-content,
.p-sidebar-top .p-sidebar-content,
.p-sidebar-bottom .p-sidebar-content {
    width: 100%;
    height: 100%;
}

@media screen and (max-width: 64em) {
    .p-sidebar-left .p-sidebar-lg,
    .p-sidebar-left .p-sidebar-md,
    .p-sidebar-right .p-sidebar-lg,
    .p-sidebar-right .p-sidebar-md {
        width: 20rem;
    }
}
`,ha={mask:function(h){var C=h.position;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:C==="left"?"flex-start":C==="right"?"flex-end":"center",alignItems:C==="top"?"flex-start":C==="bottom"?"flex-end":"center"}}},ga={mask:function(h){var C=h.instance,o=h.props,x=["left","right","top","bottom"],f=x.find(function(Q){return Q===o.position});return["p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":o.modal,"p-sidebar-mask-scrollblocker":o.blockScroll,"p-sidebar-visible":C.containerVisible,"p-sidebar-full":C.fullScreen},f?"p-sidebar-".concat(f):""]},root:function(h){var C=h.instance;return["p-sidebar p-component",{"p-input-filled":C.$primevue.config.inputStyle==="filled","p-ripple-disabled":C.$primevue.config.ripple===!1,"p-sidebar-full":C.fullScreen}]},header:"p-sidebar-header",headerContent:"p-sidebar-header-content",closeButton:"p-sidebar-close p-sidebar-icon p-link",closeIcon:"p-sidebar-close-icon",content:"p-sidebar-content"},fa=Nt(pa,{name:"sidebar",manual:!0}),va=fa.load,ba={name:"BaseSidebar",extends:Yt,props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:void 0},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},css:{classes:ga,inlineStyles:ha,loadStyle:va},provide:function(){return{$parentInstance:this}}},bt={name:"Sidebar",extends:ba,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],data:function(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&tt.clear(this.mask),this.container=null,this.mask=null},methods:{hide:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.focus(),this.autoZIndex&&tt.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.enableDocumentSettings()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&at.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(){this.autoZIndex&&tt.clear(this.mask),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick:function(h){this.dismissable&&this.modal&&this.mask===h.target&&this.hide()},focus:function(){var h=function(x){return x&&x.querySelector("[autofocus]")},C=this.$slots.default&&h(this.content);C||(C=this.$slots.header&&h(this.headerContainer),C||(C=h(this.container))),C&&C.focus()},enableDocumentSettings:function(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&at.addClass(document.body,"p-overflow-hidden")},disableDocumentSettings:function(){this.unbindOutsideClickListener(),this.blockScroll&&at.removeClass(document.body,"p-overflow-hidden")},onKeydown:function(h){h.code==="Escape"&&this.hide()},containerRef:function(h){this.container=h},maskRef:function(h){this.mask=h},contentRef:function(h){this.content=h},headerContainerRef:function(h){this.headerContainer=h},closeButtonRef:function(h){this.closeButton=h},bindOutsideClickListener:function(){var h=this;this.outsideClickListener||(this.outsideClickListener=function(C){h.isOutsideClicked(C)&&h.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked:function(h){return this.container&&!this.container.contains(h.target)}},computed:{fullScreen:function(){return this.position==="full"},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:oa,ripple:Gt},components:{Portal:Wt,TimesIcon:jt}};function pe(c){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},pe(c)}function gt(c,h){var C=Object.keys(c);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(c);h&&(o=o.filter(function(x){return Object.getOwnPropertyDescriptor(c,x).enumerable})),C.push.apply(C,o)}return C}function ft(c){for(var h=1;h<arguments.length;h++){var C=arguments[h]!=null?arguments[h]:{};h%2?gt(Object(C),!0).forEach(function(o){ya(c,o,C[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(C)):gt(Object(C)).forEach(function(o){Object.defineProperty(c,o,Object.getOwnPropertyDescriptor(C,o))})}return c}function ya(c,h,C){return h=wa(h),h in c?Object.defineProperty(c,h,{value:C,enumerable:!0,configurable:!0,writable:!0}):c[h]=C,c}function wa(c){var h=ka(c,"string");return pe(h)==="symbol"?h:String(h)}function ka(c,h){if(pe(c)!=="object"||c===null)return c;var C=c[Symbol.toPrimitive];if(C!==void 0){var o=C.call(c,h||"default");if(pe(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(c)}var $a=["aria-modal"],Va=["aria-label"];function xa(c,h,C,o,x,f){var Q=vt("Portal"),K=nt("ripple"),ie=nt("focustrap");return d(),I(Q,null,{default:T(function(){return[x.containerVisible?(d(),_("div",te({key:0,ref:f.maskRef,onMousedown:h[2]||(h[2]=function(){return f.onMaskClick&&f.onMaskClick.apply(f,arguments)}),class:c.cx("mask"),style:c.sx("mask",!0,{position:c.position})},c.ptm("mask")),[b(Ht,te({name:"p-sidebar",onEnter:f.onEnter,onAfterEnter:f.onAfterEnter,onBeforeLeave:f.onBeforeLeave,onLeave:f.onLeave,onAfterLeave:f.onAfterLeave,appear:""},c.ptm("transition")),{default:T(function(){return[c.visible?oe((d(),_("div",te({key:0,ref:f.containerRef,class:c.cx("root"),role:"complementary","aria-modal":c.modal,onKeydown:h[1]||(h[1]=function(){return f.onKeydown&&f.onKeydown.apply(f,arguments)})},ft(ft({},c.$attrs),c.ptm("root"))),[t("div",te({ref:f.headerContainerRef,class:c.cx("header")},c.ptm("header")),[c.$slots.header?(d(),_("div",te({key:0,class:c.cx("headerContent")},c.ptm("headerContent")),[st(c.$slots,"header")],16)):r("",!0),c.showCloseIcon?oe((d(),_("button",te({key:1,ref:f.closeButtonRef,autofocus:"",type:"button",class:c.cx("closeButton"),"aria-label":f.closeAriaLabel,onClick:h[0]||(h[0]=function(){return f.hide&&f.hide.apply(f,arguments)})},c.ptm("closeButton"),{"data-pc-group-section":"iconcontainer"}),[st(c.$slots,"closeicon",{class:F(c.cx("closeIcon"))},function(){return[(d(),I(Zt(c.closeIcon?"span":"TimesIcon"),te({class:[c.cx("closeIcon"),c.closeIcon]},c.ptm("closeIcon")),null,16,["class"]))]})],16,Va)),[[K]]):r("",!0)],16),t("div",te({ref:f.contentRef,class:c.cx("content")},c.ptm("content")),[st(c.$slots,"default")],16)],16,$a)),[[ie]]):r("",!0)]}),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):r("",!0)]}),_:3})}bt.render=xa;const Ca=()=>{const c=ca(),h=_a(),C=Kt(),o=qt(),x=$(!1),f=new ua,Q=Jt(),K=$(!1),ie=$({disableBiographicInfo:!1,disableMedicalExamination:!1,disableFollowUp:!1,disableDischarge:!0}),Ie=$([{code:"Yangon",name:"Yangon"}]),X=$(!1),he=$(!1),ge=$(!1),fe=$([]),ve=$([]),re=$(!0),be=$([]),H=$([]),P=$(),G=$([]),ye=$([]),we=$([]),S=$([]),ke=$([]),$e=$([]),V=$([]),Ve=$([]),L=$([]),n=$([]),Te=$([]),E=$([]),xe=$([]),Ce=$([]),Se=$([]),U=$(""),ce=$(""),W=o.query.tab!=null?Number(o.query.tab):2,Ne=$(W);Qt(()=>{Ge(),We(),De(),ae(),Bt()}),Xt(()=>{c.$dispose()});const Ge=async()=>{x.value=!0,await h.fetchAllEnums();const s=h.getAllEnumResponse;if(s){const{options:p}=s.data;be.value=p.screening_type.map(u=>({name:u,code:u})),H.value=p.type.map(u=>({name:u,code:u})),P.value=p.gender.map(u=>({name:u,code:u})),G.value=p.age_group.map(u=>({name:u,code:u})),ye.value=p.yes_no.map(u=>({name:u,code:u})),we.value=p.donar.map(u=>({name:u,code:u})),S.value=p.wfh_zscore.map(u=>({name:u,code:u})),$e.value=p.bilateral_pitting_odema.map(u=>({name:u,code:u})),ke.value=p.appetite_test.map(u=>({name:u,code:u})),V.value=p.immunization_status.map(u=>({name:u,code:u})),Ve.value=p.type_of_case.map(u=>({name:u,code:u})),L.value=p.case_category.map(u=>({name:u,code:u,visible:!0})),n.value=p.admission_criteria.map(u=>({name:u,code:u,visible:!0})),E.value=p.criteria_group.map(u=>({name:u,code:u,visible:!0})),xe.value=p.discharge_status.map(u=>({name:u,code:u})),Ce.value=p.discharge_category.map(u=>({name:u,code:u})),Se.value=p.discharge_with.map(u=>({name:u,code:u})),Fe.value=p.food.map(u=>({name:u,code:u})),Le.value=p.follow_up_result.map(u=>({name:u,code:u}))}},We=async()=>{x.value=!0,await h.fetchAllTownship();const s=h.getAllTownshipResponse;if(s){const{options:p}=s.data;fe.value=p}},De=async()=>{re.value=!0,await h.fetchAllWards({township:v.township});const s=h.getAllWardResponse;s&&(ve.value=s,re.value=!1)},v=ue({am_number:"",id:"",screening_type:"",state:"",township:"",village:"",patient_name:"",type:"",gender:"",date_of_birth:"",age_group:"",disability:"",phone_number:"",father_name:"",husband_name:"",receiving_cash_assistant:"",yes_which_donar:"",status:""}),Ue=$({}),je={am_number:{},screening_type:{required:B},state:{required:B},township:{required:B},village:{required:B},patient_name:{required:B},type:{required:B},gender:{required:B},date_of_birth:{required:B},age_group:{required:B},disability:{required:B},phone_number:{required:B},father_name:{},husband_name:{},receiving_cash_assistant:{},yes_which_donar:{},status:{}},Oe=$(!1),M=lt(je,v),z=s=>{Oe.value=!0,s&&(x.value||q())},q=async()=>{f.clear(),x.value=!0;try{await c.updateBiographicInfo({id:v.id,case_id:o.params.id,screening_type:v.screening_type,state:v.state,township:v.township,village:v.village,patient_name:v.patient_name,type:v.type,gender:v.gender,date_of_birth:v.date_of_birth,age_group:v.age_group,disability:v.disability,phone_number:v.phone_number,father_name:v.father_name,husband_name:v.husband_name,receiving_cash_assistant:v.receiving_cash_assistant,yes_which_donar:v.yes_which_donar}),c.getUpdateBiographicInfoResponse&&(N("Biographic Info for patient "+v.patient_name+" is requested to update.","success"),he.value=!1,ae()),x.value=!1}catch(s){x.value=!1,s.status===422&&N(s.data.message,1e4)}},i=ue({id:"",muac_cm:null,weight_kg:null,height_cm:null,wfh_zscore:"",immunization_status:"",deworming:"",vit_a_supplement:"",type_of_case:"",case_category:"",admission_criteria:"",criteria_group:"",date_of_admission:null,admitted_year:null,admitted_month:null,status:""}),y=$({}),He={muac_cm:{numeric:de},weight_kg:{numeric:de},height_cm:{numeric:de},wfh_zscore:{},immunization_status:{},deworming:{},vit_a_supplement:{},type_of_case:{},case_category:{},admission_criteria:{},criteria_group:{},date_of_admission:{},admitted_year:{integer:pt,required:B},admitted_month:{integer:pt,required:B},status:{}},_e=$(!1),Ze=lt(He,i),Ye=s=>{_e.value=!0,s&&(x.value||Ke())},Ke=async()=>{f.clear(),x.value=!0;try{await c.updateMedicalExamination({id:i.id,case_id:o.params.id,muac_cm:i.muac_cm,weight_kg:i.weight_kg,height_cm:i.height_cm,wfh_zscore:i.wfh_zscore,immunization_status:i.immunization_status,deworming:i.deworming,vit_a_supplement:i.vit_a_supplement,type_of_case:i.type_of_case,case_category:i.case_category,admission_criteria:i.admission_criteria,criteria_group:i.criteria_group,date_of_admission:i.date_of_admission,admitted_year:i.admitted_year,admitted_month:i.admitted_month}),c.getUpdateMedicalExaminationResponse&&(ge.value=!1,ae()),x.value=!1}catch(s){if(x.value=!1,s.status===422){const p=s.data.data;f.record(p)}}},w=ue({id:null,discharge_status:"",discharge_category:"",discharge_with:"",date_of_discharge:"",discharge_year:"",discharge_month:"",discharge_muac_cm:"",discharge_weight_kg:"",discharge_height_cm:"",discharge_wfh_zscore:"",length_of_stay:"",status:null}),Ee=$({}),qe=()=>{x.value||Je()},Je=async()=>{f.clear(),x.value=!0;try{await c.saveDischarge({id:w.id,case_id:o.params.id,discharge_status:w.discharge_status,discharge_category:w.discharge_category,discharge_with:w.discharge_with,date_of_discharge:w.date_of_discharge,discharge_year:w.discharge_year,discharge_month:w.discharge_month,discharge_muac_cm:w.discharge_muac_cm,discharge_weight_kg:w.discharge_weight_kg,discharge_height_cm:w.discharge_height_cm,discharge_wfh_zscore:w.discharge_wfh_zscore,length_of_stay:w.length_of_stay}),c.getSaveDischargeResponse&&(ae(),X.value=!1),x.value=!1}catch(s){if(x.value=!1,s.status===422){const p=s.data.data;f.record(p)}}},O=$([]),Fe=$([]),le=$([{name:"3",code:3},{name:"6",code:6}]),Le=$([]),Z=$("Add Follow Up");let l=!1;const Y={id:"",case_id:"",date_of_visit:"",muac_cm:null,weight_kg:null,oedema:"",food:"",food_kg:null,follow_up_result:"Continue Follow Up"},D=ue({...Y});function a(){Object.keys(Y).forEach(s=>{D[s]=Y[s]})}const Qe={date_of_visit:{required:B},muac_cm:{numeric:de},weight_kg:{numeric:de},oedema:{},food:{},food_kg:{numeric:de},follow_up_result:{required:B}},dt=$(!1);let ee=lt(Qe,D);const yt=()=>{if(K.value=!0,D.value=ue({...Y}),ee.value.date_of_visit.$model="",ee.value.muac_cm.$model=null,ee.value.weight_kg.$model=null,["Boy","Girl"].includes(v.type)?ee.value.food.$model="RUSF":ee.value.food.$model="WSB+",ee.value.food_kg.$model=null,O.value&&O.value.length>0){ee.value.food.$model=O.value[0].food;const s=new Date(O.value[0].date_of_visit);s.setDate(s.getDate()+1),U.value=s,ce.value=new Date}else ce.value=new Date},wt=()=>D.muac_cm!=0&&!(D.muac_cm>8&&D.muac_cm<30)&&D.follow_up_result!="Loss to Follow Up"?(window.alert("MUAC must be between 8 to 30"),!1):!0,kt=()=>D.weight_kg!=0&&!(D.weight_kg>1.5&&D.weight_kg<25)&&D.follow_up_result!="Loss to Follow Up"?(window.alert("Weight must be between 1.5 to 25"),!1):!0,$t=s=>{dt.value=!0,s&&(!wt()||!kt()||x.value||(l?Ut():Dt()))},Vt=s=>{Q.require({header:"Confirmation",message:"Are you sure want to delete?",icon:"pi pi-exclamation-triangle",acceptLabel:"Yes, delete it",rejectLabel:"Cancel",acceptClass:"p-button-danger",rejectClass:"p-button-secondary p-button-text",accept:()=>{Ct(s)},reject:()=>{},onHide:()=>{}})},xt=s=>{if(l=!0,D.id=s,O.value)for(let p=0;p<O.value.length;p++)O.value[p].id==s&&(D.date_of_visit=O.value[p].date_of_visit,D.muac_cm=O.value[p].muac_cm,D.weight_kg=O.value[p].weight_kg,D.oedema=O.value[p].oedema,D.food=O.value[p].food,D.food_kg=Number(O.value[p].food_kg),D.follow_up_result=O.value[p].follow_up_result,Z.value="Edit Follow Up: Visit - "+O.value[p].visit);K.value=!0},Ct=async s=>{x.value=!0,await c.deleteFollowUp({follow_up_id:s,case_id:o.params.id}),c.getFollowUpDeleteResponse&&(ae(),mt.emit("show-toast",{severity:"success",summary:"",detail:"Delete Follow Up Successfully"})),x.value=!1},St=s=>{const p=s.getFullYear(),u=`0${s.getMonth()+1}`.slice(-2),se=`0${s.getDate()}`.slice(-2);return`${p}-${u}-${se}`},Dt=async()=>{f.clear(),x.value=!0;try{await c.addFollowUp({case_id:o.params.id,date_of_visit:St(D.date_of_visit),muac_cm:D.muac_cm,weight_kg:D.weight_kg,oedema:D.oedema,food:D.food,food_kg:D.food_kg,follow_up_result:D.follow_up_result}),c.getFollowUpAddResponse&&(ae(),K.value=!1,a()),x.value=!1}catch(s){if(x.value=!1,s.status===422){const p=s.data.data;f.record(p)}}},Ut=async()=>{f.clear(),x.value=!0;try{await c.updateFollowUp({id:D.id,case_id:o.params.id,date_of_visit:D.date_of_visit,muac_cm:D.muac_cm,weight_kg:D.weight_kg,oedema:D.oedema,food:D.food,food_kg:D.food_kg,follow_up_result:D.follow_up_result}),c.getFollowUpUpdateResponse&&(ae(),K.value=!1,a()),x.value=!1,l=!1}catch(s){if(x.value=!1,l=!1,s.status===422){const p=s.data.data;f.record(p)}}},Xe=$(!1),ae=async()=>{x.value=!0,f.clear(),await c.fetchOne({id:o.params.id});const s=c.getOneResponse;if(s){if(ie.value.disableDischarge=!["Discharged","Completed"].includes(s.data.status),v.am_number=s.data.am_number,v.id=s.data.biographic_info.id,v.status=s.data.biographic_info.status,v.screening_type=s.data.biographic_info.screening_type,v.state=s.data.biographic_info.state,v.township=s.data.biographic_info.township,v.village=s.data.biographic_info.village,v.patient_name=s.data.biographic_info.patient_name,v.type=s.data.biographic_info.type,v.gender=s.data.biographic_info.gender,v.date_of_birth=s.data.biographic_info.date_of_birth,v.age_group=s.data.biographic_info.age_group,v.disability=s.data.biographic_info.disability,v.phone_number=s.data.biographic_info.phone_number,v.father_name=s.data.biographic_info.father_name,v.husband_name=s.data.biographic_info.husband_name,v.receiving_cash_assistant=s.data.biographic_info.receiving_cash_assistant,v.yes_which_donar=s.data.biographic_info.yes_which_donar,Ue.value=JSON.parse(s.data.biographic_info.data),i.id=s.data.medical_examination.id,i.status=s.data.medical_examination.status,i.muac_cm=s.data.medical_examination.muac_cm,i.weight_kg=s.data.medical_examination.weight_kg,i.height_cm=s.data.medical_examination.height_cm,i.wfh_zscore=s.data.medical_examination.wfh_zscore,i.immunization_status=s.data.medical_examination.immunization_status,i.deworming=s.data.medical_examination.deworming,i.vit_a_supplement=s.data.medical_examination.vit_a_supplement,i.type_of_case=s.data.medical_examination.type_of_case,i.case_category=s.data.medical_examination.case_category,i.admission_criteria=s.data.medical_examination.admission_criteria,i.criteria_group=s.data.medical_examination.criteria_group,i.date_of_admission=s.data.medical_examination.date_of_admission,i.admitted_year=s.data.medical_examination.admitted_year,i.admitted_month=s.data.medical_examination.admitted_month,y.value=JSON.parse(s.data.medical_examination.data),O.value=s.data.follow_ups,Xe.value=!1,O.value)for(let p=0;p<O.value.length;p++)O.value[p].follow_up_result=="Complete Follow Up"&&(Xe.value=!0),O.value[p].data=JSON.parse(O.value[p].data);s.data.discharge!=null?(w.id=s.data.discharge.id,w.discharge_status=s.data.discharge.discharge_status,w.discharge_category=s.data.discharge.discharge_category,w.discharge_with=s.data.discharge.discharge_with,w.date_of_discharge=s.data.discharge.date_of_discharge,w.discharge_year=s.data.discharge.discharge_year,w.discharge_month=s.data.discharge.discharge_month,w.discharge_muac_cm=s.data.discharge.discharge_muac_cm,w.discharge_weight_kg=s.data.discharge.discharge_weight_kg,w.discharge_height_cm=s.data.discharge.discharge_height_cm,w.discharge_wfh_zscore=s.data.discharge.discharge_wfh_zscore,w.length_of_stay=s.data.discharge.length_of_stay,w.status=s.data.discharge.status,Ee.value=JSON.parse(s.data.discharge.data)):(X.value=!0,Ot())}x.value=!1},Ot=()=>{if(w.discharge_height_cm=i.height_cm,O.value)for(let s=0;s<O.value.length;s++)O.value[s].follow_up_result=="Complete Follow Up"&&(w.discharge_muac_cm=O.value[s].muac_cm,w.discharge_weight_kg=O.value[s].weight_kg,w.discharge_wfh_zscore=ct(w.discharge_weight_kg,i.height_cm),w.length_of_stay=Pe(i.date_of_admission,w.date_of_discharge))},rt=()=>i.muac_cm<12.5?"MUAC":i.muac_cm>=12.5?"WFH Z-Score":null,Et=()=>{const s=O.value.sort((p,u)=>new Date(u.date_of_visit)-new Date(p.date_of_visit))[0];switch(w.discharge_status){case"Cured":if(rt()=="MUAC"){const p=Number(s.muac_cm),u=Number(i.muac_cm);if(p<u){N("MUAC is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error",1e4),w.discharge_status="";break}}if(rt()=="WFH Z-Score"){const p=i.wfh_zscore,u=ct(s.weight_kg,i.height_cm);if(p=="SAM <-3"&&u=="SAM <-3"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error"),w.discharge_status="";break}if(p=="MAM ≥-3 and <-2"&&u=="SAM <-3"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}if(p=="MAM ≥-3 and <-2"&&u=="MAM ≥-3 and <-2"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}if(p=="Normal ≥-2"&&u=="SAM <-3"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}if(p=="Normal ≥-2"&&u=="MAM ≥-3 and <-2"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}}w.discharge_category="Cured";break;case"Default":w.discharge_category="Default";break;case"Death (Nut)":w.discharge_category="Death (Nut)";break;case"Death (Oth)":w.discharge_category="Death (Oth)";break;case"Non-respondent":w.discharge_category="Non-respondent";break;case"Transfer to OTP":w.discharge_category="Transfer to OTP";break;case"Transfer to other SFP":w.discharge_category="Transfer to other SFP";break;case"Transfer to ITP":w.discharge_category="Transfer to ITP";break;case"Refuse to referral":w.discharge_category="Other Exit";break;case"Medical transfer":w.discharge_category="Other Exit";break;case"Reg Mistake":w.discharge_category="Other Exit";break}},ct=(s,p)=>{let u=null;if(v.age_group){if(s!==0&&p!==0){const se=v.age_group===G.value[0].name?"m24under":"m24to59",ne=v.type===H.value[0].name?"boy":"girl",Ae=Math.round(p),et=ht[se][ne].find(Tt=>Tt.length===Ae);et!==void 0&&(s<et.minus3?u=S.value[0].name:i.weight_kg<et.minus2?u=S.value[1].name:u=S.value[2].name)}}else N("Firstly, you need to set Date of Birth, then Age Group will be defined and WFH ZScore will be automatically selected","warn");return u},Pe=(s,p)=>{let u=null;p instanceof Date&&(p=p.toISOString().slice(0,10));const se=new Date(s+"T00:00:00+06:30");return u=(new Date(p+"T00:00:00+06:30")-se)/(1e3*60*60*24),u=Math.round(u),u};J(()=>v.township,()=>{De()}),J(()=>i.date_of_admission,()=>{Ft()}),J(()=>v.date_of_birth,()=>{const s=new Date(v.date_of_birth),p=new Date;let u=(p.getFullYear()-s.getFullYear())*12;if(u-=s.getMonth(),u+=p.getMonth(),p.getDate()<s.getDate()&&u--,u<6){N("At lease, 6 Months of Age is required");return}if(u>=6&&u<=23){v.age_group=G.value[0].name;return}else if(u>=24&&u<=59){v.age_group=G.value[1].name;return}else if(u>=12*12&&u<=17*12){v.age_group=G.value[2].name;return}else if(u>=18*12&&u<=59*12){v.age_group=G.value[3].name;return}else v.age_group=""}),J(()=>v.type,()=>{switch(v.type){case H.value[0].name:v.gender=P.value[0].name;break;case H.value[1].name:v.gender=P.value[1].name;break;case H.value[2].name:v.gender=P.value[1].name;break;case H.value[3].name:v.gender=P.value[1].name;break}}),J(()=>[v.age_group,i.height_cm,i.weight_kg],()=>{At()}),J(()=>[i.type_of_case],()=>{Mt()}),J(()=>[i.criteria_group],()=>{zt()}),J(()=>[i.case_category],()=>{Rt()}),J(()=>w.date_of_discharge,()=>{Lt(),w.length_of_stay=Pe(i.date_of_admission,w.date_of_discharge)});const Ft=()=>{const s=new Date(i.date_of_admission);i.admitted_year=s.getFullYear(),i.admitted_month=s.getMonth()+1},Lt=()=>{const s=new Date(w.date_of_discharge);w.discharge_year=s.getFullYear(),w.discharge_month=s.getMonth()+1},At=()=>{if(G.value.some(p=>p.name==v.age_group)){if(i.weight_kg!==0&&i.height_cm!==0){const p=v.age_group===G.value[0].name?"m24under":"m24to59",u=v.type===H.value[0].name?"boy":"girl",se=Math.round(v.height_cm),ne=ht[p][u].find(Ae=>Ae.length===se);if(ne!==void 0)if(i.weight_kg<ne.minus3){i.wfh_zscore=S.value[0].name;return}else if(i.weight_kg<ne.minus2){i.wfh_zscore=S.value[1].name;return}else i.wfh_zscore=S.value[2].name}}else N("Firstly, you need to set Date of Birth, then Age Group will be defined and WFH ZScore will be automatically selected","warn")},Mt=()=>{switch(i.type_of_case){case"New":E.value[0].visible=!0,E.value[1].visible=!1,E.value[2].visible=!1,E.value[3].visible=!1,i.criteria_group="New";break;case"Old":i.criteria_group="Re-admission",E.value[0].visible=!1,E.value[1].visible=!0,E.value[2].visible=!0,E.value[3].visible=!0;break}},zt=()=>{switch(i.criteria_group){case"New":i.case_category="MAM New",L.value[0].visible=!0,L.value[1].visible=!1,L.value[2].visible=!1,L.value[3].visible=!1,L.value[4].visible=!1;break;case"Re-admission":i.case_category="MAM Old",L.value[0].visible=!1,L.value[1].visible=!0,L.value[2].visible=!0,L.value[3].visible=!1,L.value[4].visible=!1;break;case"Relapse":i.case_category="Relapse",L.value[0].visible=!1,L.value[1].visible=!1,L.value[2].visible=!1,L.value[3].visible=!0,L.value[4].visible=!1;break;case"Transfer":i.case_category="Transfer",L.value[0].visible=!1,L.value[1].visible=!1,L.value[2].visible=!1,L.value[3].visible=!1,L.value[4].visible=!0;break}},Rt=()=>{switch(i.case_category){case"MAM New":i.admission_criteria="New",n.value[0].visible=!0,n.value[1].visible=!1,n.value[2].visible=!1,n.value[3].visible=!1,n.value[4].visible=!1,n.value[5].visible=!1,n.value[6].visible=!1,n.value[7].visible=!1,n.value[8].visible=!1;break;case"MAM Old":i.admission_criteria="Return from Cured within 2 month",n.value[0].visible=!1,n.value[1].visible=!0,n.value[2].visible=!0,n.value[3].visible=!1,n.value[4].visible=!1,n.value[5].visible=!1,n.value[6].visible=!1,n.value[7].visible=!1,n.value[8].visible=!1;break;case"Return form Defaulter":i.admission_criteria="Return from Default within 2 month",n.value[0].visible=!1,n.value[1].visible=!1,n.value[2].visible=!1,n.value[3].visible=!0,n.value[4].visible=!1,n.value[5].visible=!1,n.value[6].visible=!1,n.value[7].visible=!1,n.value[8].visible=!1;break;case"Relapse":i.admission_criteria="Return from Cured after 2 month",n.value[0].visible=!1,n.value[1].visible=!1,n.value[2].visible=!1,n.value[3].visible=!1,n.value[4].visible=!0,n.value[5].visible=!0,n.value[6].visible=!1,n.value[7].visible=!1,n.value[8].visible=!1;break;case"Transfer":i.admission_criteria="Transfer in Other SFP",n.value[0].visible=!1,n.value[1].visible=!1,n.value[2].visible=!1,n.value[3].visible=!1,n.value[4].visible=!1,n.value[5].visible=!1,n.value[6].visible=!0,n.value[7].visible=!0,n.value[8].visible=!0;break}},_t=$({user_id:""}),ut=$([]),Bt=async()=>{console.log("fetching users"),x.value=!0,await h.fetchAllUser({role:4});const s=h.getAllUserResponse;if(s){const{options:p}=s.data;ut.value=p}x.value=!1},It=async()=>{f.clear(),x.value=!0;try{await c.transferCase({case_id:o.params.id,user_id:_t.value.user_id});const s=c.getTransferCaseResponse;s&&N("Case is transferred to "+s.data.data.full_name,"success"),x.value=!1,C.push({name:"caseList"})}catch(s){x.value=!1,N(s,"error")}},N=(s,p="error",u=5e3)=>{mt.emit("show-toast",{severity:p,summary:"",detail:s,life:u})};return{section:ie,isLoading:x,v$:M,submitted:Oe,handleSubmit:z,errors:f,state:v,minFollowUpDate:U,maxFollowUpDate:ce,villageDisabled:re,stateOptions:Ie,townshipOptions:fe,villageOptions:ve,donarOptions:we,yesNoOptions:ye,ageGroupOptions:G,genderOptions:P,typeOptions:H,screeningTypeOptions:be,bilateralPittingOedemaOptions:$e,zScoreOptions:S,appetiteTestOptions:ke,immunizationStatusOptions:V,typeOfCasesOptions:Ve,caseCategoriesOptions:L,admissionCriteriaOptions:n,criteriaOptions:Te,criteriaGroupsOptions:E,meV$:Ze,meSubmitted:_e,meHandleSubmit:Ye,dischargeState:w,dischargeStatusOptions:xe,dischargeCategoryOptions:Ce,dischargeWithOptions:Se,dischargeData:Ee,dischargeHandleSubmit:qe,setDischcargeCategory:Et,newFollowUp:yt,fuRecords:O,fuState:D,fuV$:ee,fuHandleSubmit:$t,fuSubmitted:dt,foodOptions:Fe,foodKgOptions:le,frOptions:Le,showFollowUp:K,followUpTitle:Z,editFollowUp:xt,showConfirmDialog:Vt,biEdit:he,meEdit:ge,dEdit:X,biData:Ue,meData:y,calculateLengthOfStay:Pe,cmUserOptions:ut,transferTo:_t,transferCase:It,isCompleteFollowUp:Xe,tabIndex:Ne}};const k=c=>(aa("data-v-c6248625"),c=c(),sa(),c),Sa={class:"card"},Da={class:"flex justify-content-between flex-wrap mb-1"},Ua={class:"flex align-items-center field text-xl font-bold pl-4"},Oa=k(()=>t("span",{class:"flex align-items-center"},null,-1)),Ea={class:"flex align-items-center"},Fa={key:0,class:"m-1"},La={class:"m-1"},Aa=["onSubmit"],Ma={class:"flex flex-row-reverse mb-2"},za={class:"flex-3"},Ra={class:"ml-2 flex-2"},Ba={class:"mr-2 flex-2"},Ia={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},Ta={class:"grid p-fluid"},Na={class:"field col-12 md:col-6 lg:col-6"},Ga=k(()=>t("span",{class:"p-error"},"*",-1)),Wa={key:0},ja={class:"text-orange-500"},Ha={key:1,class:"p-error"},Za={class:"field col-12 md:col-6 lg:col-6"},Ya=k(()=>t("span",{class:"p-error"},"*",-1)),Ka={key:0},qa={class:"text-orange-500"},Ja={key:1,class:"p-error"},Qa={class:"field col-12 md:col-6 lg:col-6"},Xa=k(()=>t("span",{class:"p-error"},"*",-1)),Pa={key:0},es={class:"text-orange-500"},ts={key:1,class:"p-error"},as={class:"field col-12 md:col-6 lg:col-6"},ss=k(()=>t("span",{class:"p-error"},"*",-1)),os={key:0},is={class:"text-orange-500"},ls={key:1,class:"p-error"},ns={class:"field col-12 md:col-6 lg:col-6"},ds=k(()=>t("span",{class:"p-error"},"*",-1)),rs={key:0},cs={class:"text-orange-500"},_s={key:1,class:"p-error"},us={class:"field col-12 md:col-6 lg:col-6"},ms=k(()=>t("span",{class:"p-error"},"*",-1)),ps={key:0},hs={class:"text-orange-500"},gs={key:1,class:"p-error"},fs={class:"field col-12 md:col-6 lg:col-6"},vs=k(()=>t("span",{class:"p-error"},"*",-1)),bs={key:0},ys={class:"text-orange-500"},ws={key:1,class:"p-error"},ks={class:"field col-12 md:col-6 lg:col-6"},$s=k(()=>t("span",{class:"p-error"},"*",-1)),Vs={key:0},xs={class:"text-orange-500"},Cs={key:1,class:"p-error"},Ss={class:"field col-12 md:col-6 lg:col-6"},Ds=k(()=>t("span",{class:"p-error"},"*",-1)),Us={key:0},Os={class:"text-orange-500"},Es={key:1,class:"p-error"},Fs={class:"field col-12 md:col-6 lg:col-6"},Ls=k(()=>t("span",{class:"p-error"},"*",-1)),As={key:0},Ms={class:"text-orange-500"},zs={key:1,class:"p-error"},Rs={class:"field col-12 md:col-6 lg:col-6"},Bs=k(()=>t("span",{class:"p-error"},"*",-1)),Is={key:0},Ts={class:"text-orange-500"},Ns={key:1,class:"p-error"},Gs={key:0,class:"field col-12 md:col-6 lg:col-6"},Ws={key:0},js={class:"text-orange-500"},Hs={key:1,class:"p-error"},Zs={key:1,class:"field col-12 md:col-6 lg:col-6"},Ys={key:0},Ks={class:"text-orange-500"},qs={key:1,class:"p-error"},Js={class:"field col-12 md:col-6 lg:col-6"},Qs=k(()=>t("span",{class:"p-error"},"*",-1)),Xs={key:0},Ps={class:"text-orange-500"},eo={key:1,class:"p-error"},to={key:2,class:"field col-12 md:col-6 lg:col-6"},ao={key:0},so={class:"text-orange-500"},oo={key:1,class:"p-error"},io={class:"flex flex-row-reverse mb-2"},lo={class:"flex-3"},no={class:"ml-2 flex-2"},ro={class:"mr-2 flex-2"},co={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},_o={class:"grid p-fluid"},uo={class:"field col-12 md:col-6 lg:col-6"},mo=k(()=>t("label",{for:"muac_cm"},"MUAC (cm) [8 to 30]",-1)),po={key:0},ho={class:"text-orange-500"},go={key:1,class:"p-error"},fo={key:0,class:"field col-12 md:col-6 lg:col-6"},vo={key:0},bo={class:"text-orange-500"},yo={key:1,class:"p-error"},wo={key:1,class:"field col-12 md:col-6 lg:col-6"},ko=k(()=>t("label",{for:"height_cm"},"Height (cm)",-1)),$o={key:0},Vo={class:"text-orange-500"},xo={key:1,class:"p-error"},Co={key:2,class:"field col-12 md:col-6 lg:col-6"},So=k(()=>t("span",{class:"p-error"},"*",-1)),Do={key:0},Uo={class:"text-orange-500"},Oo={key:1,class:"p-error"},Eo={key:3,class:"field col-12 md:col-6 lg:col-6"},Fo=k(()=>t("label",{for:"immunization_status"},"Immunization Status",-1)),Lo={key:0},Ao={class:"text-orange-500"},Mo={key:1,class:"p-error"},zo={class:"field col-12 md:col-6 lg:col-6"},Ro=k(()=>t("label",{for:"deworming"},"Deworming",-1)),Bo={key:0},Io={class:"text-orange-500"},To={key:1,class:"p-error"},No={key:4,class:"field col-12 md:col-6 lg:col-6"},Go=k(()=>t("label",{for:"vit_a_supplement"},"Vitamin A Supplement",-1)),Wo={key:0},jo={class:"text-orange-500"},Ho={key:1,class:"p-error"},Zo={class:"field col-12 md:col-6 lg:col-6"},Yo=k(()=>t("label",{for:"type_of_case"},"Type of Case",-1)),Ko={key:0},qo={class:"text-orange-500"},Jo={key:1,class:"p-error"},Qo={class:"field col-12 md:col-6 lg:col-6"},Xo=k(()=>t("label",{for:"criteria_group"},"Criteria Group",-1)),Po={key:0},ei={class:"text-orange-500"},ti={key:1,class:"p-error"},ai={class:"field col-12 md:col-6 lg:col-6"},si=k(()=>t("label",{for:"case_category"},"Case Category",-1)),oi={key:0},ii={class:"text-orange-500"},li={key:1,class:"p-error"},ni={class:"field col-12 md:col-6 lg:col-6"},di=k(()=>t("label",{for:"admission_criteria"},"Admission Criteria",-1)),ri={key:0},ci={class:"text-orange-500"},_i={key:1,class:"p-error"},ui={class:"field col-12 md:col-6 lg:col-6"},mi=k(()=>t("label",{for:"date_of_admission"},"Date of Admission",-1)),pi={key:0},hi={class:"text-orange-500"},gi={key:1,class:"p-error"},fi={class:"field col-12 md:col-6 lg:col-6"},vi=k(()=>t("label",{for:"admitted_year"},"Admitted Year",-1)),bi={key:0},yi={class:"text-orange-500"},wi={key:1,class:"p-error"},ki={class:"field col-12 md:col-6 lg:col-6"},$i=k(()=>t("label",{for:"admitted_month"},"Admitted Month",-1)),Vi={class:"p-inputtext p-component"},xi={key:0},Ci={class:"text-orange-500"},Si={key:1,class:"p-error"},Di={class:"flex pt-2"},Ui={class:"pb-3"},Oi=k(()=>t("span",{class:"text-color-secondary"},"Length of Stay: ",-1)),Ei={class:"grid p-fluid"},Fi={class:"field col-6"},Li=k(()=>t("label",{for:"date_of_visit"},"Date Of Visit",-1)),Ai={key:0,class:"p-error"},Mi={class:"field col-6"},zi=k(()=>t("label",{for:"fu-muac_cm"},"MUAC (cm) [8 to 30]",-1)),Ri={key:0,class:"p-error"},Bi={class:"field col-6"},Ii=k(()=>t("label",{for:"fu-weight_kg"},"Weight (kg) [1.5 to 25]",-1)),Ti={key:0,class:"p-error"},Ni={class:"field col-6"},Gi=k(()=>t("label",{for:"fu-food"},"Food",-1)),Wi={key:0,class:"p-error"},ji={key:0,class:"field col-6"},Hi=k(()=>t("label",{for:"fu-food"},"Food (kg)",-1)),Zi={key:0,class:"p-error"},Yi={class:"field col-12"},Ki=k(()=>t("label",{for:"fu-follow_up_result"},"Follow Up Result",-1)),qi={key:0,class:"p-error"},Ji=k(()=>t("div",{class:"field col-6 md:col-9"},null,-1)),Qi={class:"field col-6 md:col-3"},Xi={key:0,class:"flex flex-row-reverse mb-2"},Pi={class:"mb-2 mt-2 col-12 md:col-6 lg:col-6",style:{border:"1px solid aliceblue"}},el={class:"surface-ground"},tl={colspan:"2",class:"font-bold p-2"},al=["onClick"],sl=k(()=>t("i",{class:"pi pi-times text-red-500 cursor-pointer"},null,-1)),ol=[sl],il=["onClick"],ll=k(()=>t("i",{class:"pi pi-pencil cursor-pointer"},null,-1)),nl=[ll],dl={key:0},rl=k(()=>t("td",{class:"text-color-secondary p-2"},"Status:",-1)),cl={key:1},_l=k(()=>t("td",{class:"text-color-secondary p-2"},"Feedback:",-1)),ul=k(()=>t("td",{class:"text-color-secondary p-2"},"Date of Visit:",-1)),ml={class:"p-2"},pl={key:0,style:{float:"right"}},hl={class:"text-orange-500"},gl=k(()=>t("td",{class:"text-color-secondary p-2"},"MUAC (cm):",-1)),fl={class:"p-2"},vl={key:0,style:{float:"right"}},bl={class:"text-orange-500"},yl=k(()=>t("td",{class:"text-color-secondary p-2"},"Weight (kg):",-1)),wl={class:"p-2"},kl={key:0,style:{float:"right"}},$l={class:"text-orange-500"},Vl=k(()=>t("td",{class:"text-color-secondary p-2"},"Food Given:",-1)),xl={class:"p-2"},Cl={key:0,style:{float:"right"}},Sl={class:"text-orange-500"},Dl=k(()=>t("td",{class:"text-color-secondary p-2"},"Food Quantity (kg):",-1)),Ul={class:"p-2"},Ol={key:0,style:{float:"right"}},El={class:"text-orange-500"},Fl=k(()=>t("td",{class:"text-color-secondary p-2"},"Follow Up Result:",-1)),Ll={key:0,style:{float:"right"}},Al={class:"text-orange-500"},Ml={class:"flex flex-row-reverse mb-2"},zl={class:""},Rl={class:"ml-2"},Bl={class:"mr-2"},Il={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},Tl={class:"grid p-fluid"},Nl={class:"field col-12 md:col-6 lg:col-6"},Gl=k(()=>t("label",{for:"discharge_status"},"Discharge Status",-1)),Wl={key:0},jl={class:"text-orange-500"},Hl={class:"field col-12 md:col-6 lg:col-6"},Zl=k(()=>t("label",{for:"discharge_category"},"Discharge Category",-1)),Yl={key:0},Kl={class:"text-orange-500"},ql={class:"field col-12 md:col-6 lg:col-6"},Jl=k(()=>t("label",{for:"date_of_discharge"},"Date of Discharge",-1)),Ql={key:0},Xl={class:"text-orange-500"},Pl={class:"field col-12 md:col-6 lg:col-6"},en=k(()=>t("label",{for:"discharge_year"},"Discharge Year",-1)),tn={key:0},an={class:"text-orange-500"},sn={class:"field col-12 md:col-6 lg:col-6"},on=k(()=>t("label",{for:"discharge_month"},"Discharge Month",-1)),ln={class:"p-inputtext p-component"},nn={key:0},dn={class:"text-orange-500"},rn={class:"field col-12 md:col-6 lg:col-6"},cn=k(()=>t("label",{for:"discharge_muac_cm"},"Discharge MUAC (cm)",-1)),_n={key:0},un={class:"text-orange-500"},mn={class:"field col-12 md:col-6 lg:col-6"},pn=k(()=>t("label",{for:"discharge_weight_kg"},"Discharge Weight (kg)",-1)),hn={key:0},gn={class:"text-orange-500"},fn={class:"field col-12 md:col-6 lg:col-6"},vn=k(()=>t("label",{for:"discharge_height_cm"},"Discharge Height (cm)",-1)),bn={key:0},yn={class:"text-orange-500"},wn={class:"field col-12 md:col-6 lg:col-6"},kn=k(()=>t("label",{for:"discharge_wfh_zscore"},"Discharge WFH (z score)",-1)),$n={key:0},Vn={class:"text-orange-500"},xn={class:"field col-12 md:col-6 lg:col-6"},Cn=k(()=>t("label",{for:"length_of_stay"},"Length of Stay",-1)),Sn={key:0},Dn={class:"text-orange-500"},Un={class:"text-center w-full"},On={class:"mt-2"},En={class:"field col-12 md:col-6 lg:col-6"},Be="yy-mm-dd",Fn={__name:"Edit",setup(c){const{section:h,isLoading:C,v$:o,handleSubmit:x,submitted:f,state:Q,stateOptions:K,townshipOptions:ie,villageOptions:Ie,yesNoOptions:X,donarOptions:he,ageGroupOptions:ge,genderOptions:fe,typeOptions:ve,screeningTypeOptions:re,zScoreOptions:be,immunizationStatusOptions:H,typeOfCasesOptions:P,caseCategoriesOptions:G,admissionCriteriaOptions:ye,criteriaGroupsOptions:we,dischargeState:S,dischargeStatusOptions:ke,dischargeCategoryOptions:$e,dischargeData:V,dischargeHandleSubmit:Ve,setDischcargeCategory:L,meV$:n,meHandleSubmit:Te,meSubmitted:E,minFollowUpDate:xe,maxFollowUpDate:Ce,fuRecords:Se,fuV$:U,fuHandleSubmit:ce,fuSubmitted:W,foodOptions:Ne,foodKgOptions:Ge,frOptions:We,newFollowUp:De,showFollowUp:v,followUpTitle:Ue,showConfirmDialog:je,editFollowUp:Oe,biEdit:M,meEdit:z,dEdit:q,biData:i,meData:y,calculateLengthOfStay:He,transferTo:_e,transferCase:Ze,cmUserOptions:Ye,isCompleteFollowUp:Ke,tabIndex:w}=Ca(),Ee=ot(()=>we.value.filter(l=>l.visible)),qe=ot(()=>G.value.filter(l=>l.visible)),Je=ot(()=>ye.value.filter(l=>l.visible)),O=$(!1),Fe=()=>{Le()&&x(!o.value.$invalid)},le=Z=>{const l=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=Z-1;return Y>=0&&Y<12?l[Y]:"..."},Le=()=>Q.phone_number?ma(Q.phone_number)?!0:(document.getElementById("phone_number").focus(),window.alert("Invalid Phone Number, Please enter the right one"),!1):(window.alert("Phone Number is required to fill, Please enter"),!1);return(Z,l)=>{const Y=vt("router-link"),D=nt("select-all-on-focus");return d(),_(ta,null,[t("div",Sa,[t("div",Da,[t("span",Ua,m(e(o).am_number.$model),1),Oa,t("span",Ea,[Z.$can("transfer","Case")?(d(),_("div",Fa,[b(e(R),{severity:"secondary",onClick:l[0]||(l[0]=a=>O.value=!0),icon:"pi pi-arrow-up-right",text:"",rounded:""})])):r("",!0),Z.$can("index","MyCase")?(d(),I(Y,{key:1,to:{name:"caseList"}},{default:T(()=>[t("div",La,[b(e(R),{severity:"secondary",icon:"pi pi-times",text:"",rounded:""})])]),_:1})):r("",!0)])]),b(e(na),{"active-index":e(w),scrollable:!0},{default:T(()=>[b(e(Re),{header:"Biographic Info",disabled:e(h).disableBiographicInfo},{default:T(()=>[t("form",{onSubmit:it(Fe,["prevent"])},[t("div",Ma,[t("div",za,[e(M)?r("",!0):(d(),I(e(R),{key:0,onClick:l[1]||(l[1]=a=>M.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",Ra,[e(M)?(d(),I(e(R),{key:0,type:"submit",label:"Save",severity:"primary"})):r("",!0)]),t("div",Ba,[e(M)?(d(),I(e(R),{key:0,onClick:l[2]||(l[2]=a=>M.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):r("",!0)]),t("div",Ia,[b(e(Me),{value:e(o).status.$model,severity:e(o).status.$model=="Completed"?"info":e(o).status.$model=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",Ta,[t("div",Na,[t("label",{for:"screening_type",class:F({"p-error":e(o).screening_type.$invalid&&e(f)})},[g("Screening Type"),Ga],2),b(e(A),{disabled:!e(M),id:"screening_type",modelValue:e(o).screening_type.$model,"onUpdate:modelValue":l[3]||(l[3]=a=>e(o).screening_type.$model=a),options:e(re),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).screening_type&&e(i).screening_type!=e(o).screening_type.$model?(d(),_("small",Wa,[g(" Edited as: "),t("span",ja,m(e(i).screening_type),1)])):r("",!0),e(o).screening_type.$invalid&&e(f)?(d(),_("small",Ha,m(e(o).screening_type.$message),1)):r("",!0)]),t("div",Za,[t("label",{for:"state",class:F({"p-error":e(o).state.$invalid&&e(f)})},[g("State"),Ya],2),b(e(A),{id:"state",disabled:!e(M),modelValue:e(o).state.$model,"onUpdate:modelValue":l[4]||(l[4]=a=>e(o).state.$model=a),options:e(K),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).state&&e(i).state!=e(o).state.$model?(d(),_("small",Ka,[g(" Edited as: "),t("span",qa,m(e(i).state),1)])):r("",!0),e(o).state.$invalid&&e(f)?(d(),_("small",Ja,m(e(o).state.$message),1)):r("",!0)]),t("div",Qa,[t("label",{for:"township",class:F({"p-error":e(o).township.$invalid&&e(f)})},[g("Township"),Xa],2),b(e(A),{id:"township",disabled:!e(M),modelValue:e(o).township.$model,"onUpdate:modelValue":l[5]||(l[5]=a=>e(o).township.$model=a),options:e(ie),optionLabel:"name_mm",optionValue:"name"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).township&&e(i).township!=e(o).township.$model?(d(),_("small",Pa,[g(" Edited as: "),t("span",es,m(e(i).township),1)])):r("",!0),e(o).township.$invalid&&e(f)?(d(),_("small",ts,m(e(o).township.$message),1)):r("",!0)]),t("div",as,[t("label",{for:"village",class:F({"p-error":e(o).village.$invalid&&e(f)})},[g("Village/Ward"),ss],2),b(e(A),{disabled:!e(M),id:"village",modelValue:e(o).village.$model,"onUpdate:modelValue":l[6]||(l[6]=a=>e(o).village.$model=a),options:e(Ie),optionLabel:"name_mm",optionValue:"name_en"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).village&&e(i).village!=e(o).village.$model?(d(),_("small",os,[g(" Edited as: "),t("span",is,m(e(i).village),1)])):r("",!0),e(o).village.$invalid&&e(f)?(d(),_("small",ls,m(e(o).village.$message),1)):r("",!0)]),t("div",ns,[t("label",{for:"patient_name",class:F({"p-error":e(o).patient_name.$invalid&&e(f)})},[g("Patient Name"),ds],2),b(e(j),{disabled:!e(M),id:"patient_name",modelValue:e(o).patient_name.$model,"onUpdate:modelValue":l[7]||(l[7]=a=>e(o).patient_name.$model=a)},null,8,["disabled","modelValue"]),e(i)&&e(i).patient_name&&e(i).patient_name!=e(o).patient_name.$model?(d(),_("small",rs,[g(" Edited as: "),t("span",cs,m(e(i).patient_name),1)])):r("",!0),e(o).patient_name.$invalid&&e(f)?(d(),_("small",_s,m(e(o).patient_name.$message),1)):r("",!0)]),t("div",us,[t("label",{for:"type",class:F({"p-error":e(o).type.$invalid&&e(f)})},[g("Type"),ms],2),b(e(A),{disabled:!e(M),id:"type",modelValue:e(o).type.$model,"onUpdate:modelValue":l[8]||(l[8]=a=>e(o).type.$model=a),options:e(ve),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).type&&e(i).type!=e(o).type.$model?(d(),_("small",ps,[g(" Edited as: "),t("span",hs,m(e(i).type),1)])):r("",!0),e(o).type.$invalid&&e(f)?(d(),_("small",gs,m(e(o).type.$message),1)):r("",!0)]),t("div",fs,[t("label",{for:"gender",class:F({"p-error":e(o).gender.$invalid&&e(f)})},[g("Gender"),vs],2),b(e(A),{disabled:!e(M),id:"gender",modelValue:e(o).gender.$model,"onUpdate:modelValue":l[9]||(l[9]=a=>e(o).gender.$model=a),options:e(fe),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).gender&&e(i).gender!=e(o).gender.$model?(d(),_("small",bs,[g(" Edited as: "),t("span",ys,m(e(i).gender),1)])):r("",!0),e(o).gender.$invalid&&e(f)?(d(),_("small",ws,m(e(o).gender.$message),1)):r("",!0)]),t("div",ks,[t("label",{for:"date_of_birth",class:F({"p-error":e(o).date_of_birth.$invalid&&e(f)})},[g("Date of Birth"),$s],2),b(e(ze),{disabled:!e(M),id:"date_of_birth",modelValue:e(o).date_of_birth.$model,"onUpdate:modelValue":l[10]||(l[10]=a=>e(o).date_of_birth.$model=a),dateFormat:Be},null,8,["disabled","modelValue"]),e(i)&&e(i).date_of_birth&&e(i).date_of_birth!=e(o).date_of_birth.$model?(d(),_("small",Vs,[g(" Edited as: "),t("span",xs,m(e(i).date_of_birth),1)])):r("",!0),e(o).date_of_birth.$invalid&&e(f)?(d(),_("small",Cs,m(e(o).date_of_birth.$message),1)):r("",!0)]),t("div",Ss,[t("label",{for:"age_group",class:F({"p-error":e(o).age_group.$invalid&&e(f)})},[g("Age Group"),Ds],2),b(e(A),{disabled:!e(M),id:"age_group",modelValue:e(o).age_group.$model,"onUpdate:modelValue":l[11]||(l[11]=a=>e(o).age_group.$model=a),options:e(ge),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).age_group&&e(i).age_group!=e(o).age_group.$model?(d(),_("small",Us,[g(" Edited as: "),t("span",Os,m(e(i).age_group),1)])):r("",!0),e(o).age_group.$invalid&&e(f)?(d(),_("small",Es,m(e(o).age_group.$message),1)):r("",!0)]),t("div",Fs,[t("label",{for:"disability",class:F({"p-error":e(o).disability.$invalid&&e(f)})},[g("Disability"),Ls],2),b(e(A),{disabled:!e(M),id:"disability",modelValue:e(o).disability.$model,"onUpdate:modelValue":l[12]||(l[12]=a=>e(o).disability.$model=a),options:e(X),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).disability&&e(i).disability!=e(o).disability.$model?(d(),_("small",As,[g(" Edited as: "),t("span",Ms,m(e(i).disability),1)])):r("",!0),e(o).disability.$invalid&&e(f)?(d(),_("small",zs,m(e(o).disability.$message),1)):r("",!0)]),t("div",Rs,[t("label",{for:"phone_number",class:F({"p-error":e(o).phone_number.$invalid&&e(f)})},[g("Phone Number"),Bs],2),b(e(j),{disabled:!e(M),id:"phone_number",modelValue:e(o).phone_number.$model,"onUpdate:modelValue":l[13]||(l[13]=a=>e(o).phone_number.$model=a)},null,8,["disabled","modelValue"]),e(i)&&e(i).phone_number&&e(i).phone_number!=e(o).phone_number.$model?(d(),_("small",Is,[g(" Edited as: "),t("span",Ts,m(e(i).phone_number),1)])):r("",!0),e(o).phone_number.$invalid&&e(f)?(d(),_("small",Ns,m(e(o).phone_number.$message),1)):r("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(d(),_("div",Gs,[t("label",{for:"father_name",class:F({"p-error":e(o).father_name.$invalid&&e(f)})},"Father's Name",2),b(e(j),{disabled:!e(M),id:"father_name",modelValue:e(o).father_name.$model,"onUpdate:modelValue":l[14]||(l[14]=a=>e(o).father_name.$model=a)},null,8,["disabled","modelValue"]),e(i)&&e(i).father_name&&e(i).father_name!=e(o).father_name.$model?(d(),_("small",Ws,[g(" Edited as: "),t("span",js,m(e(i).father_name),1)])):r("",!0),e(o).father_name.$invalid&&e(f)?(d(),_("small",Hs,m(e(o).father_name.$message),1)):r("",!0)])):r("",!0),e(o).type.$model=="Pregnant Woman or Girl"||e(o).type.$model=="Breastfeeding Woman or Girl"?(d(),_("div",Zs,[t("label",{for:"husband_name",class:F({"p-error":e(o).husband_name.$invalid&&e(f)})},"Husband's Name",2),b(e(j),{disabled:!e(M),id:"husband_name",modelValue:e(o).husband_name.$model,"onUpdate:modelValue":l[15]||(l[15]=a=>e(o).husband_name.$model=a)},null,8,["disabled","modelValue"]),e(i)&&e(i).husband_name&&e(i).husband_name!=e(o).husband_name.$model?(d(),_("small",Ys,[g(" Edited as: "),t("span",Ks,m(e(i).husband_name),1)])):r("",!0),e(o).husband_name.$invalid&&e(f)?(d(),_("small",qs,m(e(o).husband_name.$message),1)):r("",!0)])):r("",!0),t("div",Js,[t("label",{for:"receiving_cash_assistant",class:F({"p-error":e(o).receiving_cash_assistant.$invalid&&e(f)})},[g("Receiving Cash Assistant"),Qs],2),b(e(A),{disabled:!e(M),id:"receiving_cash_assistant",modelValue:e(o).receiving_cash_assistant.$model,"onUpdate:modelValue":l[16]||(l[16]=a=>e(o).receiving_cash_assistant.$model=a),options:e(X),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).receiving_cash_assistant&&e(i).receiving_cash_assistant!=e(o).receiving_cash_assistant.$model?(d(),_("small",Xs,[g(" Edited as: "),t("span",Ps,m(e(i).receiving_cash_assistant),1)])):r("",!0),e(o).receiving_cash_assistant.$invalid&&e(f)?(d(),_("small",eo,m(e(o).receiving_cash_assistant.$message),1)):r("",!0)]),e(o).receiving_cash_assistant.$model=="Yes"?(d(),_("div",to,[t("label",{for:"yes_which_donar",class:F({"p-error":e(o).yes_which_donar.$invalid&&e(f)})},"If Yes, Which Donar?",2),b(e(A),{disabled:!e(M),id:"yes_which_donar",modelValue:e(o).yes_which_donar.$model,"onUpdate:modelValue":l[17]||(l[17]=a=>e(o).yes_which_donar.$model=a),options:e(he),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(i)&&e(i).yes_which_donar&&e(i).yes_which_donar!=e(o).yes_which_donar.$model?(d(),_("small",ao,[g(" Edited as: "),t("span",so,m(e(i).yes_which_donar),1)])):r("",!0),e(o).yes_which_donar.$invalid&&e(f)?(d(),_("small",oo,m(e(o).yes_which_donar.$message),1)):r("",!0)])):r("",!0)])],40,Aa)]),_:1},8,["disabled"]),b(e(Re),{header:"Screening",disabled:e(h).disableMedicalExamination},{default:T(()=>[t("form",{onSubmit:l[33]||(l[33]=it(a=>e(Te)(!e(n).$invalid),["prevent"]))},[t("div",io,[t("div",lo,[e(z)?r("",!0):(d(),I(e(R),{key:0,onClick:l[18]||(l[18]=a=>z.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",no,[e(z)?(d(),I(e(R),{key:0,type:"submit",label:"Save",severity:"primary"})):r("",!0)]),t("div",ro,[e(z)?(d(),I(e(R),{key:0,onClick:l[19]||(l[19]=a=>z.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):r("",!0)]),t("div",co,[b(e(Me),{value:e(n).status.$model,severity:e(n).status.$model=="Completed"?"info":e(n).status.$model=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",_o,[t("div",uo,[mo,oe(b(e(me),{disabled:!e(z),modelValue:e(n).muac_cm.$model,"onUpdate:modelValue":l[20]||(l[20]=a=>e(n).muac_cm.$model=a),id:"muac_cm",minFractionDigits:2},null,8,["disabled","modelValue"]),[[D]]),e(y)&&e(y).muac_cm&&e(y).muac_cm!=e(n).muac_cm.$model?(d(),_("small",po,[g(" Edited as: "),t("span",ho,m(e(y).muac_cm),1)])):r("",!0),e(n).muac_cm.$invalid&&e(E)?(d(),_("small",go,m(e(n).muac_cm.$message),1)):r("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(d(),_("div",fo,[t("label",{for:"weight_kg",class:F({"p-error":e(n).weight_kg.$invalid&&e(E)})},"Weight (kg) [1.5 to 25]",2),oe(b(e(me),{disabled:!e(z),modelValue:e(n).weight_kg.$model,"onUpdate:modelValue":l[21]||(l[21]=a=>e(n).weight_kg.$model=a),id:"weight_kg",minFractionDigits:2},null,8,["disabled","modelValue"]),[[D]]),e(y)&&e(y).weight_kg&&e(y).weight_kg!=e(n).weight_kg.$model?(d(),_("small",vo,[g(" Edited as: "),t("span",bo,m(e(y).weight_kg),1)])):r("",!0),e(n).weight_kg.$invalid&&e(E)?(d(),_("small",yo,m(e(n).weight_kg.$message),1)):r("",!0)])):r("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(d(),_("div",wo,[ko,oe(b(e(me),{disabled:!e(z),modelValue:e(n).height_cm.$model,"onUpdate:modelValue":l[22]||(l[22]=a=>e(n).height_cm.$model=a),id:"height_cm",minFractionDigits:2},null,8,["disabled","modelValue"]),[[D]]),e(y)&&e(y).height_cm&&e(y).height_cm!=e(n).height_cm.$model?(d(),_("small",$o,[g(" Edited as: "),t("span",Vo,m(e(y).height_cm),1)])):r("",!0),e(n).height_cm.$invalid&&e(E)?(d(),_("small",xo,m(e(n).height_cm.$message),1)):r("",!0)])):r("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(d(),_("div",Co,[t("label",{for:"wfh_zscore",class:F({"p-error":e(n).wfh_zscore.$invalid&&e(E)})},[g("WFH Z-Score"),So],2),b(e(A),{disabled:!e(z),id:"wfh_zscore",modelValue:e(n).wfh_zscore.$model,"onUpdate:modelValue":l[23]||(l[23]=a=>e(n).wfh_zscore.$model=a),options:e(be),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).wfh_zscore&&e(y).wfh_zscore!=e(n).wfh_zscore.$model?(d(),_("small",Do,[g(" Edited as: "),t("span",Uo,m(e(y).wfh_zscore),1)])):r("",!0),e(n).wfh_zscore.$invalid&&e(E)?(d(),_("small",Oo,m(e(n).wfh_zscore.$message),1)):r("",!0)])):r("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(d(),_("div",Eo,[Fo,b(e(A),{disabled:!e(z),modelValue:e(n).immunization_status.$model,"onUpdate:modelValue":l[24]||(l[24]=a=>e(n).immunization_status.$model=a),options:e(H),id:"immunization_status",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).immunization_status&&e(y).immunization_status!=e(n).immunization_status.$model?(d(),_("small",Lo,[g(" Edited as: "),t("span",Ao,m(e(y).immunization_status),1)])):r("",!0),e(n).immunization_status.$invalid&&e(E)?(d(),_("small",Mo,m(e(n).immunization_status.$message),1)):r("",!0)])):r("",!0),t("div",zo,[Ro,b(e(A),{disabled:!e(z),modelValue:e(n).deworming.$model,"onUpdate:modelValue":l[25]||(l[25]=a=>e(n).deworming.$model=a),options:e(X),id:"deworming",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).deworming&&e(y).deworming!=e(n).deworming.$model?(d(),_("small",Bo,[g(" Edited as: "),t("span",Io,m(e(y).deworming),1)])):r("",!0),e(n).deworming.$invalid&&e(E)?(d(),_("small",To,m(e(n).deworming.$message),1)):r("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(d(),_("div",No,[Go,b(e(A),{disabled:!e(z),modelValue:e(n).vit_a_supplement.$model,"onUpdate:modelValue":l[26]||(l[26]=a=>e(n).vit_a_supplement.$model=a),options:e(X),id:"vit_a_supplement",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).vit_a_supplement&&e(y).vit_a_supplement!=e(n).vit_a_supplement.$model?(d(),_("small",Wo,[g(" Edited as: "),t("span",jo,m(e(y).vit_a_supplement),1)])):r("",!0),e(n).vit_a_supplement.$invalid&&e(E)?(d(),_("small",Ho,m(e(n).vit_a_supplement.$message),1)):r("",!0)])):r("",!0),t("div",Zo,[Yo,b(e(A),{disabled:!e(z),modelValue:e(n).type_of_case.$model,"onUpdate:modelValue":l[27]||(l[27]=a=>e(n).type_of_case.$model=a),options:e(P),id:"type_of_case",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).type_of_case&&e(y).type_of_case!=e(n).type_of_case.$model?(d(),_("small",Ko,[g(" Edited as: "),t("span",qo,m(e(y).type_of_case),1)])):r("",!0),e(n).type_of_case.$invalid&&e(E)?(d(),_("small",Jo,m(e(n).type_of_case.$message),1)):r("",!0)]),t("div",Qo,[Xo,b(e(A),{disabled:!e(z),modelValue:e(n).criteria_group.$model,"onUpdate:modelValue":l[28]||(l[28]=a=>e(n).criteria_group.$model=a),options:Ee.value,id:"criteria_group",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).criteria_group&&e(y).criteria_group!=e(n).criteria_group.$model?(d(),_("small",Po,[g(" Edited as: "),t("span",ei,m(e(y).criteria_group),1)])):r("",!0),e(n).criteria_group.$invalid&&e(E)?(d(),_("small",ti,m(e(n).criteria_group.$message),1)):r("",!0)]),t("div",ai,[si,b(e(A),{disabled:!e(z),modelValue:e(n).case_category.$model,"onUpdate:modelValue":l[29]||(l[29]=a=>e(n).case_category.$model=a),options:qe.value,id:"case_category",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).case_category&&e(y).case_category!=e(n).case_category.$model?(d(),_("small",oi,[g(" Edited as: "),t("span",ii,m(e(y).case_category),1)])):r("",!0),e(n).case_category.$invalid&&e(E)?(d(),_("small",li,m(e(n).case_category.$message),1)):r("",!0)]),t("div",ni,[di,b(e(A),{disabled:!e(z),modelValue:e(n).admission_criteria.$model,"onUpdate:modelValue":l[30]||(l[30]=a=>e(n).admission_criteria.$model=a),options:Je.value,id:"admission_criteria",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).admission_criteria&&e(y).admission_criteria!=e(n).admission_criteria.$model?(d(),_("small",ri,[g(" Edited as: "),t("span",ci,m(e(y).admission_criteria),1)])):r("",!0),e(n).admission_criteria.$invalid&&e(E)?(d(),_("small",_i,m(e(n).admission_criteria.$message),1)):r("",!0)]),t("div",ui,[mi,b(e(ze),{disabled:!e(z),modelValue:e(n).date_of_admission.$model,"onUpdate:modelValue":l[31]||(l[31]=a=>e(n).date_of_admission.$model=a),id:"date_of_admission",dateFormat:Be},null,8,["disabled","modelValue"]),e(y)&&e(y).date_of_admission&&e(y).date_of_admission!=e(n).date_of_admission.$model?(d(),_("small",pi,[g(" Edited as: "),t("span",hi,m(e(y).date_of_admission),1)])):r("",!0),e(n).date_of_admission.$invalid&&e(E)?(d(),_("small",gi,m(e(n).date_of_admission.$message),1)):r("",!0)]),t("div",fi,[vi,b(e(j),{disabled:!e(z),modelValue:e(n).admitted_year.$model,"onUpdate:modelValue":l[32]||(l[32]=a=>e(n).admitted_year.$model=a),id:"admitted_year"},null,8,["disabled","modelValue"]),e(y)&&e(y).admitted_year&&e(y).admitted_year!=e(n).admitted_year.$model?(d(),_("small",bi,[g(" Edited as: "),t("span",yi,m(e(y).admitted_year),1)])):r("",!0),e(n).admitted_year.$invalid&&e(E)?(d(),_("small",wi,m(e(n).admitted_year.$message),1)):r("",!0)]),t("div",ki,[$i,t("p",Vi,m(le(e(n).admitted_month.$model)),1),e(y)&&e(y).admitted_month&&e(y).admitted_month!=e(n).admitted_month.$model?(d(),_("small",xi,[g(" Edited as: "),t("span",Ci,m(le(e(y).admitted_month)),1)])):r("",!0),e(n).admitted_month.$invalid&&e(E)?(d(),_("small",Si,m(e(n).admitted_month.$message),1)):r("",!0)])])],32)]),_:1},8,["disabled"]),b(e(Re),{header:"Follow Up",disabled:e(h).disableFollowUp},{default:T(()=>[b(e(bt),{visible:e(v),"onUpdate:visible":l[41]||(l[41]=a=>ea(v)?v.value=a:null),position:"right",class:"w-full md:w-30rem",pt:{header:{style:"justify-content: space-between"}}},{header:T(()=>[t("h4",Di,m(e(Ue)),1)]),default:T(()=>[t("h5",Ui,[Oi,g(m(e(He)(e(n).date_of_admission.$model,new Date().toISOString().split("T")[0]))+" Days",1)]),t("form",{onSubmit:l[40]||(l[40]=it(a=>e(ce)(!e(U).$invalid),["prevent"]))},[t("div",Ei,[t("div",Fi,[Li,b(e(ze),{id:"date_of_visit",modelValue:e(U).date_of_visit.$model,"onUpdate:modelValue":l[34]||(l[34]=a=>e(U).date_of_visit.$model=a),minDate:e(xe),maxDate:e(Ce),dateFormat:Be},null,8,["modelValue","minDate","maxDate"]),e(U).date_of_visit.$invalid&&e(W)?(d(),_("small",Ai,m(e(U).date_of_visit.$message),1)):r("",!0)]),t("div",Mi,[zi,oe(b(e(me),{id:"fu-muac_cm",modelValue:e(U).muac_cm.$model,"onUpdate:modelValue":l[35]||(l[35]=a=>e(U).muac_cm.$model=a),minFractionDigits:2},null,8,["modelValue"]),[[D]]),e(U).muac_cm.$invalid&&e(W)?(d(),_("small",Ri,m(e(U).muac_cm.$message),1)):r("",!0)]),t("div",Bi,[Ii,oe(b(e(me),{id:"fu-weight_kg",modelValue:e(U).weight_kg.$model,"onUpdate:modelValue":l[36]||(l[36]=a=>e(U).weight_kg.$model=a),minFractionDigits:2},null,8,["modelValue"]),[[D]]),e(U).weight_kg.$invalid&&e(W)?(d(),_("small",Ti,m(e(U).weight_kg.$message),1)):r("",!0)]),t("div",Ni,[Gi,b(e(A),{id:"fu-food",modelValue:e(U).food.$model,"onUpdate:modelValue":l[37]||(l[37]=a=>e(U).food.$model=a),class:F({"p-error":e(U).food.$invalid&&e(W)}),options:e(Ne),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(U).food.$invalid&&e(W)?(d(),_("small",Wi,m(e(U).food.$message),1)):r("",!0)]),e(U).food.$model!="Not Provided"?(d(),_("div",ji,[Hi,b(e(A),{id:"fu-food",modelValue:e(U).food_kg.$model,"onUpdate:modelValue":l[38]||(l[38]=a=>e(U).food_kg.$model=a),class:F({"p-error":e(U).food_kg.$invalid&&e(W)}),options:e(Ge),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(U).food_kg.$invalid&&e(W)?(d(),_("small",Zi,m(e(U).food_kg.$message),1)):r("",!0)])):r("",!0),t("div",Yi,[Ki,b(e(A),{id:"fu-follow_up_result",modelValue:e(U).follow_up_result.$model,"onUpdate:modelValue":l[39]||(l[39]=a=>e(U).follow_up_result.$model=a),class:F(["flex-1",{"p-error":e(U).follow_up_result.$invalid&&e(W)}]),options:e(We),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(U).follow_up_result.$invalid&&e(W)?(d(),_("small",qi,m(e(U).follow_up_result.$message),1)):r("",!0)]),Ji,t("div",Qi,[b(e(R),{type:"submit",label:"Save",severity:"primary"})])])],32)]),_:1},8,["visible"]),e(Ke)?r("",!0):(d(),_("div",Xi,[b(e(R),{icon:"pi pi-plus",label:"Add",onClick:e(De),severity:"secondary",text:""},null,8,["onClick"])])),b(e(da),{value:e(Se)},{list:T(a=>[t("table",Pi,[t("tr",el,[t("td",tl,[g(" Visit: "+m(a.data.visit)+"   ",1),a.data.status=="Edited"?(d(),I(e(Me),{key:0,value:a.data.status,severity:a.data.status=="Completed"?"info":a.data.status=="Feedback"?"danger":"warning"},null,8,["value","severity"])):r("",!0),t("span",{style:{float:"right"},onClick:Qe=>e(je)(a.data.id)},ol,8,al),t("span",{style:{float:"right","padding-right":"10px"},onClick:Qe=>e(Oe)(a.data.id)},nl,8,il)])]),["Feedback","Edited"].includes(a.data.status)?(d(),_("tr",dl,[rl,t("td",{class:F(["p-2",a.data.status=="Feedback"?"text-red-500":""])},m(a.data.status),3)])):r("",!0),["Feedback","Edited"].includes(a.data.status)?(d(),_("tr",cl,[_l,t("td",{class:F(["p-2",a.data.status=="Feedback"?"text-red-500":""])},m(a.data.feedback),3)])):r("",!0),t("tr",null,[ul,t("td",ml,[g(m(a.data.date_of_visit)+" ",1),a.data.data&&a.data.data.date_of_visit&&a.data.date_of_visit!=a.data.data.date_of_visit?(d(),_("span",pl,[g(" [ Edited as: "),t("span",hl,m(a.data.data.date_of_visit),1),g(" ] ")])):r("",!0)])]),t("tr",null,[gl,t("td",fl,[g(m(a.data.muac_cm)+" ",1),a.data.data&&a.data.data.muac_cm&&a.data.muac_cm!=a.data.data.muac_cm?(d(),_("span",vl,[g(" [ Edited as: "),t("span",bl,m(a.data.data.muac_cm),1),g(" ] ")])):r("",!0)])]),t("tr",null,[yl,t("td",wl,[g(m(a.data.weight_kg)+" ",1),a.data.data&&a.data.data.weight_kg&&a.data.weight_kg!=a.data.data.weight_kg?(d(),_("span",kl,[g("[ Edited as: "),t("span",$l,m(a.data.data.weight_kg),1),g(" ] ")])):r("",!0)])]),t("tr",null,[Vl,t("td",xl,[g(m(a.data.food)+" ",1),a.data.data&&a.data.data.food&&a.data.food!=a.data.data.food?(d(),_("span",Cl,[g("[ Edited as: "),t("span",Sl,m(a.data.data.food),1),g(" ] ")])):r("",!0)])]),t("tr",null,[Dl,t("td",Ul,[g(m(a.data.food_kg)+" ",1),a.data.data&&a.data.data.food_kg&&a.data.food_kg!=a.data.data.food_kg?(d(),_("span",Ol,[g("[ Edited as: "),t("span",El,m(a.data.data.food_kg),1),g(" ] ")])):r("",!0)])]),t("tr",null,[Fl,t("td",{class:F({"p-badge p-component p-badge-success":a.data.follow_up_result=="Complete Follow Up"})},[g(m(a.data.follow_up_result)+" ",1),a.data.data&&a.data.data.follow_up_result&&a.data.follow_up_result!=a.data.data.follow_up_result?(d(),_("span",Ll,[g("[ Edited as: "),t("span",Al,m(a.data.data.follow_up_result),1),g(" ] ")])):r("",!0)],2)])])]),_:1},8,["value"])]),_:1},8,["disabled"]),b(e(Re),{header:"Discharge",disabled:e(h).disableDischarge},{default:T(()=>[t("div",Ml,[t("div",zl,[e(q)?r("",!0):(d(),I(e(R),{key:0,onClick:l[42]||(l[42]=a=>q.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",Rl,[e(q)?(d(),I(e(R),{key:0,onClick:l[43]||(l[43]=a=>e(Ve)()),label:"Save",severity:"primary"})):r("",!0)]),t("div",Bl,[e(q)?(d(),I(e(R),{key:0,onClick:l[44]||(l[44]=a=>q.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):r("",!0)]),t("div",Il,[b(e(Me),{value:e(S).status??"Not Discharged Yet",severity:e(S).status=="Completed"?"success":e(S).status=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",Tl,[t("div",Nl,[Gl,b(e(A),{disabled:!e(q),modelValue:e(S).discharge_status,"onUpdate:modelValue":l[45]||(l[45]=a=>e(S).discharge_status=a),options:e(ke),id:"discharge_status",optionLabel:"name",optionValue:"code",onChange:e(L)},null,8,["disabled","modelValue","options","onChange"]),e(V)&&e(V).discharge_status&&e(V).discharge_status!=e(S).discharge_status?(d(),_("small",Wl,[g(" Edited as: "),t("span",jl,m(e(V).discharge_status),1)])):r("",!0)]),t("div",Hl,[Zl,b(e(A),{disabled:!0,modelValue:e(S).discharge_category,"onUpdate:modelValue":l[46]||(l[46]=a=>e(S).discharge_category=a),options:e($e),id:"discharge_category",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(V)&&e(V).discharge_category&&e(V).discharge_category!=e(S).discharge_category?(d(),_("small",Yl,[g(" Edited as: "),t("span",Kl,m(e(V).discharge_category),1)])):r("",!0)]),t("div",ql,[Jl,b(e(ze),{disabled:!e(q),modelValue:e(S).date_of_discharge,"onUpdate:modelValue":l[47]||(l[47]=a=>e(S).date_of_discharge=a),id:"date_of_discharge",dateFormat:Be,minDate:new Date,maxDate:new Date},null,8,["disabled","modelValue","minDate","maxDate"]),e(V)&&e(V).date_of_discharge&&e(V).date_of_discharge!=e(S).date_of_discharge?(d(),_("small",Ql,[g(" Edited as: "),t("span",Xl,m(e(V).date_of_discharge),1)])):r("",!0)]),t("div",Pl,[en,b(e(j),{disabled:"true",modelValue:e(S).discharge_year,"onUpdate:modelValue":l[48]||(l[48]=a=>e(S).discharge_year=a),id:"discharge_year"},null,8,["modelValue"]),e(V)&&e(V).discharge_year&&e(V).discharge_year!=e(S).discharge_year?(d(),_("small",tn,[g(" Edited as: "),t("span",an,m(e(V).discharge_year),1)])):r("",!0)]),t("div",sn,[on,t("p",ln,m(le(e(S).discharge_month)),1),e(V)&&e(V).discharge_month&&e(V).discharge_month!=e(S).discharge_month?(d(),_("small",nn,[g(" Edited as: "),t("span",dn,m(le(e(V).discharge_month)),1)])):r("",!0)]),t("div",rn,[cn,b(e(j),{disabled:"true",type:"number",modelValue:e(S).discharge_muac_cm,"onUpdate:modelValue":l[49]||(l[49]=a=>e(S).discharge_muac_cm=a),id:"discharge_muac_cm"},null,8,["modelValue"]),e(V)&&e(V).discharge_month&&e(V).discharge_month!=e(S).discharge_month?(d(),_("small",_n,[g(" Edited as: "),t("span",un,m(e(V).discharge_month),1)])):r("",!0)]),t("div",mn,[pn,b(e(j),{type:"number",modelValue:e(S).discharge_weight_kg,"onUpdate:modelValue":l[50]||(l[50]=a=>e(S).discharge_weight_kg=a),id:"discharge_weight_kg",disabled:"true"},null,8,["modelValue"]),e(V)&&e(V).discharge_weight_kg&&e(V).discharge_weight_kg!=e(S).discharge_weight_kg?(d(),_("small",hn,[g(" Edited as: "),t("span",gn,m(e(V).discharge_weight_kg),1)])):r("",!0)]),t("div",fn,[vn,b(e(j),{type:"number",modelValue:e(S).discharge_height_cm,"onUpdate:modelValue":l[51]||(l[51]=a=>e(S).discharge_height_cm=a),id:"discharge_height_cm",disabled:"true"},null,8,["modelValue"]),e(V)&&e(V).discharge_height_cm&&e(V).discharge_height_cm!=e(S).discharge_height_cm?(d(),_("small",bn,[g(" Edited as: "),t("span",yn,m(e(V).discharge_height_cm),1)])):r("",!0)]),t("div",wn,[kn,b(e(j),{type:"text",modelValue:e(S).discharge_wfh_zscore,"onUpdate:modelValue":l[52]||(l[52]=a=>e(S).discharge_wfh_zscore=a),id:"discharge_wfh_zscore",disabled:"true"},null,8,["modelValue"]),e(V)&&e(V).discharge_wfh_zscore&&e(V).discharge_wfh_zscore!=e(S).discharge_wfh_zscore?(d(),_("small",$n,[g(" Edited as: "),t("span",Vn,m(e(V).discharge_wfh_zscore),1)])):r("",!0)]),t("div",xn,[Cn,b(e(j),{type:"number",modelValue:e(S).length_of_stay,"onUpdate:modelValue":l[53]||(l[53]=a=>e(S).length_of_stay=a),id:"length_of_stay",disabled:"true"},null,8,["modelValue"]),e(V)&&e(V).length_of_stay&&e(V).length_of_stay!=e(S).length_of_stay?(d(),_("small",Sn,[g(" Edited as: "),t("span",Dn,m(e(V).length_of_stay),1)])):r("",!0)])])]),_:1},8,["disabled"])]),_:1},8,["active-index"]),e(C)?(d(),I(la,{key:0})):r("",!0)]),b(e(ra),null,{message:T(a=>[t("div",Un,[t("i",{class:F([a.message.icon,"mt-2 text-red-500 text-5xl"])},null,2),t("div",On,m(a.message.message),1)])]),_:1}),b(e(ia),{closable:!1,visible:O.value,modal:"",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},header:"Transfer case to:"},{footer:T(()=>[b(e(R),{label:"Cancel",icon:"pi pi-times",onClick:l[55]||(l[55]=a=>O.value=!1),text:""}),b(e(R),{label:"Transfer",icon:"pi pi-check",onClick:e(Ze),autofocus:""},null,8,["onClick"])]),default:T(()=>[t("div",En,[b(e(A),{id:"transfer_to",modelValue:e(_e).user_id,"onUpdate:modelValue":l[54]||(l[54]=a=>e(_e).user_id=a),options:e(Ye),optionLabel:"full_name",optionValue:"id",class:"w-full",filter:""},null,8,["modelValue","options"])])]),_:1},8,["visible"])],64)}}},Jn=Pt(Fn,[["__scopeId","data-v-c6248625"]]);export{Jn as default};
