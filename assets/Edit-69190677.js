import{K as It,Z as et,L as tt,R as Tt,Q as Nt,S as Gt,r as gt,h as lt,o as n,j as I,w as T,c,J as te,b,$ as Ht,i as ie,a as t,X as at,k as d,x as M,Y as Wt,a3 as jt,C as Zt,H as Yt,g as V,l as Kt,f as Jt,m as qt,D as me,p as J,E as _t,_ as Xt,n as st,t as u,u as e,G as ot,e as g,q as Qt,F as Pt,s as R,a6 as Re,A as ea,B as ta}from"./index-ae04caa3.js";import{s as A}from"./dropdown.esm-1966edcb.js";import{s as j}from"./inputtext.esm-64326cd5.js";import{F as aa,s as pe,a as sa}from"./dialog.esm-151f92d8.js";import{s as Be}from"./calendar.esm-85c77dd9.js";import{L as oa}from"./Loading-1d38682a.js";import{s as Ie,a as ia}from"./tabpanel.esm-1cdb7db8.js";import{s as la}from"./dataview.esm-6b7fd1c0.js";import{s as na}from"./confirmdialog.esm-6920f1d4.js";import{u as it,r as B,n as re,i as ut}from"./index-c35011e8.js";import{u as da}from"./store-f3ae0368.js";import{u as ra}from"./globalStore-62acee67.js";import{E as ca}from"./serverValidation-35937a0f.js";import{w as mt}from"./zscore-9e188e39.js";import{i as _a}from"./mm-phone-validate-fed13507.js";import"./index.esm-e54aec63.js";import"./paginator.esm-995680d0.js";var ua=`
.p-sidebar-mask {
    display: none;
    pointer-events: none;
    background-color: transparent;
    transition-property: background-color;
}

.p-sidebar-mask.p-component-overlay {
    pointer-events: auto;
}

.p-sidebar-visible {
    display: flex;
}

.p-sidebar {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    transform: translate3d(0px, 0px, 0px);
    position: relative;
    transition: transform 0.3s;
}

.p-sidebar-content {
    overflow-y: auto;
    flex-grow: 1;
}

.p-sidebar-header {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
}

.p-sidebar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

.p-sidebar-full .p-sidebar {
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    max-height: 100%;
    top: 0px !important;
    left: 0px !important;
}

/* Animation */
/* Center */
.p-sidebar-left .p-sidebar-enter-from,
.p-sidebar-left .p-sidebar-leave-to {
    transform: translateX(-100%);
}
.p-sidebar-right .p-sidebar-enter-from,
.p-sidebar-right .p-sidebar-leave-to {
    transform: translateX(100%);
}
.p-sidebar-top .p-sidebar-enter-from,
.p-sidebar-top .p-sidebar-leave-to {
    transform: translateY(-100%);
}
.p-sidebar-bottom .p-sidebar-enter-from,
.p-sidebar-bottom .p-sidebar-leave-to {
    transform: translateY(100%);
}
.p-sidebar-full .p-sidebar-enter-from,
.p-sidebar-full .p-sidebar-leave-to {
    opacity: 0;
}
.p-sidebar-full .p-sidebar-enter-active,
.p-sidebar-full .p-sidebar-leave-active {
    transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Size */
.p-sidebar-left .p-sidebar {
    width: 20rem;
    height: 100%;
}

.p-sidebar-right .p-sidebar {
    width: 20rem;
    height: 100%;
}

.p-sidebar-top .p-sidebar {
    height: 10rem;
    width: 100%;
}

.p-sidebar-bottom .p-sidebar {
    height: 10rem;
    width: 100%;
}

.p-sidebar-left .p-sidebar-sm,
.p-sidebar-right .p-sidebar-sm {
    width: 20rem;
}

.p-sidebar-left .p-sidebar-md,
.p-sidebar-right .p-sidebar-md {
    width: 40rem;
}

.p-sidebar-left .p-sidebar-lg,
.p-sidebar-right .p-sidebar-lg {
    width: 60rem;
}

.p-sidebar-top .p-sidebar-sm,
.p-sidebar-bottom .p-sidebar-sm {
    height: 10rem;
}

.p-sidebar-top .p-sidebar-md,
.p-sidebar-bottom .p-sidebar-md {
    height: 20rem;
}

.p-sidebar-top .p-sidebar-lg,
.p-sidebar-bottom .p-sidebar-lg {
    height: 30rem;
}

.p-sidebar-left .p-sidebar-content,
.p-sidebar-right .p-sidebar-content,
.p-sidebar-top .p-sidebar-content,
.p-sidebar-bottom .p-sidebar-content {
    width: 100%;
    height: 100%;
}

@media screen and (max-width: 64em) {
    .p-sidebar-left .p-sidebar-lg,
    .p-sidebar-left .p-sidebar-md,
    .p-sidebar-right .p-sidebar-lg,
    .p-sidebar-right .p-sidebar-md {
        width: 20rem;
    }
}
`,ma={mask:function(h){var S=h.position;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:S==="left"?"flex-start":S==="right"?"flex-end":"center",alignItems:S==="top"?"flex-start":S==="bottom"?"flex-end":"center"}}},pa={mask:function(h){var S=h.instance,o=h.props,C=["left","right","top","bottom"],f=C.find(function(q){return q===o.position});return["p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":o.modal,"p-sidebar-mask-scrollblocker":o.blockScroll,"p-sidebar-visible":S.containerVisible,"p-sidebar-full":S.fullScreen},f?"p-sidebar-".concat(f):""]},root:function(h){var S=h.instance;return["p-sidebar p-component",{"p-input-filled":S.$primevue.config.inputStyle==="filled","p-ripple-disabled":S.$primevue.config.ripple===!1,"p-sidebar-full":S.fullScreen}]},header:"p-sidebar-header",headerContent:"p-sidebar-header-content",closeButton:"p-sidebar-close p-sidebar-icon p-link",closeIcon:"p-sidebar-close-icon",content:"p-sidebar-content"},ha=It(ua,{name:"sidebar",manual:!0}),ga=ha.load,fa={name:"BaseSidebar",extends:jt,props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:void 0},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},css:{classes:pa,inlineStyles:ma,loadStyle:ga},provide:function(){return{$parentInstance:this}}},ft={name:"Sidebar",extends:fa,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],data:function(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&et.clear(this.mask),this.container=null,this.mask=null},methods:{hide:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.focus(),this.autoZIndex&&et.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.enableDocumentSettings()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&tt.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(){this.autoZIndex&&et.clear(this.mask),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick:function(h){this.dismissable&&this.modal&&this.mask===h.target&&this.hide()},focus:function(){var h=function(C){return C&&C.querySelector("[autofocus]")},S=this.$slots.default&&h(this.content);S||(S=this.$slots.header&&h(this.headerContainer),S||(S=h(this.container))),S&&S.focus()},enableDocumentSettings:function(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&tt.addClass(document.body,"p-overflow-hidden")},disableDocumentSettings:function(){this.unbindOutsideClickListener(),this.blockScroll&&tt.removeClass(document.body,"p-overflow-hidden")},onKeydown:function(h){h.code==="Escape"&&this.hide()},containerRef:function(h){this.container=h},maskRef:function(h){this.mask=h},contentRef:function(h){this.content=h},headerContainerRef:function(h){this.headerContainer=h},closeButtonRef:function(h){this.closeButton=h},bindOutsideClickListener:function(){var h=this;this.outsideClickListener||(this.outsideClickListener=function(S){h.isOutsideClicked(S)&&h.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked:function(h){return this.container&&!this.container.contains(h.target)}},computed:{fullScreen:function(){return this.position==="full"},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:aa,ripple:Tt},components:{Portal:Nt,TimesIcon:Gt}};function he(r){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},he(r)}function pt(r,h){var S=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);h&&(o=o.filter(function(C){return Object.getOwnPropertyDescriptor(r,C).enumerable})),S.push.apply(S,o)}return S}function ht(r){for(var h=1;h<arguments.length;h++){var S=arguments[h]!=null?arguments[h]:{};h%2?pt(Object(S),!0).forEach(function(o){va(r,o,S[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(S)):pt(Object(S)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(S,o))})}return r}function va(r,h,S){return h=ba(h),h in r?Object.defineProperty(r,h,{value:S,enumerable:!0,configurable:!0,writable:!0}):r[h]=S,r}function ba(r){var h=ya(r,"string");return he(h)==="symbol"?h:String(h)}function ya(r,h){if(he(r)!=="object"||r===null)return r;var S=r[Symbol.toPrimitive];if(S!==void 0){var o=S.call(r,h||"default");if(he(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(r)}var wa=["aria-modal"],ka=["aria-label"];function $a(r,h,S,o,C,f){var q=gt("Portal"),K=lt("ripple"),le=lt("focustrap");return n(),I(q,null,{default:T(function(){return[C.containerVisible?(n(),c("div",te({key:0,ref:f.maskRef,onMousedown:h[2]||(h[2]=function(){return f.onMaskClick&&f.onMaskClick.apply(f,arguments)}),class:r.cx("mask"),style:r.sx("mask",!0,{position:r.position})},r.ptm("mask")),[b(Ht,te({name:"p-sidebar",onEnter:f.onEnter,onAfterEnter:f.onAfterEnter,onBeforeLeave:f.onBeforeLeave,onLeave:f.onLeave,onAfterLeave:f.onAfterLeave,appear:""},r.ptm("transition")),{default:T(function(){return[r.visible?ie((n(),c("div",te({key:0,ref:f.containerRef,class:r.cx("root"),role:"complementary","aria-modal":r.modal,onKeydown:h[1]||(h[1]=function(){return f.onKeydown&&f.onKeydown.apply(f,arguments)})},ht(ht({},r.$attrs),r.ptm("root"))),[t("div",te({ref:f.headerContainerRef,class:r.cx("header")},r.ptm("header")),[r.$slots.header?(n(),c("div",te({key:0,class:r.cx("headerContent")},r.ptm("headerContent")),[at(r.$slots,"header")],16)):d("",!0),r.showCloseIcon?ie((n(),c("button",te({key:1,ref:f.closeButtonRef,autofocus:"",type:"button",class:r.cx("closeButton"),"aria-label":f.closeAriaLabel,onClick:h[0]||(h[0]=function(){return f.hide&&f.hide.apply(f,arguments)})},r.ptm("closeButton"),{"data-pc-group-section":"iconcontainer"}),[at(r.$slots,"closeicon",{class:M(r.cx("closeIcon"))},function(){return[(n(),I(Wt(r.closeIcon?"span":"TimesIcon"),te({class:[r.cx("closeIcon"),r.closeIcon]},r.ptm("closeIcon")),null,16,["class"]))]})],16,ka)),[[K]]):d("",!0)],16),t("div",te({ref:f.contentRef,class:r.cx("content")},r.ptm("content")),[at(r.$slots,"default")],16)],16,wa)),[[le]]):d("",!0)]}),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):d("",!0)]}),_:3})}ft.render=$a;const Va=()=>{const r=da(),h=ra(),S=Zt(),o=Yt(),C=V(!1),f=new ca,q=Kt(),K=V(!1),le=V({disableBiographicInfo:!1,disableMedicalExamination:!1,disableFollowUp:!1,disableDischarge:!0}),Ne=V([{code:"Yangon",name:"Yangon"}]),X=V(!1),ge=V(!1),fe=V(!1),ve=V([]),be=V([]),ce=V(!0),ye=V([]),Z=V([]),Q=V(),H=V([]),we=V([]),ke=V([]),D=V([]),$e=V([]),Ve=V([]),x=V([]),xe=V([]),L=V([]),l=V([]),Ge=V([]),F=V([]),Ce=V([]),Se=V([]),De=V([]),O=V(""),_e=V("");Jt(()=>{W(),He(),Ue(),se(),zt()}),qt(()=>{r.$dispose()});const W=async()=>{C.value=!0,await h.fetchAllEnums();const s=h.getAllEnumResponse;if(s){const{options:p}=s.data;ye.value=p.screening_type.map(_=>({name:_,code:_})),Z.value=p.type.map(_=>({name:_,code:_})),Q.value=p.gender.map(_=>({name:_,code:_})),H.value=p.age_group.map(_=>({name:_,code:_})),we.value=p.yes_no.map(_=>({name:_,code:_})),ke.value=p.donar.map(_=>({name:_,code:_})),D.value=p.wfh_zscore.map(_=>({name:_,code:_})),Ve.value=p.bilateral_pitting_odema.map(_=>({name:_,code:_})),$e.value=p.appetite_test.map(_=>({name:_,code:_})),x.value=p.immunization_status.map(_=>({name:_,code:_})),xe.value=p.type_of_case.map(_=>({name:_,code:_})),L.value=p.case_category.map(_=>({name:_,code:_,visible:!0})),l.value=p.admission_criteria.map(_=>({name:_,code:_,visible:!0})),F.value=p.criteria_group.map(_=>({name:_,code:_,visible:!0})),Ce.value=p.discharge_status.map(_=>({name:_,code:_})),Se.value=p.discharge_category.map(_=>({name:_,code:_})),De.value=p.discharge_with.map(_=>({name:_,code:_})),ne.value=p.food.map(_=>({name:_,code:_})),ae.value=p.follow_up_result.map(_=>({name:_,code:_}))}},He=async()=>{C.value=!0,await h.fetchAllTownship();const s=h.getAllTownshipResponse;if(s){const{options:p}=s.data;ve.value=p}},Ue=async()=>{ce.value=!0,await h.fetchAllWards({township:v.township});const s=h.getAllWardResponse;s&&(be.value=s,ce.value=!1)},v=me({am_number:"",id:"",screening_type:"",state:"",township:"",village:"",patient_name:"",type:"",gender:"",date_of_birth:"",age_group:"",disability:"",phone_number:"",father_name:"",husband_name:"",receiving_cash_assistant:"",yes_which_donar:"",status:""}),Oe=V({}),ue={am_number:{},screening_type:{required:B},state:{required:B},township:{required:B},village:{required:B},patient_name:{required:B},type:{required:B},gender:{required:B},date_of_birth:{required:B},age_group:{required:B},disability:{required:B},phone_number:{required:B},father_name:{},husband_name:{},receiving_cash_assistant:{},yes_which_donar:{},status:{}},Ee=V(!1),We=it(ue,v),je=s=>{Ee.value=!0,s&&(C.value||z())},z=async()=>{f.clear(),C.value=!0;try{await r.updateBiographicInfo({id:v.id,case_id:o.params.id,screening_type:v.screening_type,state:v.state,township:v.township,village:v.village,patient_name:v.patient_name,type:v.type,gender:v.gender,date_of_birth:v.date_of_birth,age_group:v.age_group,disability:v.disability,phone_number:v.phone_number,father_name:v.father_name,husband_name:v.husband_name,receiving_cash_assistant:v.receiving_cash_assistant,yes_which_donar:v.yes_which_donar}),r.getUpdateBiographicInfoResponse&&(N("Biographic Info for patient "+v.patient_name+" is requested to update.","success"),ge.value=!1,se()),C.value=!1}catch(s){C.value=!1,s.status===422&&N(s.data.message,1e4)}},m=me({id:"",muac_cm:null,weight_kg:null,height_cm:null,wfh_zscore:"",immunization_status:"",deworming:"",vit_a_supplement:"",type_of_case:"",case_category:"",admission_criteria:"",criteria_group:"",date_of_admission:null,admitted_year:null,admitted_month:null,status:""}),Y=V({}),y={muac_cm:{numeric:re},weight_kg:{numeric:re},height_cm:{numeric:re},wfh_zscore:{},immunization_status:{},deworming:{},vit_a_supplement:{},type_of_case:{},case_category:{},admission_criteria:{},criteria_group:{},date_of_admission:{},admitted_year:{integer:ut,required:B},admitted_month:{integer:ut,required:B},status:{}},w=V(!1),Ze=it(y,m),Fe=s=>{w.value=!0,s&&(C.value||Ye())},Ye=async()=>{f.clear(),C.value=!0;try{await r.updateMedicalExamination({id:m.id,case_id:o.params.id,muac_cm:m.muac_cm,weight_kg:m.weight_kg,height_cm:m.height_cm,wfh_zscore:m.wfh_zscore,immunization_status:m.immunization_status,deworming:m.deworming,vit_a_supplement:m.vit_a_supplement,type_of_case:m.type_of_case,case_category:m.case_category,admission_criteria:m.admission_criteria,criteria_group:m.criteria_group,date_of_admission:m.date_of_admission,admitted_year:m.admitted_year,admitted_month:m.admitted_month}),r.getUpdateMedicalExaminationResponse&&(fe.value=!1,se()),C.value=!1}catch(s){if(C.value=!1,s.status===422){const p=s.data.data;f.record(p)}}},k=me({id:null,discharge_status:"",discharge_category:"",discharge_with:"",date_of_discharge:"",discharge_year:"",discharge_month:"",discharge_muac_cm:"",discharge_weight_kg:"",discharge_height_cm:"",discharge_wfh_zscore:"",length_of_stay:"",status:null}),Le=V({}),Ke=()=>{C.value||Je()},Je=async()=>{f.clear(),C.value=!0;try{await r.saveDischarge({id:k.id,case_id:o.params.id,discharge_status:k.discharge_status,discharge_category:k.discharge_category,discharge_with:k.discharge_with,date_of_discharge:k.date_of_discharge,discharge_year:k.discharge_year,discharge_month:k.discharge_month,discharge_muac_cm:k.discharge_muac_cm,discharge_weight_kg:k.discharge_weight_kg,discharge_height_cm:k.discharge_height_cm,discharge_wfh_zscore:k.discharge_wfh_zscore,length_of_stay:k.length_of_stay}),r.getSaveDischargeResponse&&(se(),X.value=!1),C.value=!1}catch(s){if(C.value=!1,s.status===422){const p=s.data.data;f.record(p)}}},E=V([]),ne=V([]),qe=V([{name:"3",code:3},{name:"6",code:6}]),ae=V([]),Ae=V("Add Follow Up");let G=!1;const i={id:"",case_id:"",date_of_visit:"",muac_cm:null,weight_kg:null,oedema:"",food:"",food_kg:null,follow_up_result:"Continue Follow Up"},U=me({...i});function P(){Object.keys(i).forEach(s=>{U[s]=i[s]})}const a={date_of_visit:{required:B},muac_cm:{numeric:re},weight_kg:{numeric:re},oedema:{},food:{},food_kg:{numeric:re},follow_up_result:{required:B}},Me=V(!1);let ee=it(a,U);const vt=()=>{if(K.value=!0,U.value=me({...i}),ee.value.date_of_visit.$model="",ee.value.muac_cm.$model=null,ee.value.weight_kg.$model=null,["Boy","Girl"].includes(v.type)?ee.value.food.$model="RUSF":ee.value.food.$model="WSB+",ee.value.food_kg.$model=null,E.value&&E.value.length>0){ee.value.food.$model=E.value[0].food;const s=new Date(E.value[0].date_of_visit);s.setDate(s.getDate()+1),O.value=s,_e.value=new Date}else O.value=new Date,_e.value=new Date},bt=()=>U.muac_cm!=0?U.muac_cm>8&&U.muac_cm<30?!0:(window.alert("MUAC must be between 8 to 30"),!1):!0,yt=()=>U.weight_kg!=0?U.weight_kg>1.5&&U.weight_kg<25?!0:(window.alert("Height must be between 1.5 to 25"),!1):!0,wt=s=>{Me.value=!0,s&&(!bt()||!yt()||C.value||(G?St():Ct()))},kt=s=>{q.require({header:"Confirmation",message:"Are you sure want to delete?",icon:"pi pi-exclamation-triangle",acceptLabel:"Yes, delete it",rejectLabel:"Cancel",acceptClass:"p-button-danger",rejectClass:"p-button-secondary p-button-text",accept:()=>{Vt(s)},reject:()=>{},onHide:()=>{}})},$t=s=>{if(G=!0,U.id=s,E.value)for(let p=0;p<E.value.length;p++)E.value[p].id==s&&(U.date_of_visit=E.value[p].date_of_visit,U.muac_cm=E.value[p].muac_cm,U.weight_kg=E.value[p].weight_kg,U.oedema=E.value[p].oedema,U.food=E.value[p].food,U.food_kg=Number(E.value[p].food_kg),U.follow_up_result=E.value[p].follow_up_result,Ae.value="Edit Follow Up: Visit - "+E.value[p].visit);K.value=!0},Vt=async s=>{C.value=!0,await r.deleteFollowUp({follow_up_id:s,case_id:o.params.id}),r.getFollowUpDeleteResponse&&(se(),_t.emit("show-toast",{severity:"success",summary:"",detail:"Delete Follow Up Successfully"})),C.value=!1},xt=s=>{const p=s.getFullYear(),_=`0${s.getMonth()+1}`.slice(-2),oe=`0${s.getDate()}`.slice(-2);return`${p}-${_}-${oe}`},Ct=async()=>{f.clear(),C.value=!0;try{await r.addFollowUp({case_id:o.params.id,date_of_visit:xt(U.date_of_visit),muac_cm:U.muac_cm,weight_kg:U.weight_kg,oedema:U.oedema,food:U.food,food_kg:U.food_kg,follow_up_result:U.follow_up_result}),r.getFollowUpAddResponse&&(se(),K.value=!1,P()),C.value=!1}catch(s){if(C.value=!1,s.status===422){const p=s.data.data;f.record(p)}}},St=async()=>{f.clear(),C.value=!0;try{await r.updateFollowUp({id:U.id,case_id:o.params.id,date_of_visit:U.date_of_visit,muac_cm:U.muac_cm,weight_kg:U.weight_kg,oedema:U.oedema,food:U.food,food_kg:U.food_kg,follow_up_result:U.follow_up_result}),r.getFollowUpUpdateResponse&&(se(),K.value=!1,P()),C.value=!1,G=!1}catch(s){if(C.value=!1,G=!1,s.status===422){const p=s.data.data;f.record(p)}}},Xe=V(!1),se=async()=>{C.value=!0,f.clear(),await r.fetchOne({id:o.params.id});const s=r.getOneResponse;if(s){if(le.value.disableDischarge=!["Discharged","Completed"].includes(s.data.status),v.am_number=s.data.am_number,v.id=s.data.biographic_info.id,v.status=s.data.biographic_info.status,v.screening_type=s.data.biographic_info.screening_type,v.state=s.data.biographic_info.state,v.township=s.data.biographic_info.township,v.village=s.data.biographic_info.village,v.patient_name=s.data.biographic_info.patient_name,v.type=s.data.biographic_info.type,v.gender=s.data.biographic_info.gender,v.date_of_birth=s.data.biographic_info.date_of_birth,v.age_group=s.data.biographic_info.age_group,v.disability=s.data.biographic_info.disability,v.phone_number=s.data.biographic_info.phone_number,v.father_name=s.data.biographic_info.father_name,v.husband_name=s.data.biographic_info.husband_name,v.receiving_cash_assistant=s.data.biographic_info.receiving_cash_assistant,v.yes_which_donar=s.data.biographic_info.yes_which_donar,Oe.value=JSON.parse(s.data.biographic_info.data),m.id=s.data.medical_examination.id,m.status=s.data.medical_examination.status,m.muac_cm=s.data.medical_examination.muac_cm,m.weight_kg=s.data.medical_examination.weight_kg,m.height_cm=s.data.medical_examination.height_cm,m.wfh_zscore=s.data.medical_examination.wfh_zscore,m.immunization_status=s.data.medical_examination.immunization_status,m.deworming=s.data.medical_examination.deworming,m.vit_a_supplement=s.data.medical_examination.vit_a_supplement,m.type_of_case=s.data.medical_examination.type_of_case,m.case_category=s.data.medical_examination.case_category,m.admission_criteria=s.data.medical_examination.admission_criteria,m.criteria_group=s.data.medical_examination.criteria_group,m.date_of_admission=s.data.medical_examination.date_of_admission,m.admitted_year=s.data.medical_examination.admitted_year,m.admitted_month=s.data.medical_examination.admitted_month,Y.value=JSON.parse(s.data.medical_examination.data),E.value=s.data.follow_ups,Xe.value=!1,E.value)for(let p=0;p<E.value.length;p++)E.value[p].follow_up_result=="Complete Follow Up"&&(Xe.value=!0),E.value[p].data=JSON.parse(E.value[p].data);s.data.discharge!=null?(k.id=s.data.discharge.id,k.discharge_status=s.data.discharge.discharge_status,k.discharge_category=s.data.discharge.discharge_category,k.discharge_with=s.data.discharge.discharge_with,k.date_of_discharge=s.data.discharge.date_of_discharge,k.discharge_year=s.data.discharge.discharge_year,k.discharge_month=s.data.discharge.discharge_month,k.discharge_muac_cm=s.data.discharge.discharge_muac_cm,k.discharge_weight_kg=s.data.discharge.discharge_weight_kg,k.discharge_height_cm=s.data.discharge.discharge_height_cm,k.discharge_wfh_zscore=s.data.discharge.discharge_wfh_zscore,k.length_of_stay=s.data.discharge.length_of_stay,k.status=s.data.discharge.status,Le.value=JSON.parse(s.data.discharge.data)):(X.value=!0,Dt())}C.value=!1},Dt=()=>{if(k.discharge_height_cm=m.height_cm,E.value)for(let s=0;s<E.value.length;s++)E.value[s].follow_up_result=="Complete Follow Up"&&(k.discharge_muac_cm=E.value[s].muac_cm,k.discharge_weight_kg=E.value[s].weight_kg,k.discharge_wfh_zscore=dt(k.discharge_weight_kg,m.height_cm),k.length_of_stay=Qe(m.date_of_admission,k.date_of_discharge))},nt=()=>m.muac_cm<12.5?"MUAC":m.muac_cm>=12.5?"WFH Z-Score":null,Ut=()=>{const s=E.value.sort((p,_)=>new Date(_.date_of_visit)-new Date(p.date_of_visit))[0];switch(k.discharge_status){case"Cured":if(nt()=="MUAC"){const p=Number(s.muac_cm),_=Number(m.muac_cm);if(p<_){N("MUAC is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error",1e4),k.discharge_status="";break}}if(nt()=="WFH Z-Score"){const p=m.wfh_zscore,_=dt(s.weight_kg,m.height_cm);if(p=="SAM <-3"&&_=="SAM <-3"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error"),k.discharge_status="";break}if(p=="MAM ≥-3 and <-2"&&_=="SAM <-3"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}if(p=="MAM ≥-3 and <-2"&&_=="MAM ≥-3 and <-2"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}if(p=="Normal ≥-2"&&_=="SAM <-3"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}if(p=="Normal ≥-2"&&_=="MAM ≥-3 and <-2"){N("WFH Z Score is not increasing. Cannot set to Cured. Please try again selecting Discharged Status!","error");break}}k.discharge_category="Cured";break;case"Default":k.discharge_category="Default";break;case"Death (Nut)":k.discharge_category="Death (Nut)";break;case"Death (Oth)":k.discharge_category="Death (Oth)";break;case"Non-respondent":k.discharge_category="Non-respondent";break;case"Transfer to OTP":k.discharge_category="Transfer to OTP";break;case"Transfer to other SFP":k.discharge_category="Transfer to other SFP";break;case"Transfer to ITP":k.discharge_category="Transfer to ITP";break;case"Refuse to referral":k.discharge_category="Other Exit";break;case"Medical transfer":k.discharge_category="Other Exit";break;case"Reg Mistake":k.discharge_category="Other Exit";break}},dt=(s,p)=>{let _=null;if(v.age_group){if(s!==0&&p!==0){const oe=v.age_group===H.value[0].name?"m24under":"m24to59",de=v.type===Z.value[0].name?"boy":"girl",ze=Math.round(p),Pe=mt[oe][de].find(Bt=>Bt.length===ze);Pe!==void 0&&(s<Pe.minus3?_=D.value[0].name:m.weight_kg<Pe.minus2?_=D.value[1].name:_=D.value[2].name)}}else N("Firstly, you need to set Date of Birth, then Age Group will be defined and WFH ZScore will be automatically selected","warn");return _},Qe=(s,p)=>{let _=null;p instanceof Date&&(p=p.toISOString().slice(0,10));const oe=new Date(s+"T00:00:00+06:30");return _=(new Date(p+"T00:00:00+06:30")-oe)/(1e3*60*60*24),_=Math.round(_),_};J(()=>v.township,()=>{Ue()}),J(()=>m.date_of_admission,()=>{Ot()}),J(()=>v.date_of_birth,()=>{const s=new Date(v.date_of_birth),p=new Date;let _=(p.getFullYear()-s.getFullYear())*12;if(_-=s.getMonth(),_+=p.getMonth(),p.getDate()<s.getDate()&&_--,_<6){N("At lease, 6 Months of Age is required");return}if(_>=6&&_<=23){v.age_group=H.value[0].name;return}else if(_>=24&&_<=59){v.age_group=H.value[1].name;return}else if(_>=12*12&&_<=17*12){v.age_group=H.value[2].name;return}else if(_>=18*12&&_<=59*12){v.age_group=H.value[3].name;return}else v.age_group=""}),J(()=>v.type,()=>{switch(v.type){case Z.value[0].name:v.gender=Q.value[0].name;break;case Z.value[1].name:v.gender=Q.value[1].name;break;case Z.value[2].name:v.gender=Q.value[1].name;break;case Z.value[3].name:v.gender=Q.value[1].name;break}}),J(()=>[v.age_group,m.height_cm,m.weight_kg],()=>{Ft()}),J(()=>[m.type_of_case],()=>{Lt()}),J(()=>[m.criteria_group],()=>{At()}),J(()=>[m.case_category],()=>{Mt()}),J(()=>k.date_of_discharge,()=>{Et(),k.length_of_stay=Qe(m.date_of_admission,k.date_of_discharge)});const Ot=()=>{const s=new Date(m.date_of_admission);m.admitted_year=s.getFullYear(),m.admitted_month=s.getMonth()+1},Et=()=>{const s=new Date(k.date_of_discharge);k.discharge_year=s.getFullYear(),k.discharge_month=s.getMonth()+1},Ft=()=>{if(H.value.some(p=>p.name==v.age_group)){if(m.weight_kg!==0&&m.height_cm!==0){const p=v.age_group===H.value[0].name?"m24under":"m24to59",_=v.type===Z.value[0].name?"boy":"girl",oe=Math.round(v.height_cm),de=mt[p][_].find(ze=>ze.length===oe);if(de!==void 0)if(m.weight_kg<de.minus3){m.wfh_zscore=D.value[0].name;return}else if(m.weight_kg<de.minus2){m.wfh_zscore=D.value[1].name;return}else m.wfh_zscore=D.value[2].name}}else N("Firstly, you need to set Date of Birth, then Age Group will be defined and WFH ZScore will be automatically selected","warn")},Lt=()=>{switch(m.type_of_case){case"New":F.value[0].visible=!0,F.value[1].visible=!1,F.value[2].visible=!1,F.value[3].visible=!1,m.criteria_group="New";break;case"Old":m.criteria_group="Re-admission",F.value[0].visible=!1,F.value[1].visible=!0,F.value[2].visible=!0,F.value[3].visible=!0;break}},At=()=>{switch(m.criteria_group){case"New":m.case_category="MAM New",L.value[0].visible=!0,L.value[1].visible=!1,L.value[2].visible=!1,L.value[3].visible=!1,L.value[4].visible=!1;break;case"Re-admission":m.case_category="MAM Old",L.value[0].visible=!1,L.value[1].visible=!0,L.value[2].visible=!0,L.value[3].visible=!1,L.value[4].visible=!1;break;case"Relapse":m.case_category="Relapse",L.value[0].visible=!1,L.value[1].visible=!1,L.value[2].visible=!1,L.value[3].visible=!0,L.value[4].visible=!1;break;case"Transfer":m.case_category="Transfer",L.value[0].visible=!1,L.value[1].visible=!1,L.value[2].visible=!1,L.value[3].visible=!1,L.value[4].visible=!0;break}},Mt=()=>{switch(m.case_category){case"MAM New":m.admission_criteria="New",l.value[0].visible=!0,l.value[1].visible=!1,l.value[2].visible=!1,l.value[3].visible=!1,l.value[4].visible=!1,l.value[5].visible=!1,l.value[6].visible=!1,l.value[7].visible=!1,l.value[8].visible=!1;break;case"MAM Old":m.admission_criteria="Return from Cured within 2 month",l.value[0].visible=!1,l.value[1].visible=!0,l.value[2].visible=!0,l.value[3].visible=!1,l.value[4].visible=!1,l.value[5].visible=!1,l.value[6].visible=!1,l.value[7].visible=!1,l.value[8].visible=!1;break;case"Return form Defaulter":m.admission_criteria="Return from Default within 2 month",l.value[0].visible=!1,l.value[1].visible=!1,l.value[2].visible=!1,l.value[3].visible=!0,l.value[4].visible=!1,l.value[5].visible=!1,l.value[6].visible=!1,l.value[7].visible=!1,l.value[8].visible=!1;break;case"Relapse":m.admission_criteria="Return from Cured after 2 month",l.value[0].visible=!1,l.value[1].visible=!1,l.value[2].visible=!1,l.value[3].visible=!1,l.value[4].visible=!0,l.value[5].visible=!0,l.value[6].visible=!1,l.value[7].visible=!1,l.value[8].visible=!1;break;case"Transfer":m.admission_criteria="Transfer in Other SFP",l.value[0].visible=!1,l.value[1].visible=!1,l.value[2].visible=!1,l.value[3].visible=!1,l.value[4].visible=!1,l.value[5].visible=!1,l.value[6].visible=!0,l.value[7].visible=!0,l.value[8].visible=!0;break}},rt=V({user_id:""}),ct=V([]),zt=async()=>{console.log("fetching users"),C.value=!0,await h.fetchAllUser({role:4});const s=h.getAllUserResponse;if(s){const{options:p}=s.data;ct.value=p}C.value=!1},Rt=async()=>{f.clear(),C.value=!0;try{await r.transferCase({case_id:o.params.id,user_id:rt.value.user_id});const s=r.getTransferCaseResponse;s&&N("Case is transferred to "+s.data.data.full_name,"success"),C.value=!1,S.push({name:"caseList"})}catch(s){C.value=!1,N(s,"error")}},N=(s,p="error",_=5e3)=>{_t.emit("show-toast",{severity:p,summary:"",detail:s,life:_})};return{section:le,isLoading:C,v$:We,submitted:Ee,handleSubmit:je,errors:f,state:v,minFollowUpDate:O,maxFollowUpDate:_e,villageDisabled:ce,stateOptions:Ne,townshipOptions:ve,villageOptions:be,donarOptions:ke,yesNoOptions:we,ageGroupOptions:H,genderOptions:Q,typeOptions:Z,screeningTypeOptions:ye,bilateralPittingOedemaOptions:Ve,zScoreOptions:D,appetiteTestOptions:$e,immunizationStatusOptions:x,typeOfCasesOptions:xe,caseCategoriesOptions:L,admissionCriteriaOptions:l,criteriaOptions:Ge,criteriaGroupsOptions:F,meV$:Ze,meSubmitted:w,meHandleSubmit:Fe,dischargeState:k,dischargeStatusOptions:Ce,dischargeCategoryOptions:Se,dischargeWithOptions:De,dischargeData:Le,dischargeHandleSubmit:Ke,setDischcargeCategory:Ut,newFollowUp:vt,fuRecords:E,fuState:U,fuV$:ee,fuHandleSubmit:wt,fuSubmitted:Me,foodOptions:ne,foodKgOptions:qe,frOptions:ae,showFollowUp:K,followUpTitle:Ae,editFollowUp:$t,showConfirmDialog:kt,biEdit:ge,meEdit:fe,dEdit:X,biData:Oe,meData:Y,calculateLengthOfStay:Qe,cmUserOptions:ct,transferTo:rt,transferCase:Rt,isCompleteFollowUp:Xe}};const $=r=>(ea("data-v-6c6a6d05"),r=r(),ta(),r),xa={class:"card"},Ca={class:"flex justify-content-between flex-wrap mb-1"},Sa={class:"flex align-items-center field text-xl font-bold pl-4"},Da=$(()=>t("span",{class:"flex align-items-center"},null,-1)),Ua={class:"flex align-items-center"},Oa={key:0,class:"m-1"},Ea={class:"m-1"},Fa=["onSubmit"],La={class:"flex flex-row-reverse mb-2"},Aa={class:"flex-3"},Ma={class:"ml-2 flex-2"},za={class:"mr-2 flex-2"},Ra={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},Ba={class:"grid p-fluid"},Ia={class:"field col-12 md:col-6 lg:col-6"},Ta=$(()=>t("span",{class:"p-error"},"*",-1)),Na={key:0},Ga={class:"text-orange-500"},Ha={key:1,class:"p-error"},Wa={class:"field col-12 md:col-6 lg:col-6"},ja=$(()=>t("span",{class:"p-error"},"*",-1)),Za={key:0},Ya={class:"text-orange-500"},Ka={key:1,class:"p-error"},Ja={class:"field col-12 md:col-6 lg:col-6"},qa=$(()=>t("span",{class:"p-error"},"*",-1)),Xa={key:0},Qa={class:"text-orange-500"},Pa={key:1,class:"p-error"},es={class:"field col-12 md:col-6 lg:col-6"},ts=$(()=>t("span",{class:"p-error"},"*",-1)),as={key:0},ss={class:"text-orange-500"},os={key:1,class:"p-error"},is={class:"field col-12 md:col-6 lg:col-6"},ls=$(()=>t("span",{class:"p-error"},"*",-1)),ns={key:0},ds={class:"text-orange-500"},rs={key:1,class:"p-error"},cs={class:"field col-12 md:col-6 lg:col-6"},_s=$(()=>t("span",{class:"p-error"},"*",-1)),us={key:0},ms={class:"text-orange-500"},ps={key:1,class:"p-error"},hs={class:"field col-12 md:col-6 lg:col-6"},gs=$(()=>t("span",{class:"p-error"},"*",-1)),fs={key:0},vs={class:"text-orange-500"},bs={key:1,class:"p-error"},ys={class:"field col-12 md:col-6 lg:col-6"},ws=$(()=>t("span",{class:"p-error"},"*",-1)),ks={key:0},$s={class:"text-orange-500"},Vs={key:1,class:"p-error"},xs={class:"field col-12 md:col-6 lg:col-6"},Cs=$(()=>t("span",{class:"p-error"},"*",-1)),Ss={key:0},Ds={class:"text-orange-500"},Us={key:1,class:"p-error"},Os={class:"field col-12 md:col-6 lg:col-6"},Es=$(()=>t("span",{class:"p-error"},"*",-1)),Fs={key:0},Ls={class:"text-orange-500"},As={key:1,class:"p-error"},Ms={class:"field col-12 md:col-6 lg:col-6"},zs=$(()=>t("span",{class:"p-error"},"*",-1)),Rs={key:0},Bs={class:"text-orange-500"},Is={key:1,class:"p-error"},Ts={key:0,class:"field col-12 md:col-6 lg:col-6"},Ns={key:0},Gs={class:"text-orange-500"},Hs={key:1,class:"p-error"},Ws={key:1,class:"field col-12 md:col-6 lg:col-6"},js={key:0},Zs={class:"text-orange-500"},Ys={key:1,class:"p-error"},Ks={class:"field col-12 md:col-6 lg:col-6"},Js=$(()=>t("span",{class:"p-error"},"*",-1)),qs={key:0},Xs={class:"text-orange-500"},Qs={key:1,class:"p-error"},Ps={key:2,class:"field col-12 md:col-6 lg:col-6"},eo={key:0},to={class:"text-orange-500"},ao={key:1,class:"p-error"},so={class:"flex flex-row-reverse mb-2"},oo={class:"flex-3"},io={class:"ml-2 flex-2"},lo={class:"mr-2 flex-2"},no={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},ro={class:"grid p-fluid"},co={class:"field col-12 md:col-6 lg:col-6"},_o=$(()=>t("label",{for:"muac_cm"},"MUAC (cm) [8 to 30]",-1)),uo={key:0},mo={class:"text-orange-500"},po={key:1,class:"p-error"},ho={key:0,class:"field col-12 md:col-6 lg:col-6"},go={key:0},fo={class:"text-orange-500"},vo={key:1,class:"p-error"},bo={key:1,class:"field col-12 md:col-6 lg:col-6"},yo=$(()=>t("label",{for:"height_cm"},"Height (cm)",-1)),wo={key:0},ko={class:"text-orange-500"},$o={key:1,class:"p-error"},Vo={key:2,class:"field col-12 md:col-6 lg:col-6"},xo=$(()=>t("span",{class:"p-error"},"*",-1)),Co={key:0},So={class:"text-orange-500"},Do={key:1,class:"p-error"},Uo={key:3,class:"field col-12 md:col-6 lg:col-6"},Oo=$(()=>t("label",{for:"immunization_status"},"Immunization Status",-1)),Eo={key:0},Fo={class:"text-orange-500"},Lo={key:1,class:"p-error"},Ao={class:"field col-12 md:col-6 lg:col-6"},Mo=$(()=>t("label",{for:"deworming"},"Deworming",-1)),zo={key:0},Ro={class:"text-orange-500"},Bo={key:1,class:"p-error"},Io={key:4,class:"field col-12 md:col-6 lg:col-6"},To=$(()=>t("label",{for:"vit_a_supplement"},"Vitamin A Supplement",-1)),No={key:0},Go={class:"text-orange-500"},Ho={key:1,class:"p-error"},Wo={class:"field col-12 md:col-6 lg:col-6"},jo=$(()=>t("label",{for:"type_of_case"},"Type of Case",-1)),Zo={key:0},Yo={class:"text-orange-500"},Ko={key:1,class:"p-error"},Jo={class:"field col-12 md:col-6 lg:col-6"},qo=$(()=>t("label",{for:"criteria_group"},"Criteria Group",-1)),Xo={key:0},Qo={class:"text-orange-500"},Po={key:1,class:"p-error"},ei={class:"field col-12 md:col-6 lg:col-6"},ti=$(()=>t("label",{for:"case_category"},"Case Category",-1)),ai={key:0},si={class:"text-orange-500"},oi={key:1,class:"p-error"},ii={class:"field col-12 md:col-6 lg:col-6"},li=$(()=>t("label",{for:"admission_criteria"},"Admission Criteria",-1)),ni={key:0},di={class:"text-orange-500"},ri={key:1,class:"p-error"},ci={class:"field col-12 md:col-6 lg:col-6"},_i=$(()=>t("label",{for:"date_of_admission"},"Date of Admission",-1)),ui={key:0},mi={class:"text-orange-500"},pi={key:1,class:"p-error"},hi={class:"field col-12 md:col-6 lg:col-6"},gi=$(()=>t("label",{for:"admitted_year"},"Admitted Year",-1)),fi={key:0},vi={class:"text-orange-500"},bi={key:1,class:"p-error"},yi={class:"field col-12 md:col-6 lg:col-6"},wi=$(()=>t("label",{for:"admitted_month"},"Admitted Month",-1)),ki={class:"p-inputtext p-component"},$i={key:0},Vi={class:"text-orange-500"},xi={key:1,class:"p-error"},Ci={class:"flex pt-2"},Si={class:"pb-3"},Di=$(()=>t("span",{class:"text-color-secondary"},"Length of Stay: ",-1)),Ui={class:"grid p-fluid"},Oi={class:"field col-6"},Ei=$(()=>t("label",{for:"date_of_visit"},"Date Of Visit",-1)),Fi={key:0,class:"p-error"},Li={class:"field col-6"},Ai=$(()=>t("label",{for:"fu-muac_cm"},"MUAC (cm) [8 to 30]",-1)),Mi={key:0,class:"p-error"},zi={class:"field col-6"},Ri=$(()=>t("label",{for:"fu-weight_kg"},"Weight (kg) [1.5 to 25]",-1)),Bi={key:0,class:"p-error"},Ii={class:"field col-6"},Ti=$(()=>t("label",{for:"fu-food"},"Food",-1)),Ni={key:0,class:"p-error"},Gi={key:0,class:"field col-6"},Hi=$(()=>t("label",{for:"fu-food"},"Food (kg)",-1)),Wi={key:0,class:"p-error"},ji={class:"field col-12"},Zi=$(()=>t("label",{for:"fu-follow_up_result"},"Follow Up Result",-1)),Yi={key:0,class:"p-error"},Ki=$(()=>t("div",{class:"field col-6 md:col-9"},null,-1)),Ji={class:"field col-6 md:col-3"},qi={key:0,class:"flex flex-row-reverse mb-2"},Xi={class:"mb-2 mt-2 col-12 md:col-6 lg:col-6",style:{border:"1px solid aliceblue"}},Qi={class:"surface-ground"},Pi={colspan:"2",class:"font-bold p-2"},el=["onClick"],tl=$(()=>t("i",{class:"pi pi-times text-red-500 cursor-pointer"},null,-1)),al=[tl],sl=["onClick"],ol=$(()=>t("i",{class:"pi pi-pencil cursor-pointer"},null,-1)),il=[ol],ll=$(()=>t("td",{class:"text-color-secondary p-2"},"Date of Visit:",-1)),nl={class:"p-2"},dl={key:0,style:{float:"right"}},rl={class:"text-orange-500"},cl=$(()=>t("td",{class:"text-color-secondary p-2"},"MUAC (cm):",-1)),_l={class:"p-2"},ul={key:0,style:{float:"right"}},ml={class:"text-orange-500"},pl=$(()=>t("td",{class:"text-color-secondary p-2"},"Weight (kg):",-1)),hl={class:"p-2"},gl={key:0,style:{float:"right"}},fl={class:"text-orange-500"},vl=$(()=>t("td",{class:"text-color-secondary p-2"},"Food Given:",-1)),bl={class:"p-2"},yl={key:0,style:{float:"right"}},wl={class:"text-orange-500"},kl=$(()=>t("td",{class:"text-color-secondary p-2"},"Food Quantity (kg):",-1)),$l={class:"p-2"},Vl={key:0,style:{float:"right"}},xl={class:"text-orange-500"},Cl=$(()=>t("td",{class:"text-color-secondary p-2"},"Follow Up Result:",-1)),Sl={key:0,style:{float:"right"}},Dl={class:"text-orange-500"},Ul={class:"flex flex-row-reverse mb-2"},Ol={class:""},El={class:"ml-2"},Fl={class:"mr-2"},Ll={class:"flex-1",style:{padding:"0.75rem 1.25rem","padding-left":"0rem"}},Al={class:"grid p-fluid"},Ml={class:"field col-12 md:col-6 lg:col-6"},zl=$(()=>t("label",{for:"discharge_status"},"Discharge Status",-1)),Rl={key:0},Bl={class:"text-orange-500"},Il={class:"field col-12 md:col-6 lg:col-6"},Tl=$(()=>t("label",{for:"discharge_category"},"Discharge Category",-1)),Nl={key:0},Gl={class:"text-orange-500"},Hl={class:"field col-12 md:col-6 lg:col-6"},Wl=$(()=>t("label",{for:"date_of_discharge"},"Date of Discharge",-1)),jl={key:0},Zl={class:"text-orange-500"},Yl={class:"field col-12 md:col-6 lg:col-6"},Kl=$(()=>t("label",{for:"discharge_year"},"Discharge Year",-1)),Jl={key:0},ql={class:"text-orange-500"},Xl={class:"field col-12 md:col-6 lg:col-6"},Ql=$(()=>t("label",{for:"discharge_month"},"Discharge Month",-1)),Pl={class:"p-inputtext p-component"},en={key:0},tn={class:"text-orange-500"},an={class:"field col-12 md:col-6 lg:col-6"},sn=$(()=>t("label",{for:"discharge_muac_cm"},"Discharge MUAC (cm)",-1)),on={key:0},ln={class:"text-orange-500"},nn={class:"field col-12 md:col-6 lg:col-6"},dn=$(()=>t("label",{for:"discharge_weight_kg"},"Discharge Weight (kg)",-1)),rn={key:0},cn={class:"text-orange-500"},_n={class:"field col-12 md:col-6 lg:col-6"},un=$(()=>t("label",{for:"discharge_height_cm"},"Discharge Height (cm)",-1)),mn={key:0},pn={class:"text-orange-500"},hn={class:"field col-12 md:col-6 lg:col-6"},gn=$(()=>t("label",{for:"discharge_wfh_zscore"},"Discharge WFH (z score)",-1)),fn={key:0},vn={class:"text-orange-500"},bn={class:"field col-12 md:col-6 lg:col-6"},yn=$(()=>t("label",{for:"length_of_stay"},"Length of Stay",-1)),wn={key:0},kn={class:"text-orange-500"},$n={class:"text-center w-full"},Vn={class:"mt-2"},xn={class:"field col-12 md:col-6 lg:col-6"},Cn=0,Te="yy-mm-dd",Sn={__name:"Edit",setup(r){const{section:h,isLoading:S,v$:o,handleSubmit:C,submitted:f,state:q,stateOptions:K,townshipOptions:le,villageOptions:Ne,yesNoOptions:X,donarOptions:ge,ageGroupOptions:fe,genderOptions:ve,typeOptions:be,screeningTypeOptions:ce,zScoreOptions:ye,immunizationStatusOptions:Z,typeOfCasesOptions:Q,caseCategoriesOptions:H,admissionCriteriaOptions:we,criteriaGroupsOptions:ke,dischargeState:D,dischargeStatusOptions:$e,dischargeCategoryOptions:Ve,dischargeData:x,dischargeHandleSubmit:xe,setDischcargeCategory:L,meV$:l,meHandleSubmit:Ge,meSubmitted:F,minFollowUpDate:Ce,maxFollowUpDate:Se,fuRecords:De,fuV$:O,fuHandleSubmit:_e,fuSubmitted:W,foodOptions:He,foodKgOptions:Ue,frOptions:v,newFollowUp:Oe,showFollowUp:ue,followUpTitle:Ee,showConfirmDialog:We,editFollowUp:je,biEdit:z,meEdit:m,dEdit:Y,biData:y,meData:w,calculateLengthOfStay:Ze,transferTo:Fe,transferCase:Ye,cmUserOptions:k,isCompleteFollowUp:Le}=Va(),Ke=st(()=>ke.value.filter(i=>i.visible)),Je=st(()=>H.value.filter(i=>i.visible)),E=st(()=>we.value.filter(i=>i.visible)),ne=V(!1),qe=()=>{Ae()&&C(!o.value.$invalid)},ae=G=>{const i=["January","February","March","April","May","June","July","August","September","October","November","December"],U=G-1;return U>=0&&U<12?i[U]:"..."},Ae=()=>q.phone_number?_a(q.phone_number)?!0:(document.getElementById("phone_number").focus(),window.alert("Invalid Phone Number, Please enter the right one"),!1):(window.alert("Phone Number is required to fill, Please enter"),!1);return(G,i)=>{const U=gt("router-link"),P=lt("select-all-on-focus");return n(),c(Pt,null,[t("div",xa,[t("div",Ca,[t("span",Sa,u(e(o).am_number.$model),1),Da,t("span",Ua,[G.$can("transfer","Case")?(n(),c("div",Oa,[b(e(R),{severity:"secondary",onClick:i[0]||(i[0]=a=>ne.value=!0),icon:"pi pi-arrow-up-right",text:"",rounded:""})])):d("",!0),G.$can("index","MyCase")?(n(),I(U,{key:1,to:{name:"caseList"}},{default:T(()=>[t("div",Ea,[b(e(R),{severity:"secondary",icon:"pi pi-times",text:"",rounded:""})])]),_:1})):d("",!0)])]),b(e(ia),{"active-index":Cn,scrollable:!0},{default:T(()=>[b(e(Ie),{header:"Biographic Info",disabled:e(h).disableBiographicInfo},{default:T(()=>[t("form",{onSubmit:ot(qe,["prevent"])},[t("div",La,[t("div",Aa,[e(z)?d("",!0):(n(),I(e(R),{key:0,onClick:i[1]||(i[1]=a=>z.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",Ma,[e(z)?(n(),I(e(R),{key:0,type:"submit",label:"Save",severity:"primary"})):d("",!0)]),t("div",za,[e(z)?(n(),I(e(R),{key:0,onClick:i[2]||(i[2]=a=>z.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):d("",!0)]),t("div",Ra,[b(e(Re),{value:e(o).status.$model,severity:e(o).status.$model=="Completed"?"info":e(o).status.$model=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",Ba,[t("div",Ia,[t("label",{for:"screening_type",class:M({"p-error":e(o).screening_type.$invalid&&e(f)})},[g("Screening Type"),Ta],2),b(e(A),{disabled:!e(z),id:"screening_type",modelValue:e(o).screening_type.$model,"onUpdate:modelValue":i[3]||(i[3]=a=>e(o).screening_type.$model=a),options:e(ce),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).screening_type&&e(y).screening_type!=e(o).screening_type.$model?(n(),c("small",Na,[g(" Edited as: "),t("span",Ga,u(e(y).screening_type),1)])):d("",!0),e(o).screening_type.$invalid&&e(f)?(n(),c("small",Ha,u(e(o).screening_type.$message),1)):d("",!0)]),t("div",Wa,[t("label",{for:"state",class:M({"p-error":e(o).state.$invalid&&e(f)})},[g("State"),ja],2),b(e(A),{id:"state",disabled:!e(z),modelValue:e(o).state.$model,"onUpdate:modelValue":i[4]||(i[4]=a=>e(o).state.$model=a),options:e(K),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).state&&e(y).state!=e(o).state.$model?(n(),c("small",Za,[g(" Edited as: "),t("span",Ya,u(e(y).state),1)])):d("",!0),e(o).state.$invalid&&e(f)?(n(),c("small",Ka,u(e(o).state.$message),1)):d("",!0)]),t("div",Ja,[t("label",{for:"township",class:M({"p-error":e(o).township.$invalid&&e(f)})},[g("Township"),qa],2),b(e(A),{id:"township",disabled:!e(z),modelValue:e(o).township.$model,"onUpdate:modelValue":i[5]||(i[5]=a=>e(o).township.$model=a),options:e(le),optionLabel:"name_mm",optionValue:"name"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).township&&e(y).township!=e(o).township.$model?(n(),c("small",Xa,[g(" Edited as: "),t("span",Qa,u(e(y).township),1)])):d("",!0),e(o).township.$invalid&&e(f)?(n(),c("small",Pa,u(e(o).township.$message),1)):d("",!0)]),t("div",es,[t("label",{for:"village",class:M({"p-error":e(o).village.$invalid&&e(f)})},[g("Village/Ward"),ts],2),b(e(A),{disabled:!e(z),id:"village",modelValue:e(o).village.$model,"onUpdate:modelValue":i[6]||(i[6]=a=>e(o).village.$model=a),options:e(Ne),optionLabel:"name_mm",optionValue:"name_en"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).village&&e(y).village!=e(o).village.$model?(n(),c("small",as,[g(" Edited as: "),t("span",ss,u(e(y).village),1)])):d("",!0),e(o).village.$invalid&&e(f)?(n(),c("small",os,u(e(o).village.$message),1)):d("",!0)]),t("div",is,[t("label",{for:"patient_name",class:M({"p-error":e(o).patient_name.$invalid&&e(f)})},[g("Patient Name"),ls],2),b(e(j),{disabled:!e(z),id:"patient_name",modelValue:e(o).patient_name.$model,"onUpdate:modelValue":i[7]||(i[7]=a=>e(o).patient_name.$model=a)},null,8,["disabled","modelValue"]),e(y)&&e(y).patient_name&&e(y).patient_name!=e(o).patient_name.$model?(n(),c("small",ns,[g(" Edited as: "),t("span",ds,u(e(y).patient_name),1)])):d("",!0),e(o).patient_name.$invalid&&e(f)?(n(),c("small",rs,u(e(o).patient_name.$message),1)):d("",!0)]),t("div",cs,[t("label",{for:"type",class:M({"p-error":e(o).type.$invalid&&e(f)})},[g("Type"),_s],2),b(e(A),{disabled:!e(z),id:"type",modelValue:e(o).type.$model,"onUpdate:modelValue":i[8]||(i[8]=a=>e(o).type.$model=a),options:e(be),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).type&&e(y).type!=e(o).type.$model?(n(),c("small",us,[g(" Edited as: "),t("span",ms,u(e(y).type),1)])):d("",!0),e(o).type.$invalid&&e(f)?(n(),c("small",ps,u(e(o).type.$message),1)):d("",!0)]),t("div",hs,[t("label",{for:"gender",class:M({"p-error":e(o).gender.$invalid&&e(f)})},[g("Gender"),gs],2),b(e(A),{disabled:!e(z),id:"gender",modelValue:e(o).gender.$model,"onUpdate:modelValue":i[9]||(i[9]=a=>e(o).gender.$model=a),options:e(ve),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).gender&&e(y).gender!=e(o).gender.$model?(n(),c("small",fs,[g(" Edited as: "),t("span",vs,u(e(y).gender),1)])):d("",!0),e(o).gender.$invalid&&e(f)?(n(),c("small",bs,u(e(o).gender.$message),1)):d("",!0)]),t("div",ys,[t("label",{for:"date_of_birth",class:M({"p-error":e(o).date_of_birth.$invalid&&e(f)})},[g("Date of Birth"),ws],2),b(e(Be),{disabled:!e(z),id:"date_of_birth",modelValue:e(o).date_of_birth.$model,"onUpdate:modelValue":i[10]||(i[10]=a=>e(o).date_of_birth.$model=a),dateFormat:Te},null,8,["disabled","modelValue"]),e(y)&&e(y).date_of_birth&&e(y).date_of_birth!=e(o).date_of_birth.$model?(n(),c("small",ks,[g(" Edited as: "),t("span",$s,u(e(y).date_of_birth),1)])):d("",!0),e(o).date_of_birth.$invalid&&e(f)?(n(),c("small",Vs,u(e(o).date_of_birth.$message),1)):d("",!0)]),t("div",xs,[t("label",{for:"age_group",class:M({"p-error":e(o).age_group.$invalid&&e(f)})},[g("Age Group"),Cs],2),b(e(A),{disabled:!e(z),id:"age_group",modelValue:e(o).age_group.$model,"onUpdate:modelValue":i[11]||(i[11]=a=>e(o).age_group.$model=a),options:e(fe),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).age_group&&e(y).age_group!=e(o).age_group.$model?(n(),c("small",Ss,[g(" Edited as: "),t("span",Ds,u(e(y).age_group),1)])):d("",!0),e(o).age_group.$invalid&&e(f)?(n(),c("small",Us,u(e(o).age_group.$message),1)):d("",!0)]),t("div",Os,[t("label",{for:"disability",class:M({"p-error":e(o).disability.$invalid&&e(f)})},[g("Disability"),Es],2),b(e(A),{disabled:!e(z),id:"disability",modelValue:e(o).disability.$model,"onUpdate:modelValue":i[12]||(i[12]=a=>e(o).disability.$model=a),options:e(X),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).disability&&e(y).disability!=e(o).disability.$model?(n(),c("small",Fs,[g(" Edited as: "),t("span",Ls,u(e(y).disability),1)])):d("",!0),e(o).disability.$invalid&&e(f)?(n(),c("small",As,u(e(o).disability.$message),1)):d("",!0)]),t("div",Ms,[t("label",{for:"phone_number",class:M({"p-error":e(o).phone_number.$invalid&&e(f)})},[g("Phone Number"),zs],2),b(e(j),{disabled:!e(z),id:"phone_number",modelValue:e(o).phone_number.$model,"onUpdate:modelValue":i[13]||(i[13]=a=>e(o).phone_number.$model=a)},null,8,["disabled","modelValue"]),e(y)&&e(y).phone_number&&e(y).phone_number!=e(o).phone_number.$model?(n(),c("small",Rs,[g(" Edited as: "),t("span",Bs,u(e(y).phone_number),1)])):d("",!0),e(o).phone_number.$invalid&&e(f)?(n(),c("small",Is,u(e(o).phone_number.$message),1)):d("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(n(),c("div",Ts,[t("label",{for:"father_name",class:M({"p-error":e(o).father_name.$invalid&&e(f)})},"Father's Name",2),b(e(j),{disabled:!e(z),id:"father_name",modelValue:e(o).father_name.$model,"onUpdate:modelValue":i[14]||(i[14]=a=>e(o).father_name.$model=a)},null,8,["disabled","modelValue"]),e(y)&&e(y).father_name&&e(y).father_name!=e(o).father_name.$model?(n(),c("small",Ns,[g(" Edited as: "),t("span",Gs,u(e(y).father_name),1)])):d("",!0),e(o).father_name.$invalid&&e(f)?(n(),c("small",Hs,u(e(o).father_name.$message),1)):d("",!0)])):d("",!0),e(o).type.$model=="Pregnant Woman or Girl"||e(o).type.$model=="Breastfeeding Woman or Girl"?(n(),c("div",Ws,[t("label",{for:"husband_name",class:M({"p-error":e(o).husband_name.$invalid&&e(f)})},"Husband's Name",2),b(e(j),{disabled:!e(z),id:"husband_name",modelValue:e(o).husband_name.$model,"onUpdate:modelValue":i[15]||(i[15]=a=>e(o).husband_name.$model=a)},null,8,["disabled","modelValue"]),e(y)&&e(y).husband_name&&e(y).husband_name!=e(o).husband_name.$model?(n(),c("small",js,[g(" Edited as: "),t("span",Zs,u(e(y).husband_name),1)])):d("",!0),e(o).husband_name.$invalid&&e(f)?(n(),c("small",Ys,u(e(o).husband_name.$message),1)):d("",!0)])):d("",!0),t("div",Ks,[t("label",{for:"receiving_cash_assistant",class:M({"p-error":e(o).receiving_cash_assistant.$invalid&&e(f)})},[g("Receiving Cash Assistant"),Js],2),b(e(A),{disabled:!e(z),id:"receiving_cash_assistant",modelValue:e(o).receiving_cash_assistant.$model,"onUpdate:modelValue":i[16]||(i[16]=a=>e(o).receiving_cash_assistant.$model=a),options:e(X),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).receiving_cash_assistant&&e(y).receiving_cash_assistant!=e(o).receiving_cash_assistant.$model?(n(),c("small",qs,[g(" Edited as: "),t("span",Xs,u(e(y).receiving_cash_assistant),1)])):d("",!0),e(o).receiving_cash_assistant.$invalid&&e(f)?(n(),c("small",Qs,u(e(o).receiving_cash_assistant.$message),1)):d("",!0)]),e(o).receiving_cash_assistant.$model=="Yes"?(n(),c("div",Ps,[t("label",{for:"yes_which_donar",class:M({"p-error":e(o).yes_which_donar.$invalid&&e(f)})},"If Yes, Which Donar?",2),b(e(A),{disabled:!e(z),id:"yes_which_donar",modelValue:e(o).yes_which_donar.$model,"onUpdate:modelValue":i[17]||(i[17]=a=>e(o).yes_which_donar.$model=a),options:e(ge),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(y)&&e(y).yes_which_donar&&e(y).yes_which_donar!=e(o).yes_which_donar.$model?(n(),c("small",eo,[g(" Edited as: "),t("span",to,u(e(y).yes_which_donar),1)])):d("",!0),e(o).yes_which_donar.$invalid&&e(f)?(n(),c("small",ao,u(e(o).yes_which_donar.$message),1)):d("",!0)])):d("",!0)])],40,Fa)]),_:1},8,["disabled"]),b(e(Ie),{header:"Screening",disabled:e(h).disableMedicalExamination},{default:T(()=>[t("form",{onSubmit:i[33]||(i[33]=ot(a=>e(Ge)(!e(l).$invalid),["prevent"]))},[t("div",so,[t("div",oo,[e(m)?d("",!0):(n(),I(e(R),{key:0,onClick:i[18]||(i[18]=a=>m.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",io,[e(m)?(n(),I(e(R),{key:0,type:"submit",label:"Save",severity:"primary"})):d("",!0)]),t("div",lo,[e(m)?(n(),I(e(R),{key:0,onClick:i[19]||(i[19]=a=>m.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):d("",!0)]),t("div",no,[b(e(Re),{value:e(l).status.$model,severity:e(l).status.$model=="Completed"?"info":e(l).status.$model=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",ro,[t("div",co,[_o,ie(b(e(pe),{disabled:!e(m),modelValue:e(l).muac_cm.$model,"onUpdate:modelValue":i[20]||(i[20]=a=>e(l).muac_cm.$model=a),id:"muac_cm",minFractionDigits:2},null,8,["disabled","modelValue"]),[[P]]),e(w)&&e(w).muac_cm&&e(w).muac_cm!=e(l).muac_cm.$model?(n(),c("small",uo,[g(" Edited as: "),t("span",mo,u(e(w).muac_cm),1)])):d("",!0),e(l).muac_cm.$invalid&&e(F)?(n(),c("small",po,u(e(l).muac_cm.$message),1)):d("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(n(),c("div",ho,[t("label",{for:"weight_kg",class:M({"p-error":e(l).weight_kg.$invalid&&e(F)})},"Weight (kg) [1.5 to 25]",2),ie(b(e(pe),{disabled:!e(m),modelValue:e(l).weight_kg.$model,"onUpdate:modelValue":i[21]||(i[21]=a=>e(l).weight_kg.$model=a),id:"weight_kg",min:1.5,max:25,minFractionDigits:2},null,8,["disabled","modelValue"]),[[P]]),e(w)&&e(w).weight_kg&&e(w).weight_kg!=e(l).weight_kg.$model?(n(),c("small",go,[g(" Edited as: "),t("span",fo,u(e(w).weight_kg),1)])):d("",!0),e(l).weight_kg.$invalid&&e(F)?(n(),c("small",vo,u(e(l).weight_kg.$message),1)):d("",!0)])):d("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(n(),c("div",bo,[yo,ie(b(e(pe),{disabled:!e(m),modelValue:e(l).height_cm.$model,"onUpdate:modelValue":i[22]||(i[22]=a=>e(l).height_cm.$model=a),id:"height_cm",min:45,max:120,minFractionDigits:2},null,8,["disabled","modelValue"]),[[P]]),e(w)&&e(w).height_cm&&e(w).height_cm!=e(l).height_cm.$model?(n(),c("small",wo,[g(" Edited as: "),t("span",ko,u(e(w).height_cm),1)])):d("",!0),e(l).height_cm.$invalid&&e(F)?(n(),c("small",$o,u(e(l).height_cm.$message),1)):d("",!0)])):d("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(n(),c("div",Vo,[t("label",{for:"wfh_zscore",class:M({"p-error":e(l).wfh_zscore.$invalid&&e(F)})},[g("WFH Z-Score"),xo],2),b(e(A),{disabled:!e(m),id:"wfh_zscore",modelValue:e(l).wfh_zscore.$model,"onUpdate:modelValue":i[23]||(i[23]=a=>e(l).wfh_zscore.$model=a),options:e(ye),optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).wfh_zscore&&e(w).wfh_zscore!=e(l).wfh_zscore.$model?(n(),c("small",Co,[g(" Edited as: "),t("span",So,u(e(w).wfh_zscore),1)])):d("",!0),e(l).wfh_zscore.$invalid&&e(F)?(n(),c("small",Do,u(e(l).wfh_zscore.$message),1)):d("",!0)])):d("",!0),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(n(),c("div",Uo,[Oo,b(e(A),{disabled:!e(m),modelValue:e(l).immunization_status.$model,"onUpdate:modelValue":i[24]||(i[24]=a=>e(l).immunization_status.$model=a),options:e(Z),id:"immunization_status",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).immunization_status&&e(w).immunization_status!=e(l).immunization_status.$model?(n(),c("small",Eo,[g(" Edited as: "),t("span",Fo,u(e(w).immunization_status),1)])):d("",!0),e(l).immunization_status.$invalid&&e(F)?(n(),c("small",Lo,u(e(l).immunization_status.$message),1)):d("",!0)])):d("",!0),t("div",Ao,[Mo,b(e(A),{disabled:!e(m),modelValue:e(l).deworming.$model,"onUpdate:modelValue":i[25]||(i[25]=a=>e(l).deworming.$model=a),options:e(X),id:"deworming",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).deworming&&e(w).deworming!=e(l).deworming.$model?(n(),c("small",zo,[g(" Edited as: "),t("span",Ro,u(e(w).deworming),1)])):d("",!0),e(l).deworming.$invalid&&e(F)?(n(),c("small",Bo,u(e(l).deworming.$message),1)):d("",!0)]),e(o).type.$model=="Boy"||e(o).type.$model=="Girl"?(n(),c("div",Io,[To,b(e(A),{disabled:!e(m),modelValue:e(l).vit_a_supplement.$model,"onUpdate:modelValue":i[26]||(i[26]=a=>e(l).vit_a_supplement.$model=a),options:e(X),id:"vit_a_supplement",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).vit_a_supplement&&e(w).vit_a_supplement!=e(l).vit_a_supplement.$model?(n(),c("small",No,[g(" Edited as: "),t("span",Go,u(e(w).vit_a_supplement),1)])):d("",!0),e(l).vit_a_supplement.$invalid&&e(F)?(n(),c("small",Ho,u(e(l).vit_a_supplement.$message),1)):d("",!0)])):d("",!0),t("div",Wo,[jo,b(e(A),{disabled:!e(m),modelValue:e(l).type_of_case.$model,"onUpdate:modelValue":i[27]||(i[27]=a=>e(l).type_of_case.$model=a),options:e(Q),id:"type_of_case",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).type_of_case&&e(w).type_of_case!=e(l).type_of_case.$model?(n(),c("small",Zo,[g(" Edited as: "),t("span",Yo,u(e(w).type_of_case),1)])):d("",!0),e(l).type_of_case.$invalid&&e(F)?(n(),c("small",Ko,u(e(l).type_of_case.$message),1)):d("",!0)]),t("div",Jo,[qo,b(e(A),{disabled:!e(m),modelValue:e(l).criteria_group.$model,"onUpdate:modelValue":i[28]||(i[28]=a=>e(l).criteria_group.$model=a),options:Ke.value,id:"criteria_group",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).criteria_group&&e(w).criteria_group!=e(l).criteria_group.$model?(n(),c("small",Xo,[g(" Edited as: "),t("span",Qo,u(e(w).criteria_group),1)])):d("",!0),e(l).criteria_group.$invalid&&e(F)?(n(),c("small",Po,u(e(l).criteria_group.$message),1)):d("",!0)]),t("div",ei,[ti,b(e(A),{disabled:!e(m),modelValue:e(l).case_category.$model,"onUpdate:modelValue":i[29]||(i[29]=a=>e(l).case_category.$model=a),options:Je.value,id:"case_category",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).case_category&&e(w).case_category!=e(l).case_category.$model?(n(),c("small",ai,[g(" Edited as: "),t("span",si,u(e(w).case_category),1)])):d("",!0),e(l).case_category.$invalid&&e(F)?(n(),c("small",oi,u(e(l).case_category.$message),1)):d("",!0)]),t("div",ii,[li,b(e(A),{disabled:!e(m),modelValue:e(l).admission_criteria.$model,"onUpdate:modelValue":i[30]||(i[30]=a=>e(l).admission_criteria.$model=a),options:E.value,id:"admission_criteria",optionLabel:"name",optionValue:"code"},null,8,["disabled","modelValue","options"]),e(w)&&e(w).admission_criteria&&e(w).admission_criteria!=e(l).admission_criteria.$model?(n(),c("small",ni,[g(" Edited as: "),t("span",di,u(e(w).admission_criteria),1)])):d("",!0),e(l).admission_criteria.$invalid&&e(F)?(n(),c("small",ri,u(e(l).admission_criteria.$message),1)):d("",!0)]),t("div",ci,[_i,b(e(Be),{disabled:!e(m),modelValue:e(l).date_of_admission.$model,"onUpdate:modelValue":i[31]||(i[31]=a=>e(l).date_of_admission.$model=a),id:"date_of_admission",dateFormat:Te},null,8,["disabled","modelValue"]),e(w)&&e(w).date_of_admission&&e(w).date_of_admission!=e(l).date_of_admission.$model?(n(),c("small",ui,[g(" Edited as: "),t("span",mi,u(e(w).date_of_admission),1)])):d("",!0),e(l).date_of_admission.$invalid&&e(F)?(n(),c("small",pi,u(e(l).date_of_admission.$message),1)):d("",!0)]),t("div",hi,[gi,b(e(j),{disabled:!e(m),modelValue:e(l).admitted_year.$model,"onUpdate:modelValue":i[32]||(i[32]=a=>e(l).admitted_year.$model=a),id:"admitted_year"},null,8,["disabled","modelValue"]),e(w)&&e(w).admitted_year&&e(w).admitted_year!=e(l).admitted_year.$model?(n(),c("small",fi,[g(" Edited as: "),t("span",vi,u(e(w).admitted_year),1)])):d("",!0),e(l).admitted_year.$invalid&&e(F)?(n(),c("small",bi,u(e(l).admitted_year.$message),1)):d("",!0)]),t("div",yi,[wi,t("p",ki,u(ae(e(l).admitted_month.$model)),1),e(w)&&e(w).admitted_month&&e(w).admitted_month!=e(l).admitted_month.$model?(n(),c("small",$i,[g(" Edited as: "),t("span",Vi,u(ae(e(w).admitted_month)),1)])):d("",!0),e(l).admitted_month.$invalid&&e(F)?(n(),c("small",xi,u(e(l).admitted_month.$message),1)):d("",!0)])])],32)]),_:1},8,["disabled"]),b(e(Ie),{header:"Follow Up",disabled:e(h).disableFollowUp},{default:T(()=>[b(e(ft),{visible:e(ue),"onUpdate:visible":i[41]||(i[41]=a=>Qt(ue)?ue.value=a:null),position:"right",class:"w-full md:w-30rem",pt:{header:{style:"justify-content: space-between"}}},{header:T(()=>[t("h4",Ci,u(e(Ee)),1)]),default:T(()=>[t("h5",Si,[Di,g(u(e(Ze)(e(l).date_of_admission.$model,new Date().toISOString().split("T")[0]))+" Days",1)]),t("form",{onSubmit:i[40]||(i[40]=ot(a=>e(_e)(!e(O).$invalid),["prevent"]))},[t("div",Ui,[t("div",Oi,[Ei,b(e(Be),{id:"date_of_visit",modelValue:e(O).date_of_visit.$model,"onUpdate:modelValue":i[34]||(i[34]=a=>e(O).date_of_visit.$model=a),minDate:e(Ce),maxDate:e(Se),dateFormat:Te},null,8,["modelValue","minDate","maxDate"]),e(O).date_of_visit.$invalid&&e(W)?(n(),c("small",Fi,u(e(O).date_of_visit.$message),1)):d("",!0)]),t("div",Li,[Ai,ie(b(e(pe),{id:"fu-muac_cm",modelValue:e(O).muac_cm.$model,"onUpdate:modelValue":i[35]||(i[35]=a=>e(O).muac_cm.$model=a),minFractionDigits:2},null,8,["modelValue"]),[[P]]),e(O).muac_cm.$invalid&&e(W)?(n(),c("small",Mi,u(e(O).muac_cm.$message),1)):d("",!0)]),t("div",zi,[Ri,ie(b(e(pe),{id:"fu-weight_kg",modelValue:e(O).weight_kg.$model,"onUpdate:modelValue":i[36]||(i[36]=a=>e(O).weight_kg.$model=a),minFractionDigits:2},null,8,["modelValue"]),[[P]]),e(O).weight_kg.$invalid&&e(W)?(n(),c("small",Bi,u(e(O).weight_kg.$message),1)):d("",!0)]),t("div",Ii,[Ti,b(e(A),{id:"fu-food",modelValue:e(O).food.$model,"onUpdate:modelValue":i[37]||(i[37]=a=>e(O).food.$model=a),class:M({"p-error":e(O).food.$invalid&&e(W)}),options:e(He),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(O).food.$invalid&&e(W)?(n(),c("small",Ni,u(e(O).food.$message),1)):d("",!0)]),e(O).food.$model!="Not Provided"?(n(),c("div",Gi,[Hi,b(e(A),{id:"fu-food",modelValue:e(O).food_kg.$model,"onUpdate:modelValue":i[38]||(i[38]=a=>e(O).food_kg.$model=a),class:M({"p-error":e(O).food_kg.$invalid&&e(W)}),options:e(Ue),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(O).food_kg.$invalid&&e(W)?(n(),c("small",Wi,u(e(O).food_kg.$message),1)):d("",!0)])):d("",!0),t("div",ji,[Zi,b(e(A),{id:"fu-follow_up_result",modelValue:e(O).follow_up_result.$model,"onUpdate:modelValue":i[39]||(i[39]=a=>e(O).follow_up_result.$model=a),class:M(["flex-1",{"p-error":e(O).follow_up_result.$invalid&&e(W)}]),options:e(v),optionLabel:"name",optionValue:"code"},null,8,["modelValue","class","options"]),e(O).follow_up_result.$invalid&&e(W)?(n(),c("small",Yi,u(e(O).follow_up_result.$message),1)):d("",!0)]),Ki,t("div",Ji,[b(e(R),{type:"submit",label:"Save",severity:"primary"})])])],32)]),_:1},8,["visible"]),e(Le)?d("",!0):(n(),c("div",qi,[b(e(R),{icon:"pi pi-plus",label:"Add",onClick:e(Oe),severity:"secondary",text:""},null,8,["onClick"])])),b(e(la),{value:e(De)},{list:T(a=>[t("table",Xi,[t("tr",Qi,[t("td",Pi,[g(" Visit: "+u(a.data.visit)+"   ",1),a.data.status=="Edited"?(n(),I(e(Re),{key:0,value:a.data.status,severity:a.data.status=="Completed"?"info":a.data.status=="Feedback"?"danger":"warning"},null,8,["value","severity"])):d("",!0),t("span",{style:{float:"right"},onClick:Me=>e(We)(a.data.id)},al,8,el),t("span",{style:{float:"right","padding-right":"10px"},onClick:Me=>e(je)(a.data.id)},il,8,sl)])]),t("tr",null,[ll,t("td",nl,[g(u(a.data.date_of_visit)+" ",1),a.data.data&&a.data.data.date_of_visit&&a.data.date_of_visit!=a.data.data.date_of_visit?(n(),c("span",dl,[g(" [ Edited as: "),t("span",rl,u(a.data.data.date_of_visit),1),g(" ] ")])):d("",!0)])]),t("tr",null,[cl,t("td",_l,[g(u(a.data.muac_cm)+" ",1),a.data.data&&a.data.data.muac_cm&&a.data.muac_cm!=a.data.data.muac_cm?(n(),c("span",ul,[g(" [ Edited as: "),t("span",ml,u(a.data.data.muac_cm),1),g(" ] ")])):d("",!0)])]),t("tr",null,[pl,t("td",hl,[g(u(a.data.weight_kg)+" ",1),a.data.data&&a.data.data.weight_kg&&a.data.weight_kg!=a.data.data.weight_kg?(n(),c("span",gl,[g("[ Edited as: "),t("span",fl,u(a.data.data.weight_kg),1),g(" ] ")])):d("",!0)])]),t("tr",null,[vl,t("td",bl,[g(u(a.data.food)+" ",1),a.data.data&&a.data.data.food&&a.data.food!=a.data.data.food?(n(),c("span",yl,[g("[ Edited as: "),t("span",wl,u(a.data.data.food),1),g(" ] ")])):d("",!0)])]),t("tr",null,[kl,t("td",$l,[g(u(a.data.food_kg)+" ",1),a.data.data&&a.data.data.food_kg&&a.data.food_kg!=a.data.data.food_kg?(n(),c("span",Vl,[g("[ Edited as: "),t("span",xl,u(a.data.data.food_kg),1),g(" ] ")])):d("",!0)])]),t("tr",null,[Cl,t("td",{class:M({"p-badge p-component p-badge-success":a.data.follow_up_result=="Complete Follow Up"})},[g(u(a.data.follow_up_result)+" ",1),a.data.data&&a.data.data.follow_up_result&&a.data.follow_up_result!=a.data.data.follow_up_result?(n(),c("span",Sl,[g("[ Edited as: "),t("span",Dl,u(a.data.data.follow_up_result),1),g(" ] ")])):d("",!0)],2)])])]),_:1},8,["value"])]),_:1},8,["disabled"]),b(e(Ie),{header:"Discharge",disabled:e(h).disableDischarge},{default:T(()=>[t("div",Ul,[t("div",Ol,[e(Y)?d("",!0):(n(),I(e(R),{key:0,onClick:i[42]||(i[42]=a=>Y.value=!0),label:"Edit",icon:"pi pi-pencil",severity:"secondary",text:""}))]),t("div",El,[e(Y)?(n(),I(e(R),{key:0,onClick:i[43]||(i[43]=a=>e(xe)()),label:"Save",severity:"primary"})):d("",!0)]),t("div",Fl,[e(Y)?(n(),I(e(R),{key:0,onClick:i[44]||(i[44]=a=>Y.value=!1),type:"button",label:"Cancel",severity:"secondary",text:""})):d("",!0)]),t("div",Ll,[b(e(Re),{value:e(D).status??"Not Discharged Yet",severity:e(D).status=="Completed"?"success":e(D).status=="Feedback"?"danger":"warning"},null,8,["value","severity"])])]),t("div",Al,[t("div",Ml,[zl,b(e(A),{disabled:!e(Y),modelValue:e(D).discharge_status,"onUpdate:modelValue":i[45]||(i[45]=a=>e(D).discharge_status=a),options:e($e),id:"discharge_status",optionLabel:"name",optionValue:"code",onChange:e(L)},null,8,["disabled","modelValue","options","onChange"]),e(x)&&e(x).discharge_status&&e(x).discharge_status!=e(D).discharge_status?(n(),c("small",Rl,[g(" Edited as: "),t("span",Bl,u(e(x).discharge_status),1)])):d("",!0)]),t("div",Il,[Tl,b(e(A),{disabled:!0,modelValue:e(D).discharge_category,"onUpdate:modelValue":i[46]||(i[46]=a=>e(D).discharge_category=a),options:e(Ve),id:"discharge_category",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"]),e(x)&&e(x).discharge_category&&e(x).discharge_category!=e(D).discharge_category?(n(),c("small",Nl,[g(" Edited as: "),t("span",Gl,u(e(x).discharge_category),1)])):d("",!0)]),t("div",Hl,[Wl,b(e(Be),{disabled:!e(Y),modelValue:e(D).date_of_discharge,"onUpdate:modelValue":i[47]||(i[47]=a=>e(D).date_of_discharge=a),id:"date_of_discharge",dateFormat:Te,minDate:new Date,maxDate:new Date},null,8,["disabled","modelValue","minDate","maxDate"]),e(x)&&e(x).date_of_discharge&&e(x).date_of_discharge!=e(D).date_of_discharge?(n(),c("small",jl,[g(" Edited as: "),t("span",Zl,u(e(x).date_of_discharge),1)])):d("",!0)]),t("div",Yl,[Kl,b(e(j),{disabled:"true",modelValue:e(D).discharge_year,"onUpdate:modelValue":i[48]||(i[48]=a=>e(D).discharge_year=a),id:"discharge_year"},null,8,["modelValue"]),e(x)&&e(x).discharge_year&&e(x).discharge_year!=e(D).discharge_year?(n(),c("small",Jl,[g(" Edited as: "),t("span",ql,u(e(x).discharge_year),1)])):d("",!0)]),t("div",Xl,[Ql,t("p",Pl,u(ae(e(D).discharge_month)),1),e(x)&&e(x).discharge_month&&e(x).discharge_month!=e(D).discharge_month?(n(),c("small",en,[g(" Edited as: "),t("span",tn,u(ae(e(x).discharge_month)),1)])):d("",!0)]),t("div",an,[sn,b(e(j),{disabled:"true",type:"number",modelValue:e(D).discharge_muac_cm,"onUpdate:modelValue":i[49]||(i[49]=a=>e(D).discharge_muac_cm=a),id:"discharge_muac_cm"},null,8,["modelValue"]),e(x)&&e(x).discharge_month&&e(x).discharge_month!=e(D).discharge_month?(n(),c("small",on,[g(" Edited as: "),t("span",ln,u(e(x).discharge_month),1)])):d("",!0)]),t("div",nn,[dn,b(e(j),{type:"number",modelValue:e(D).discharge_weight_kg,"onUpdate:modelValue":i[50]||(i[50]=a=>e(D).discharge_weight_kg=a),id:"discharge_weight_kg",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).discharge_weight_kg&&e(x).discharge_weight_kg!=e(D).discharge_weight_kg?(n(),c("small",rn,[g(" Edited as: "),t("span",cn,u(e(x).discharge_weight_kg),1)])):d("",!0)]),t("div",_n,[un,b(e(j),{type:"number",modelValue:e(D).discharge_height_cm,"onUpdate:modelValue":i[51]||(i[51]=a=>e(D).discharge_height_cm=a),id:"discharge_height_cm",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).discharge_height_cm&&e(x).discharge_height_cm!=e(D).discharge_height_cm?(n(),c("small",mn,[g(" Edited as: "),t("span",pn,u(e(x).discharge_height_cm),1)])):d("",!0)]),t("div",hn,[gn,b(e(j),{type:"text",modelValue:e(D).discharge_wfh_zscore,"onUpdate:modelValue":i[52]||(i[52]=a=>e(D).discharge_wfh_zscore=a),id:"discharge_wfh_zscore",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).discharge_wfh_zscore&&e(x).discharge_wfh_zscore!=e(D).discharge_wfh_zscore?(n(),c("small",fn,[g(" Edited as: "),t("span",vn,u(e(x).discharge_wfh_zscore),1)])):d("",!0)]),t("div",bn,[yn,b(e(j),{type:"number",modelValue:e(D).length_of_stay,"onUpdate:modelValue":i[53]||(i[53]=a=>e(D).length_of_stay=a),id:"length_of_stay",disabled:"true"},null,8,["modelValue"]),e(x)&&e(x).length_of_stay&&e(x).length_of_stay!=e(D).length_of_stay?(n(),c("small",wn,[g(" Edited as: "),t("span",kn,u(e(x).length_of_stay),1)])):d("",!0)])])]),_:1},8,["disabled"])]),_:1}),e(S)?(n(),I(oa,{key:0})):d("",!0)]),b(e(na),null,{message:T(a=>[t("div",$n,[t("i",{class:M([a.message.icon,"mt-2 text-red-500 text-5xl"])},null,2),t("div",Vn,u(a.message.message),1)])]),_:1}),b(e(sa),{closable:!1,visible:ne.value,modal:"",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},header:"Transfer case to:"},{footer:T(()=>[b(e(R),{label:"Cancel",icon:"pi pi-times",onClick:i[55]||(i[55]=a=>ne.value=!1),text:""}),b(e(R),{label:"Transfer",icon:"pi pi-check",onClick:e(Ye),autofocus:""},null,8,["onClick"])]),default:T(()=>[t("div",xn,[b(e(A),{id:"transfer_to",modelValue:e(Fe).user_id,"onUpdate:modelValue":i[54]||(i[54]=a=>e(Fe).user_id=a),options:e(k),optionLabel:"full_name",optionValue:"id",class:"w-full",filter:""},null,8,["modelValue","options"])])]),_:1},8,["visible"])],64)}}},jn=Xt(Sn,[["__scopeId","data-v-6c6a6d05"]]);export{jn as default};
